{"ast":null,"code":"var Gt = Object.defineProperty;\nvar Zt = (r, t, e) => t in r ? Gt(r, t, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: e\n}) : r[t] = e;\nvar P = (r, t, e) => Zt(r, typeof t != \"symbol\" ? t + \"\" : t, e);\nfunction gt(r, t) {\n  if (r.size !== t.size) return !1;\n  for (let [e, i] of r) if (!t.has(e) || t.get(e) !== i) return !1;\n  return !0;\n}\nlet Jt = 0;\nfunction Qt() {\n  return Jt++ + \"\";\n}\nvar te = Object.defineProperty,\n  ee = (r, t, e) => t in r ? te(r, t, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: e\n  }) : r[t] = e,\n  o = (r, t, e) => ee(r, typeof t != \"symbol\" ? t + \"\" : t, e);\nclass ot {\n  constructor(t) {\n    o(this, \"x\"), o(this, \"y\"), o(this, \"target\"), this.x = t.x, this.y = t.y, this.target = t.target;\n  }\n}\nclass ft extends ot {}\nclass lt extends ot {}\nclass ht extends ot {}\nclass ut extends ot {}\nclass $t {\n  constructor(t) {\n    o(this, \"pluginId\"), o(this, \"pluginName\"), o(this, \"viewName\"), o(this, \"dataName\"), o(this, \"dataValue\"), this.event = t, this.pluginId = t.pluginId, this.pluginName = t.pluginName, this.viewName = t.viewName, this.dataName = t.dataName, this.dataValue = t.dataValue;\n  }\n}\nfunction ie(r) {\n  return r.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (t, e) {\n    return e === 0 ? t.toLowerCase() : t.toUpperCase();\n  }).replace(/\\s+/g, \"\").replace(/-+/g, \"\");\n}\nfunction Lt(r) {\n  return r.split(\"\").map((t, e) => t.toUpperCase() === t ? `${e !== 0 ? \"-\" : \"\"}${t.toLowerCase()}` : t).join(\"\");\n}\nclass st {\n  constructor(t) {\n    o(this, \"node\"), this.node = t.node;\n  }\n}\nclass pt {\n  constructor(t) {\n    o(this, \"node\"), this.node = t.node;\n  }\n}\nclass se {\n  constructor(t) {\n    o(this, \"_eventBus\"), o(this, \"_observer\"), this._eventBus = t, this._observer = new MutationObserver(this._handler.bind(this)), this._observer.observe(document.body, {\n      childList: !0,\n      subtree: !0,\n      attributes: !0,\n      attributeOldValue: !0\n    });\n  }\n  _handler(t) {\n    t.forEach(e => {\n      e.addedNodes.forEach(s => {\n        if (!(s instanceof HTMLElement) || s.dataset.velViewId || s.parentElement && typeof s.parentElement.dataset.velAdded < \"u\") return;\n        let n = s;\n        if (s.dataset.velView || (n = s.querySelector(\"[data-vel-view][data-vel-plugin]\")), !n) return;\n        this._eventBus.emitEvent(st, {\n          node: n\n        });\n        const a = n.querySelectorAll(\"[data-vel-plugin]\");\n        a.length && a.forEach(l => {\n          this._eventBus.emitEvent(st, {\n            node: l\n          });\n        });\n      }), e.removedNodes.forEach(s => {\n        if (!(s instanceof HTMLElement) || typeof s.dataset.velProcessing < \"u\") return;\n        const n = s.querySelectorAll(\"[data-vel-plugin]\");\n        n.length && n.forEach(a => {\n          this._eventBus.emitEvent(pt, {\n            node: a\n          });\n        }), this._eventBus.emitEvent(pt, {\n          node: s\n        });\n      });\n      const i = e.attributeName;\n      if (i === \"data-vel-view\" && this._eventBus.emitEvent(st, {\n        node: e.target\n      }), i && /data-vel-data-.+/gi.test(i)) {\n        const s = e.target,\n          n = s.dataset.velPluginId || \"\",\n          a = s.dataset.velPlugin || \"\",\n          l = s.dataset.velView || \"\",\n          h = s.getAttribute(i);\n        if (h && h !== e.oldValue) {\n          const g = ie(i.replace(\"data-vel-data-\", \"\"));\n          this._eventBus.emitEvent($t, {\n            pluginId: n,\n            pluginName: a,\n            viewName: l,\n            dataName: g,\n            dataValue: h\n          });\n        }\n      }\n    });\n  }\n}\nclass ne {\n  execute(t) {\n    this.call(t);\n  }\n}\nclass It extends ne {\n  constructor(t) {\n    super(), o(this, \"_handler\"), this._handler = t;\n  }\n  getHandler() {\n    return this._handler;\n  }\n  call(t) {\n    this._handler(t);\n  }\n}\nclass _t {\n  constructor() {\n    o(this, \"_listeners\", /* @__PURE__ */new Map()), o(this, \"_keyedListeners\", /* @__PURE__ */new Map());\n  }\n  subscribeToEvent(t, e, i) {\n    if (i) {\n      this._subscribeToKeyedEvent(t, e, i);\n      return;\n    }\n    let s = this._listeners.get(t);\n    s || (s = [], this._listeners.set(t, s)), s.push(new It(e));\n  }\n  removeEventListener(t, e, i) {\n    if (i) {\n      this._removeKeyedEventListener(t, e, i);\n      return;\n    }\n    let s = this._listeners.get(t);\n    s && (s = s.filter(n => n.getHandler() !== e), this._listeners.set(t, s));\n  }\n  _subscribeToKeyedEvent(t, e, i) {\n    let s = this._keyedListeners.get(t);\n    s || (s = /* @__PURE__ */new Map(), this._keyedListeners.set(t, s));\n    let n = s.get(i);\n    n || (n = [], s.set(i, n)), n.push(new It(e));\n  }\n  _removeKeyedEventListener(t, e, i) {\n    let s = this._keyedListeners.get(t);\n    if (!s) return;\n    let n = s.get(i);\n    n && (n = n.filter(a => a.getHandler() !== e), s.set(i, n));\n  }\n  emitEvent(t, e, i) {\n    if (i) {\n      this._emitKeyedEvent(t, e, i);\n      return;\n    }\n    const s = this._listeners.get(t);\n    s && s.forEach(n => {\n      n.execute(e);\n    });\n  }\n  _emitKeyedEvent(t, e, i) {\n    const s = this._keyedListeners.get(t);\n    if (!s) return;\n    const n = s.get(i);\n    n && n.forEach(a => {\n      a.execute(e);\n    });\n  }\n  _convertListener(t) {\n    return e => t(e);\n  }\n  subscribeToPluginReadyEvent(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    if (i) {\n      this.subscribeToEvent(Dt, this._convertListener(t), e);\n      return;\n    }\n    this.subscribeToEvent(zt, this._convertListener(t), e);\n  }\n  emitPluginReadyEvent(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    if (i) {\n      this.emitEvent(Dt, e, t);\n      return;\n    }\n    this.emitEvent(zt, e, t);\n  }\n  reset() {\n    this._listeners.clear();\n  }\n}\nlet re = 0;\nfunction Wt() {\n  return re++ + \"\";\n}\nclass qt {\n  constructor(t, e, i, s, n, a, l) {\n    o(this, \"_registry\"), o(this, \"_eventBus\"), o(this, \"_appEventBus\"), o(this, \"_internalEventBus\"), o(this, \"_initialized\", !1), o(this, \"_config\"), o(this, \"_pluginFactory\"), o(this, \"_pluginName\"), o(this, \"_id\"), o(this, \"_pluginKey\"), o(this, \"_layoutIdViewMapWaitingToEnter\"), o(this, \"_apiData\"), o(this, \"_isReady\", !1), this._id = Wt(), this._pluginFactory = t, this._pluginName = e, this._registry = i, this._eventBus = s, this._appEventBus = n, this._internalEventBus = new _t(), this._config = a, this._layoutIdViewMapWaitingToEnter = /* @__PURE__ */new Map(), this._pluginKey = l, this._apiData = {}, this._appEventBus.subscribeToPluginReadyEvent(() => {\n      this._isReady = !0;\n    }, this._pluginName, !0);\n  }\n  get api() {\n    return this._apiData;\n  }\n  _setApi(t) {\n    this._apiData = t;\n  }\n  get pluginName() {\n    return this._pluginName;\n  }\n  get pluginFactory() {\n    return this._pluginFactory;\n  }\n  get pluginKey() {\n    return this._pluginKey;\n  }\n  get id() {\n    return this._id;\n  }\n  get config() {\n    return {\n      ...this._config\n    };\n  }\n  getViews(t) {\n    return t ? this._registry.getViewsByNameForPlugin(this, t) : this._registry.getViewsForPlugin(this);\n  }\n  getView(t) {\n    return t ? this._registry.getViewsByNameForPlugin(this, t)[0] : this._registry.getViewsForPlugin(this)[0];\n  }\n  getViewById(t) {\n    return this._registry.getViewById(t);\n  }\n  addView(t) {\n    this._registry.assignViewToPlugin(t, this);\n  }\n  setInternalEventBus(t) {\n    this._internalEventBus = t;\n  }\n  get internalBusEvent() {\n    return this._internalEventBus;\n  }\n  emit(t, e) {\n    this._internalEventBus.emitEvent(t, e, this.pluginKey);\n  }\n  on(t, e) {\n    this._internalEventBus.subscribeToEvent(t, e, this.pluginKey);\n  }\n  removeListener(t, e) {\n    this._internalEventBus.removeEventListener(t, e);\n  }\n  useEventPlugin(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const i = this._registry.createPlugin(t, this._eventBus, e);\n    return this._registry.associateEventPluginWithPlugin(this.id, i.id), i;\n  }\n  notifyAboutDataChanged(t) {\n    this.onDataChanged(t);\n  }\n  // @ts-ignore\n  onDataChanged(t) {}\n  removeView(t) {\n    t.onRemoveCallback ? this._invokeRemoveCallback(t) : this._deleteView(t), t.removeListeners(), this.onViewRemoved(t);\n  }\n  _invokeRemoveCallback(t) {\n    const e = this._createTemporaryView(t);\n    requestAnimationFrame(() => {\n      var i;\n      (i = e.onRemoveCallback) == null || i.call(e, e, () => {\n        var s, n;\n        if ((s = t.onAddCallbacks) != null && s.afterRemoved && t.layoutId) {\n          const a = this._layoutIdViewMapWaitingToEnter.get(t.layoutId);\n          (n = a == null ? void 0 : a.onAddCallbacks) == null || n.afterEnter(a), this._layoutIdViewMapWaitingToEnter.delete(t.layoutId);\n        }\n        this._deleteView(e, !0), t.removeListeners();\n      }), setTimeout(() => {\n        e.element.parentElement && (this._deleteView(e, !0), t.removeListeners());\n      }, 1e4);\n    });\n  }\n  _deleteView(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    (e || !t.layoutId) && (this._registry.removeViewById(t.id, this.id), t.element.remove(), t.destroy());\n  }\n  // This is a temporary view for deleted view. We need to create it\n  // to show it again so the user can animate it before it disappears.\n  _createTemporaryView(t) {\n    const e = t.previousRect.viewportOffset,\n      i = t.previousRect.size,\n      s = t.rotation.degrees < 0 ? 0 : Math.sin(t.rotation.radians) * i.height * t.scale.y,\n      n = t.rotation.degrees > 0 ? 0 : Math.sin(t.rotation.radians) * i.width * t.scale.y,\n      a = t.element.cloneNode(!0);\n    t.element.remove(), a.style.cssText = \"\", a.style.position = \"absolute\", a.style.left = `${e.left + s}px`, a.style.top = `${e.top - n}px`, a.style.width = `${i.width}px`, a.style.height = `${i.height}px`, a.style.transform = `\n      scale3d(${t.scale.x}, ${t.scale.y}, 1) rotate(${t.rotation.degrees}deg)\n    `, a.style.pointerEvents = \"none\", a.dataset.velRemoved = \"\", document.body.appendChild(a);\n    const l = this._registry.createView(a, t.name);\n    return l.setAsTemporaryView(), l.styles.position = \"absolute\", l.styles.left = `${e.left + s}px`, l.styles.top = `${e.top - n}px`, l.rotation.setDegrees(t.rotation.degrees, !1), l.scale.set({\n      x: t.scale.x,\n      y: t.scale.y\n    }, !1), l.size.set({\n      width: t._localWidth,\n      height: t._localHeight\n    }, !1), t._copyAnimatorsToAnotherView(l), t.onRemoveCallback && l.onRemove(t.onRemoveCallback), l;\n  }\n  // @ts-ignore\n  onViewRemoved(t) {}\n  notifyAboutViewAdded(t) {\n    this.onViewAdded(t), this._invokeAddCallbacks(t);\n  }\n  _invokeAddCallbacks(t) {\n    var e, i, s;\n    !((e = t.onAddCallbacks) != null && e.onInitialLoad) && !this._initialized || ((i = t.onAddCallbacks) == null || i.beforeEnter(t), !((s = t.onAddCallbacks) != null && s.afterRemoved) || !this._initialized ? requestAnimationFrame(() => {\n      var n;\n      (n = t.onAddCallbacks) == null || n.afterEnter(t);\n    }) : t.layoutId && this._layoutIdViewMapWaitingToEnter.set(t.layoutId, t));\n  }\n  // @ts-ignore\n  onViewAdded(t) {}\n  init() {\n    !this._initialized && this._isReady && (this.setup(), this._initialized = !0);\n  }\n  setup() {}\n  // @ts-ignore\n  subscribeToEvents(t) {}\n}\nclass ae extends qt {\n  isRenderable() {\n    return !0;\n  }\n  isInitialized() {\n    return this._initialized;\n  }\n  get initialized() {\n    return this._initialized;\n  }\n  // @ts-ignore\n  update(t, e) {}\n  render() {}\n  addView(t) {\n    t.setPluginId(this.id), super.addView(t);\n  }\n}\nclass wt extends qt {\n  isRenderable() {\n    return !1;\n  }\n}\nclass oe {\n  constructor(t) {\n    o(this, \"_plugin\"), this._plugin = t;\n  }\n  get initialized() {\n    return this._plugin.isInitialized();\n  }\n  get config() {\n    return this._plugin.config;\n  }\n  setup(t) {\n    this._plugin.setup = t;\n  }\n  api(t) {\n    this._plugin._setApi(t);\n  }\n  update(t) {\n    this._plugin.update = t;\n  }\n  render(t) {\n    this._plugin.render = t;\n  }\n  getViews(t) {\n    return this._plugin.getViews(t);\n  }\n  getView(t) {\n    return this._plugin.getView(t);\n  }\n  getViewById(t) {\n    return this._plugin.getViewById(t);\n  }\n  useEventPlugin(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this._plugin.useEventPlugin(t, e);\n  }\n  emit(t, e) {\n    this._plugin.emit(t, e);\n  }\n  on(t, e) {\n    this._plugin.on(t, e);\n  }\n  onDataChanged(t) {\n    this._plugin.onDataChanged = t;\n  }\n  onViewRemoved(t) {\n    this._plugin.onViewRemoved = t;\n  }\n  onViewAdded(t) {\n    this._plugin.onViewAdded = t;\n  }\n  subscribeToEvents(t) {\n    this._plugin.subscribeToEvents = t;\n  }\n}\nfunction dt(r, t, e, i, s, n) {\n  if (le(r)) return new r(r, r.pluginName, t, e, i, s, n);\n  const a = new ae(r, r.pluginName, t, e, i, s, n),\n    l = new oe(a);\n  return r(l), a;\n}\nfunction le(r) {\n  var t;\n  return ((t = r.prototype) == null ? void 0 : t.constructor.toString().indexOf(\"class \")) === 0;\n}\nclass u {\n  constructor(t, e) {\n    o(this, \"x\"), o(this, \"y\"), this.x = t, this.y = e;\n  }\n  get magnitudeSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n  get magnitude() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n  get unitVector() {\n    const t = new u(0, 0),\n      e = this.magnitude;\n    return e !== 0 && (t.x = this.x / e, t.y = this.y / e), t;\n  }\n  add(t) {\n    this.x += t.x, this.y += t.y;\n  }\n  sub(t) {\n    this.x -= t.x, this.y -= t.y;\n  }\n  scale(t) {\n    this.x *= t, this.y *= t;\n  }\n  dot(t) {\n    return this.x * t.x + this.y * t.y;\n  }\n  equals(t) {\n    return this.x === t.x && this.y === t.y;\n  }\n  clone() {\n    return new u(this.x, this.y);\n  }\n  static scale(t, e) {\n    return new u(t.x * e, t.y * e);\n  }\n  static sub(t, e) {\n    return new u(t.x - e.x, t.y - e.y);\n  }\n  static add(t, e) {\n    return new u(t.x + e.x, t.y + e.y);\n  }\n}\nclass he {\n  constructor(t) {\n    o(this, \"_element\"), o(this, \"_callback\"), o(this, \"_windowScrollHandler\"), o(this, \"_windowResizeHandler\"), o(this, \"_parentElementScrollHandler\"), this._element = t, this._observe();\n  }\n  setElement(t) {\n    this._element = t, this._observe();\n  }\n  _observe() {\n    var t;\n    const e = new MutationObserver(() => {\n        var n;\n        (n = this._callback) == null || n.call(this, !1);\n      }),\n      i = {\n        attributes: !0,\n        childList: !0,\n        attributeOldValue: !0\n      };\n    e.observe(this._element, i), new ResizeObserver(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }).observe(this._element);\n    function s(n, a) {\n      let l,\n        h = !0;\n      return function () {\n        h && (n(), h = !1), clearTimeout(l), l = setTimeout(() => {\n          n(), h = !0;\n        }, a);\n      };\n    }\n    this._parentElementScrollHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), (t = this._element.parentElement) == null || t.addEventListener(\"scroll\", this._parentElementScrollHandler), this._windowScrollHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), window.addEventListener(\"scroll\", this._windowScrollHandler), this._windowResizeHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), window.addEventListener(\"resize\", this._windowResizeHandler);\n  }\n  onChange(t) {\n    this._callback = t;\n  }\n  destroy() {\n    var t;\n    this._parentElementScrollHandler && ((t = this._element.parentElement) == null || t.removeEventListener(\"scroll\", this._parentElementScrollHandler)), this._windowScrollHandler && window.removeEventListener(\"scroll\", this._windowScrollHandler), this._windowResizeHandler && window.removeEventListener(\"resize\", this._windowResizeHandler);\n  }\n}\nfunction ue(r) {\n  return new he(r);\n}\nfunction ce(r, t) {\n  const e = t.x - r.x,\n    i = t.y - r.y;\n  return Math.sqrt(e * e + i * i);\n}\nfunction _(r, t) {\n  const e = r - t;\n  return Math.abs(e) <= 0.01;\n}\nfunction E(r) {\n  let t = r.match(/^([\\d.]+)([a-zA-Z%]*)$/);\n  t || (t = \"0px\".match(/^([\\d.]+)([a-zA-Z%]*)$/));\n  const e = parseFloat(t[1]),\n    i = t[2];\n  return {\n    value: e,\n    unit: i,\n    valueWithUnit: r\n  };\n}\nfunction de(r, t) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  if (r === t) return !0;\n  if (r.length !== t.length) return !1;\n  for (let i = 0; i < r.length; i++) if (e && !_(r[i].value, t[i].value) || r[i].value !== t[i].value) return !1;\n  return !0;\n}\nfunction Mt(r, t) {\n  return de(r, t, !0);\n}\nclass G {\n  constructor(t, e, i, s) {\n    o(this, \"_topLeft\"), o(this, \"_topRight\"), o(this, \"_bottomLeft\"), o(this, \"_bottomRight\"), this._topLeft = t, this._topRight = e, this._bottomLeft = i, this._bottomRight = s;\n  }\n  get value() {\n    return {\n      topLeft: this._topLeft,\n      topRight: this._topRight,\n      bottomRight: this._bottomRight,\n      bottomLeft: this._bottomLeft\n    };\n  }\n  equals(t) {\n    return _(this.value.topLeft.value, t.value.topLeft.value) && _(this.value.topRight.value, t.value.topRight.value) && _(this.value.bottomRight.value, t.value.bottomRight.value) && _(this.value.bottomLeft.value, t.value.bottomLeft.value);\n  }\n  toCssPercentageForNewSize(t) {\n    const e = this._convertToPercentage(this._topLeft, t),\n      i = this._convertToPercentage(this._topRight, t),\n      s = this._convertToPercentage(this._bottomLeft, t),\n      n = this._convertToPercentage(this._bottomRight, t);\n    return `${e.h} ${i.h} ${n.h} ${s.h} / ${e.v} ${i.v} ${n.v} ${s.v}`;\n  }\n  _convertToPercentage(t, e) {\n    if (t.unit === \"%\") return {\n      h: `${t.value}%`,\n      v: `${t.value}%`\n    };\n    const i = t.value / e.width * 100,\n      s = t.value / e.height * 100;\n    return {\n      h: `${i}%`,\n      v: `${s}%`\n    };\n  }\n}\nfunction mt(r) {\n  const t = r.split(\" \").map(i => E(i)),\n    e = {\n      value: 0,\n      unit: \"\",\n      valueWithUnit: \"0\"\n    };\n  switch (t.length) {\n    case 1:\n      return new G(t[0], t[0], t[0], t[0]);\n    case 2:\n      return new G(t[0], t[1], t[0], t[1]);\n    case 3:\n      return new G(t[0], t[1], t[2], t[1]);\n    case 4:\n      return new G(t[0], t[1], t[3], t[2]);\n    default:\n      return new G(e, e, e, e);\n  }\n}\nfunction ge(r, t) {\n  const e = a(r.topLeft, t),\n    i = a(r.topRight, t),\n    s = a(r.bottomLeft, t),\n    n = a(r.bottomRight, t);\n  return {\n    v: {\n      topLeft: e.v,\n      topRight: i.v,\n      bottomRight: n.v,\n      bottomLeft: s.v\n    },\n    h: {\n      topLeft: e.h,\n      topRight: i.h,\n      bottomRight: n.h,\n      bottomLeft: s.h\n    }\n  };\n  function a(l, h) {\n    if (l.unit === \"%\") return {\n      h: E(`${l.value}%`),\n      v: E(`${l.value}%`)\n    };\n    const g = l.value / h.width * 100,\n      c = l.value / h.height * 100;\n    return {\n      h: E(`${g}%`),\n      v: E(`${c}%`)\n    };\n  }\n}\nfunction Nt(r, t) {\n  return _(r.topLeft.value, t.topLeft.value) && _(r.topRight.value, t.topRight.value) && _(r.bottomRight.value, t.bottomRight.value) && _(r.bottomLeft.value, t.bottomLeft.value);\n}\nclass pe {\n  constructor(t) {\n    o(this, \"_value\"), this._value = t;\n  }\n  get value() {\n    return this._value;\n  }\n  equals(t) {\n    return _(this.value, t.value);\n  }\n}\nfunction _e(r) {\n  return new pe(parseFloat(r));\n}\nclass me {\n  constructor(t, e) {\n    o(this, \"_x\"), o(this, \"_y\"), this._x = t, this._y = e;\n  }\n  get value() {\n    return new u(this._x, this._y);\n  }\n}\nfunction ve(r, t) {\n  const [e, i] = r.split(\" \"),\n    s = E(e),\n    n = E(i);\n  return new me(s.value / t.width, n.value / t.height);\n}\nfunction Bt(r, t) {\n  const e = fe(r),\n    i = r.offsetWidth,\n    s = r.offsetHeight;\n  return {\n    viewportOffset: {\n      left: Math.round(e.left),\n      top: Math.round(e.top),\n      right: Math.round(e.right),\n      bottom: Math.round(e.bottom)\n    },\n    pageOffset: t.read({\n      width: i,\n      height: s\n    }),\n    size: {\n      width: i,\n      height: s\n    }\n  };\n}\nfunction fe(r) {\n  const t = r.getBoundingClientRect();\n  return {\n    left: t.left,\n    top: t.top,\n    right: t.right,\n    bottom: t.bottom,\n    width: t.width,\n    height: t.height\n  };\n}\nfunction Ft(r) {\n  let t = r,\n    e = 0,\n    i = 0;\n  for (; t;) e += t.offsetTop, i += t.offsetLeft, t = t.offsetParent;\n  return {\n    top: e,\n    left: i\n  };\n}\nclass we {\n  constructor(t) {\n    o(this, \"_currentPageRect\"), o(this, \"_view\"), o(this, \"_element\"), o(this, \"_offsetLeft\"), o(this, \"_offsetTop\"), o(this, \"_width\"), o(this, \"_height\"), o(this, \"_parentWidth\"), o(this, \"_parentHeight\"), o(this, \"_parentEl\"), o(this, \"_isSvg\"), o(this, \"_invalid\"), o(this, \"_windowResizeHandler\"), this._invalid = !0, this._view = t, this._element = t.element, this._isSvg = !!this._element.closest(\"svg\"), this._offsetLeft = 0, this._offsetTop = 0, this._width = 0, this._height = 0, this._parentWidth = 0, this._parentHeight = 0, this._offsetLeft = 0, this._parentEl = this._element.parentElement, this._windowResizeHandler = () => {\n      this.invalidate();\n    }, window.addEventListener(\"resize\", this._windowResizeHandler);\n  }\n  destroy() {\n    this._windowResizeHandler && window.removeEventListener(\"resize\", this._windowResizeHandler);\n  }\n  invalidate() {\n    this._invalid = !0;\n  }\n  read(t) {\n    if (this._isSvg) return this._currentPageRect || (this._currentPageRect = Ft(this._element)), this._currentPageRect;\n    const e = this._element.parentElement,\n      i = this._element.offsetLeft,\n      s = this._element.offsetTop,\n      n = t.width,\n      a = t.height,\n      l = (e == null ? void 0 : e.offsetWidth) || 0,\n      h = (e == null ? void 0 : e.offsetHeight) || 0;\n    return (this._offsetLeft !== i || this._offsetTop !== s || !_(this._width, n) || !_(this._height, a)) && this._view._children.forEach(g => g.elementReader.invalidatePageRect()), !this._invalid && this._currentPageRect && this._offsetLeft === i && this._offsetTop === s && _(this._width, n) && _(this._height, a) && _(this._parentWidth, l) && _(this._parentHeight, h) && this._parentEl === e ? this._currentPageRect : (this._offsetLeft = i, this._offsetTop = s, this._width = n, this._height = a, this._parentWidth = l, this._parentHeight = h, this._parentEl = e, this._currentPageRect = Ft(this._element), this._invalid = !1, this._currentPageRect);\n  }\n}\nfunction ye(r) {\n  return new we(r);\n}\nclass Ve {\n  constructor(t) {\n    o(this, \"_element\"), o(this, \"_rect\"), o(this, \"_computedStyle\"), o(this, \"_pageRectReader\"), o(this, \"_scroll\"), this._element = t.element, this._pageRectReader = ye(t), this._rect = Bt(this._element, this._pageRectReader), this._computedStyle = getComputedStyle(this._element), this._scroll = this._calculateScroll();\n  }\n  destroy() {\n    this._pageRectReader.destroy();\n  }\n  invalidatePageRect() {\n    this._pageRectReader.invalidate();\n  }\n  update() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    this._rect = Bt(this._element, this._pageRectReader), this._computedStyle = getComputedStyle(this._element), t && (this._scroll = this._calculateScroll());\n  }\n  get rect() {\n    return this._rect;\n  }\n  get opacity() {\n    return _e(this._computedStyle.opacity);\n  }\n  get borderRadius() {\n    return mt(this._computedStyle.borderRadius);\n  }\n  get origin() {\n    return ve(this._computedStyle.transformOrigin, this._rect.size);\n  }\n  _calculateScroll() {\n    let t = this._element,\n      e = 0,\n      i = 0;\n    for (; t;) e += t.scrollTop, i += t.scrollLeft, t = t.offsetParent;\n    return i += window.scrollX, e += window.scrollY, {\n      y: e,\n      x: i\n    };\n  }\n  get scroll() {\n    return this._scroll;\n  }\n}\nfunction kt(r) {\n  return new Ve(r);\n}\nfunction vt(r, t) {\n  const e = {\n    set: (i, s, n) => (typeof i[s] == \"object\" && i[s] !== null ? i[s] = vt(n, t) : (t(), i[s] = n), !0),\n    get: (i, s) => typeof i[s] == \"object\" && i[s] !== null ? vt(i[s], t) : i[s]\n  };\n  return new Proxy(r, e);\n}\nconst rt = 0.01,\n  yt = {\n    speed: 15\n  };\nclass Vt {\n  constructor(t) {\n    o(this, \"name\", \"dynamic\"), o(this, \"_config\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n}\nclass be extends Vt {\n  update(_ref) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref;\n    const n = u.sub(i, e),\n      a = u.scale(n, this._config.speed);\n    let l = u.add(e, u.scale(a, s));\n    return this._shouldFinish(i, e, a) && (l = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), t.callUpdateCallback(), l;\n  }\n  _shouldFinish(t, e, i) {\n    return u.sub(t, e).magnitude < rt && i.magnitude < rt;\n  }\n}\nclass Pe extends Vt {\n  update(_ref2) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref2;\n    const n = (i - e) * this._config.speed;\n    let a = e + n * s;\n    return _(a, i) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), t.callUpdateCallback(), a;\n  }\n}\nclass Ee extends Vt {\n  update(_ref3) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref3;\n    return i.map((n, a) => {\n      const l = e[a],\n        h = n.value === 0 ? l.unit : n.unit,\n        g = (n.value - l.value) * this._config.speed,\n        c = l.value + g * s;\n      let p = E(`${c}${h}`);\n      return this._shouldFinish(n.value, l.value, g) && (p = n, requestAnimationFrame(() => {\n        t.callCompleteCallback();\n      })), t.callUpdateCallback(), p;\n    });\n  }\n  _shouldFinish(t, e, i) {\n    return Math.abs(t - e) < rt && Math.abs(i) < rt;\n  }\n}\nclass bt {\n  constructor() {\n    o(this, \"name\", \"instant\"), o(this, \"_config\", {});\n  }\n  get config() {\n    return this._config;\n  }\n  update(t) {\n    return requestAnimationFrame(() => {\n      t.animatorProp.callCompleteCallback();\n    }), t.target;\n  }\n}\nconst Pt = {\n    stiffness: 0.5,\n    damping: 0.75,\n    speed: 10\n  },\n  at = 0.01;\nclass Et {\n  constructor(t) {\n    o(this, \"name\", \"spring\"), o(this, \"_config\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n}\nclass Re extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", new u(0, 0));\n  }\n  update(_ref4) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref4;\n    const n = u.scale(u.scale(u.sub(e, i), -1), this._config.stiffness);\n    this._velocity = u.add(this._velocity, n), this._velocity = u.scale(this._velocity, this._config.damping);\n    let a = u.add(e, u.scale(this._velocity, s * this._config.speed));\n    return this._shouldFinish(i, e) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), a;\n  }\n  _shouldFinish(t, e) {\n    return u.sub(t, e).magnitude < at && this._velocity.magnitude < at;\n  }\n}\nclass xe extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", 0);\n  }\n  update(_ref5) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref5;\n    const n = -(e - i) * this._config.stiffness;\n    this._velocity += n, this._velocity *= this._config.damping;\n    let a = e + this._velocity * s * this._config.speed;\n    return _(a, i) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), a;\n  }\n}\nclass Ae extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", 0);\n  }\n  update(_ref6) {\n    let {\n      animatorProp: t,\n      current: e,\n      target: i,\n      dt: s\n    } = _ref6;\n    return i.map((n, a) => {\n      const l = e[a],\n        h = n.value === 0 ? l.unit : n.unit,\n        g = -(l.value - n.value) * this._config.stiffness;\n      this._velocity += g, this._velocity *= this._config.damping;\n      const c = l.value + this._velocity * s * this._config.speed;\n      let p = E(`${c}${h}`);\n      return this._shouldFinish(n.value, l.value) && (p = n, requestAnimationFrame(() => {\n        t.callCompleteCallback();\n      })), p;\n    });\n  }\n  _shouldFinish(t, e) {\n    return Math.abs(t - e) < at && Math.abs(this._velocity) < at;\n  }\n}\nfunction Te(r) {\n  return r;\n}\nconst Rt = {\n  duration: 350,\n  ease: Te\n};\nclass xt {\n  constructor(t) {\n    o(this, \"name\", \"tween\"), o(this, \"_config\"), o(this, \"_startTime\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n  reset() {\n    this._startTime = void 0;\n  }\n}\nclass Se extends xt {\n  update(_ref7) {\n    let {\n      animatorProp: t,\n      initial: e,\n      target: i,\n      ts: s\n    } = _ref7;\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : u.add(e, u.scale(u.sub(i, e), this._config.ease(n)));\n  }\n}\nclass Ce extends xt {\n  update(_ref8) {\n    let {\n      animatorProp: t,\n      initial: e,\n      target: i,\n      ts: s\n    } = _ref8;\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : e.map((a, l) => {\n      const h = i[l],\n        g = h.value === 0 ? a.unit : h.unit,\n        c = a.value + this._config.ease(n) * (i[l].value - a.value);\n      return E(`${c}${g}`);\n    });\n  }\n}\nclass Le extends xt {\n  update(_ref9) {\n    let {\n      animatorProp: t,\n      initial: e,\n      target: i,\n      ts: s\n    } = _ref9;\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : e + (i - e) * this._config.ease(n);\n  }\n}\nclass At {\n  createAnimatorByName(t, e) {\n    switch (t) {\n      case \"instant\":\n        return this.createInstantAnimator();\n      case \"dynamic\":\n        return this.createDynamicAnimator(e);\n      case \"tween\":\n        return this.createTweenAnimator(e);\n      case \"spring\":\n        return this.createSpringAnimator(e);\n    }\n    return this.createInstantAnimator();\n  }\n}\nclass it extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createTweenAnimator(t) {\n    return new Se({\n      ...Rt,\n      ...t\n    });\n  }\n  createDynamicAnimator(t) {\n    return new be({\n      ...yt,\n      ...t\n    });\n  }\n  createSpringAnimator(t) {\n    return new Re({\n      ...Pt,\n      ...t\n    });\n  }\n}\nclass Ie extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createTweenAnimator(t) {\n    return new Ce({\n      ...Rt,\n      ...t\n    });\n  }\n  createDynamicAnimator(t) {\n    return new Ee({\n      ...yt,\n      ...t\n    });\n  }\n  createSpringAnimator(t) {\n    return new Ae({\n      ...Pt,\n      ...t\n    });\n  }\n}\nclass Ot extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createDynamicAnimator(t) {\n    return new Pe({\n      ...yt,\n      ...t\n    });\n  }\n  createTweenAnimator(t) {\n    return new Le({\n      ...Rt,\n      ...t\n    });\n  }\n  createSpringAnimator(t) {\n    return new xe({\n      ...Pt,\n      ...t\n    });\n  }\n}\nfunction Z(r) {\n  return structuredClone(r);\n}\nclass Me {\n  constructor(t) {\n    o(this, \"_viewProp\"), o(this, \"_completeCallback\"), o(this, \"_updateCallback\"), o(this, \"_isAnimating\"), this._viewProp = t, this._isAnimating = !1;\n  }\n  set(t, e) {\n    this._viewProp.setAnimator(t, e);\n  }\n  get name() {\n    return this._viewProp.getAnimator().name;\n  }\n  onComplete(t) {\n    this._completeCallback = t;\n  }\n  get isAnimating() {\n    return this._isAnimating;\n  }\n  markAsAnimating() {\n    this._isAnimating = !0;\n  }\n  callCompleteCallback() {\n    var t;\n    (t = this._completeCallback) == null || t.call(this), this._isAnimating = !1;\n  }\n  onUpdate(t) {\n    this._updateCallback = t;\n  }\n  callUpdateCallback() {\n    var t;\n    (t = this._updateCallback) == null || t.call(this);\n  }\n}\nclass k {\n  constructor(t, e, i) {\n    o(this, \"_animatorProp\"), o(this, \"_animator\"), o(this, \"_initialValue\"), o(this, \"_previousValue\"), o(this, \"_targetValue\"), o(this, \"_currentValue\"), o(this, \"_hasChanged\"), o(this, \"_view\"), o(this, \"_animatorFactory\"), o(this, \"_previousRenderValue\"), this._animatorProp = new Me(this), this._animatorFactory = t, this._initialValue = Z(e), this._previousValue = Z(e), this._targetValue = Z(e), this._currentValue = Z(e), this._hasChanged = !1, this._previousRenderValue = void 0, this._view = i, this._animator = this._animatorFactory.createInstantAnimator();\n  }\n  get shouldRender() {\n    return !0;\n  }\n  get isAnimating() {\n    return this.animator.isAnimating;\n  }\n  getAnimator() {\n    return this._animator;\n  }\n  get animator() {\n    return this._animatorProp;\n  }\n  get _rect() {\n    return this._view.rect;\n  }\n  get _previousRect() {\n    return this._view.previousRect;\n  }\n  setAnimator(t, e) {\n    this._animator = this._animatorFactory.createAnimatorByName(t, e);\n  }\n  _setTarget(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    var i, s;\n    this._previousValue = Z(this._currentValue), this._targetValue = t, e ? ((s = (i = this._animator).reset) == null || s.call(i), this.animator.markAsAnimating()) : this._currentValue = t, this._hasChanged = !0;\n  }\n  hasChanged() {\n    return this._hasChanged;\n  }\n  destroy() {\n    this._hasChanged = !1;\n  }\n  // @ts-ignore\n  update(t, e) {}\n}\nclass Ne extends k {\n  constructor() {\n    super(...arguments), o(this, \"_invertedBorderRadius\"), o(this, \"_forceStyleUpdateThisFrame\", !1), o(this, \"_updateWithScale\", !1);\n  }\n  setFromElementPropValue(t) {\n    this._setTarget([t.value.topLeft, t.value.topRight, t.value.bottomRight, t.value.bottomLeft], !0);\n  }\n  enableUpdateWithScale() {\n    this._updateWithScale = !0;\n  }\n  disableUpdateWithScale() {\n    this._updateWithScale = !1;\n  }\n  get value() {\n    return {\n      topLeft: this._currentValue[0],\n      topRight: this._currentValue[1],\n      bottomRight: this._currentValue[2],\n      bottomLeft: this._currentValue[3]\n    };\n  }\n  get invertedBorderRadius() {\n    return this._invertedBorderRadius;\n  }\n  set(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    let i;\n    if (typeof t == \"string\") {\n      const h = mt(t.trim());\n      i = {\n        topLeft: h.value.topLeft.valueWithUnit,\n        topRight: h.value.topRight.valueWithUnit,\n        bottomRight: h.value.bottomRight.valueWithUnit,\n        bottomLeft: h.value.bottomLeft.valueWithUnit\n      };\n    } else i = t;\n    const s = i.topLeft ? E(i.topLeft) : this._currentValue[0],\n      n = i.topRight ? E(i.topRight) : this._currentValue[1],\n      a = i.bottomRight ? E(i.bottomRight) : this._currentValue[2],\n      l = i.bottomLeft ? E(i.bottomLeft) : this._currentValue[3];\n    this._setTarget([s, n, a, l], e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(this._initialValue, t);\n  }\n  update(t, e) {\n    if (this._forceStyleUpdateThisFrame) this._hasChanged = !0, this._forceStyleUpdateThisFrame = !1;else if (this._view.scale.isAnimating && this._updateWithScale) this._hasChanged = !0;else if (Mt(this._targetValue, this._currentValue)) {\n      this._hasChanged = !Mt(this._targetValue, this._initialValue);\n      return;\n    }\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }), this._updateWithScale && this._applyScaleInverse();\n  }\n  applyScaleInverse() {\n    this._updateWithScale && (this._forceStyleUpdateThisFrame = !0);\n  }\n  _applyScaleInverse() {\n    if (_(this._view.scale.x, 1) && _(this._view.scale.y, 1)) return;\n    const t = this._rect.size.width * this._view.scale.x,\n      e = this._rect.size.height * this._view.scale.y;\n    this._invertedBorderRadius = ge(mt(`${this._currentValue[0].valueWithUnit} ${this._currentValue[1].valueWithUnit} ${this._currentValue[2].valueWithUnit} ${this._currentValue[3].valueWithUnit}`).value, {\n      width: t,\n      height: e\n    });\n  }\n  get shouldRender() {\n    return this._hasChanged ? this._previousRenderValue ? !(Nt(this.renderValue.v, this._previousRenderValue.v) && Nt(this.renderValue.h, this._previousRenderValue.h)) : !0 : !1;\n  }\n  get renderValue() {\n    return this.invertedBorderRadius ? {\n      v: {\n        topLeft: this.invertedBorderRadius.v.topLeft,\n        topRight: this.invertedBorderRadius.v.topRight,\n        bottomLeft: this.invertedBorderRadius.v.bottomLeft,\n        bottomRight: this.invertedBorderRadius.v.bottomRight\n      },\n      h: {\n        topLeft: this.invertedBorderRadius.h.topLeft,\n        topRight: this.invertedBorderRadius.h.topRight,\n        bottomLeft: this.invertedBorderRadius.h.bottomLeft,\n        bottomRight: this.invertedBorderRadius.h.bottomRight\n      }\n    } : {\n      v: {\n        topLeft: this.value.topLeft,\n        topRight: this.value.topRight,\n        bottomLeft: this.value.bottomLeft,\n        bottomRight: this.value.bottomRight\n      },\n      h: {\n        topLeft: this.value.topLeft,\n        topRight: this.value.topRight,\n        bottomLeft: this.value.bottomLeft,\n        bottomRight: this.value.bottomRight\n      }\n    };\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `border-radius: ${t.h.topLeft.valueWithUnit} ${t.h.topRight.valueWithUnit} ${t.h.bottomRight.valueWithUnit} ${t.h.bottomLeft.valueWithUnit} / ${t.v.topLeft.valueWithUnit} ${t.v.topRight.valueWithUnit} ${t.v.bottomRight.valueWithUnit} ${t.v.bottomLeft.valueWithUnit};`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass Be extends k {\n  setFromElementPropValue(t) {\n    this._setTarget(t.value, !0);\n  }\n  get value() {\n    return this._currentValue;\n  }\n  set(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    this._setTarget(t, e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(1, t);\n  }\n  update(t, e) {\n    if (_(this._targetValue, this._currentValue)) {\n      this._hasChanged = !_(this._targetValue, this._initialValue);\n      return;\n    }\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    });\n  }\n  get shouldRender() {\n    return this._hasChanged ? typeof this._previousRenderValue > \"u\" ? !0 : this.renderValue !== this._previousRenderValue : !1;\n  }\n  get renderValue() {\n    return this.value;\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `opacity: ${t};`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass Fe extends k {\n  get x() {\n    return this._currentValue.x;\n  }\n  get y() {\n    return this._currentValue.y;\n  }\n  set(t) {\n    const e = {\n      x: this.x,\n      y: this.y,\n      ...t\n    };\n    if (e.x < 0 || e.x > 1) {\n      console.log(`%c WARNING: ${this._view.name}.origin.x property can only be a value from 0 to 1`, \"background: #885500\");\n      return;\n    }\n    if (e.y < 0 || e.y > 1) {\n      console.log(`%c WARNING: ${this._view.name}.origin.y property can only be a value from 0 to 1`, \"background: #885500\");\n      return;\n    }\n    this._setTarget(new u(e.x, e.y), !1);\n  }\n  reset() {\n    this._setTarget(this._initialValue, !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged) return !1;\n    if (!this._previousRenderValue) return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    return new u(this.x * 100, this.y * 100);\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `transform-origin: ${t.x}% ${t.y}%;`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass ke extends k {\n  constructor() {\n    super(...arguments), o(this, \"_animateLayoutUpdateNextFrame\", !1), o(this, \"_parentScaleInverse\", new u(1, 1));\n  }\n  get _parentDiff() {\n    let t = this._view._parent,\n      e = 0,\n      i = 0;\n    if (t) {\n      const s = t.rect.pageOffset,\n        n = t.getScroll(),\n        a = {\n          left: t.previousRect.viewportOffset.left + n.x,\n          top: t.previousRect.viewportOffset.top + n.y\n        };\n      e = a.left - s.left, i = a.top - s.top;\n    }\n    return {\n      parentDx: e,\n      parentDy: i\n    };\n  }\n  get x() {\n    return this._currentValue.x + this._rect.pageOffset.left + this._parentDiff.parentDx;\n  }\n  get y() {\n    return this._currentValue.y + this._rect.pageOffset.top + this._parentDiff.parentDy;\n  }\n  get initialX() {\n    return this._rect.pageOffset.left;\n  }\n  get initialY() {\n    return this._rect.pageOffset.top;\n  }\n  progressTo(t) {\n    const e = typeof t.x > \"u\" ? this.initialX : t.x,\n      i = typeof t.y > \"u\" ? this.initialY : t.y,\n      s = new u(e, i),\n      n = new u(this.initialX, this.initialY),\n      a = new u(this.x, this.y),\n      l = u.sub(a, n),\n      h = u.sub(s, n);\n    return 1 - u.sub(h, l).magnitude / h.magnitude;\n  }\n  set(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    const i = {\n      x: this.x,\n      y: this.y,\n      ...t\n    };\n    this._setTarget(new u(i.x - this._rect.pageOffset.left, i.y - this._rect.pageOffset.top), e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(new u(0, 0), t);\n  }\n  update(t, e) {\n    if ((this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && !this._view.isTemporaryView && this._runLayoutTransition(), this._view.isInverseEffectEnabled) {\n      const h = this._view._parent,\n        g = h ? h.scale.x : 1,\n        c = h ? h.scale.y : 1;\n      this._parentScaleInverse = new u(1 / g, 1 / c), this._parentScaleInverse.equals(new u(1, 1)) || (this._hasChanged = !0);\n    }\n    if (this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y) return;\n    const i = this._view._parent,\n      s = i ? i.scale.x : 1,\n      n = i ? i.scale.y : 1,\n      a = i ? i.scale._previousValue.x : 1,\n      l = i ? i.scale._previousValue.y : 1;\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: new u(this._currentValue.x * s, this._currentValue.y * n),\n      target: this._targetValue,\n      initial: new u(this._previousValue.x * a, this._previousValue.y * l),\n      ts: t,\n      dt: e\n    }), this._currentValue = new u(this._currentValue.x / s, this._currentValue.y / n);\n  }\n  _runLayoutTransition() {\n    const t = !(this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y),\n      e = !(this._view.scale._targetValue.x === this._view.scale._currentValue.x && this._view.scale._targetValue.y === this._view.scale._currentValue.y),\n      i = t || e,\n      s = this._rect.pageOffset.left - this._previousRect.pageOffset.left,\n      n = this._rect.pageOffset.top - this._previousRect.pageOffset.top,\n      a = this._previousRect.size.width / this._rect.size.width,\n      l = this._previousRect.size.height / this._rect.size.height;\n    let h = !1;\n    if (s !== 0 || n !== 0 || !Number.isNaN(a) && a !== 1 || !Number.isNaN(l) && l !== 1 ? h = !0 : h = (() => {\n      const g = this._view._parents;\n      for (let c = 0; c < g.length; c++) {\n        const p = g[c],\n          f = p.previousRect.size.width / p.rect.size.width,\n          V = p.previousRect.size.height / p.rect.size.height;\n        if (f !== 1 || V !== 1) return !0;\n      }\n      return !1;\n    })(), h) {\n      if (this._currentValue.x !== 0 || this._currentValue.y !== 0 || this._view.scale._currentValue.x !== 1 || this._view.scale._currentValue.y !== 1) {\n        if (!i) {\n          const B = this._rect.pageOffset.left - this._previousRect.pageOffset.left,\n            M = this._rect.pageOffset.top - this._previousRect.pageOffset.top;\n          this._setTarget(new u(this._currentValue.x - B, this._currentValue.y - M), !1);\n          return;\n        }\n        const x = this._view._parent,\n          I = this._rect.pageOffset,\n          O = this._view.getScroll(),\n          S = {\n            left: this._previousRect.viewportOffset.left + O.x,\n            top: this._previousRect.viewportOffset.top + O.y\n          },\n          z = S.left - I.left,\n          D = S.top - I.top;\n        let U = 0,\n          Y = 0,\n          X = 0,\n          et = 0;\n        if (x) {\n          const B = x.rect.pageOffset,\n            M = x.getScroll(),\n            $ = {\n              left: x.previousRect.viewportOffset.left + M.x,\n              top: x.previousRect.viewportOffset.top + M.y\n            };\n          U = $.left - B.left, Y = $.top - B.top;\n          const d = S.top - $.top,\n            m = S.left - $.left,\n            v = x.scale.y * d;\n          X = (d - v) / x.scale.y;\n          const j = x.scale.x * m;\n          et = (m - j) / x.scale.x;\n        }\n        this._setTarget(new u(z - U + et, D - Y + X), !1), i && (this._animateLayoutUpdateNextFrame = !0);\n        return;\n      }\n      this._animateLayoutUpdateNextFrame = !0;\n      const g = this._previousRect,\n        c = this._rect,\n        p = this._view._parent;\n      let f = 0,\n        V = 0;\n      p && (f = p.previousRect.viewportOffset.left - p.rect.viewportOffset.left), p && (V = p.previousRect.viewportOffset.top - p.rect.viewportOffset.top);\n      let w = 1,\n        b = 1;\n      p && (w = p.previousRect.size.width / p.rect.size.width, b = p.previousRect.size.height / p.rect.size.height);\n      const T = p ? p.previousRect.viewportOffset.left : 0,\n        C = p ? p.previousRect.viewportOffset.top : 0,\n        H = g.viewportOffset.left - T,\n        R = g.viewportOffset.top - C,\n        Q = H / w - H,\n        tt = R / b - R;\n      let A = g.viewportOffset.left - c.viewportOffset.left - f + Q,\n        L = g.viewportOffset.top - c.viewportOffset.top - V + tt;\n      A = Number.isFinite(A) ? A : 0, L = Number.isFinite(L) ? L : 0, this._setTarget(new u(A, L), !1);\n    } else this._animateLayoutUpdateNextFrame && (this._setTarget(this._initialValue, !0), this._animateLayoutUpdateNextFrame = !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged) return !1;\n    if (!this._previousRenderValue) return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    let t = 0,\n      e = 0;\n    return (this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && (t = (this._rect.size.width * this._parentScaleInverse.x * this._view.scale.x - this._rect.size.width) * this._view.origin.x, e = (this._rect.size.height * this._parentScaleInverse.y * this._view.scale.y - this._rect.size.height) * this._view.origin.y), new u(this._currentValue.x + t, this._currentValue.y + e);\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `translate3d(${t.x}px, ${t.y}px, 0px)`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass Oe extends k {\n  constructor() {\n    super(...arguments), o(this, \"_unit\", \"deg\");\n  }\n  get degrees() {\n    let t = this._currentValue;\n    return this._unit === \"rad\" && (t = t * (180 / Math.PI)), t;\n  }\n  get radians() {\n    let t = this._currentValue;\n    return this._unit === \"deg\" && (t = t * (Math.PI / 180)), t;\n  }\n  setDegrees(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    this._unit = \"deg\", this._setTarget(t, e);\n  }\n  setRadians(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    this._unit = \"rad\", this._setTarget(t, e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(0, t);\n  }\n  update(t, e) {\n    this._targetValue !== this._currentValue && (this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }));\n  }\n  get shouldRender() {\n    if (!this._hasChanged) return !1;\n    if (typeof this._previousRenderValue > \"u\") return !0;\n    const t = this.renderValue;\n    return !_(t, this._previousRenderValue);\n  }\n  get renderValue() {\n    return this._currentValue;\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `rotate(${t}${this._unit})`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass ze extends k {\n  constructor() {\n    super(...arguments), o(this, \"_animateLayoutUpdateNextFrame\", !1);\n  }\n  get x() {\n    return this._currentValue.x;\n  }\n  get y() {\n    return this._currentValue.y;\n  }\n  set(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    const i = {\n      x: this._currentValue.x,\n      y: this._currentValue.y,\n      ...(typeof t == \"number\" ? {\n        x: t,\n        y: t\n      } : t)\n    };\n    this._setTarget(new u(i.x, i.y), e);\n  }\n  setWithSize(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    let i = this._currentValue.x,\n      s = this._currentValue.y;\n    t.width && (i = t.width / this._rect.size.width), t.height && (s = t.height / this._rect.size.height), !t.width && t.height && (i = s), !t.height && t.width && (s = i);\n    const n = {\n      x: i,\n      y: s\n    };\n    this._setTarget(new u(n.x, n.y), e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(new u(1, 1), t);\n  }\n  update(t, e) {\n    if (this._view.layoutOption !== \"position\") {\n      if ((this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && !this._view.isTemporaryView && this._runLayoutTransition(), this._view.isInverseEffectEnabled) {\n        const i = this._view._parent,\n          s = i ? i.scale.x : 1,\n          n = i ? i.scale.y : 1;\n        this._hasChanged = s !== 1 || n !== 1;\n      }\n      this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y || (this._currentValue = this._animator.update({\n        animatorProp: this._animatorProp,\n        current: this._currentValue,\n        target: this._targetValue,\n        initial: new u(this._previousValue.x, this._previousValue.y),\n        ts: t,\n        dt: e\n      }));\n    }\n  }\n  _runLayoutTransition() {\n    const t = !(this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y),\n      e = this._previousRect.size.width / this._rect.size.width,\n      i = this._previousRect.size.height / this._rect.size.height;\n    let s = !1;\n    if ((!Number.isNaN(e) && e !== 1 || !Number.isNaN(i) && i !== 1) && (s = !0), s) {\n      if (this._currentValue.x !== 1 || this._currentValue.y !== 1) {\n        const g = this._view.previousRect.size.width / this._view.rect.size.width,\n          c = this._view.previousRect.size.height / this._view.rect.size.height;\n        this._setTarget(new u(this._currentValue.x * g, this._currentValue.y * c), !1), t && (this._animateLayoutUpdateNextFrame = !0);\n        return;\n      }\n      const n = this._previousRect.size.width / this._rect.size.width,\n        a = this._previousRect.size.height / this._rect.size.height,\n        l = n,\n        h = a;\n      this._view.viewProps.borderRadius.applyScaleInverse(), this._setTarget(new u(l, h), !1), this._animateLayoutUpdateNextFrame = !0;\n    } else this._animateLayoutUpdateNextFrame && (this._setTarget(this._initialValue, !0), this._animateLayoutUpdateNextFrame = !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged) return !1;\n    if (!this._previousRenderValue) return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    const t = this._view._parent ? this._view._parent.scale.x : 1,\n      e = this._view._parent ? this._view._parent.scale.y : 1,\n      i = this._currentValue.x / t,\n      s = this._currentValue.y / e;\n    return new u(i, s);\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `scale3d(${t.x}, ${t.y}, 1)`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass De extends k {\n  get width() {\n    return this._view.rect.size.width;\n  }\n  get height() {\n    return this._view.rect.size.height;\n  }\n  get localWidth() {\n    return this._currentValue.x;\n  }\n  get localHeight() {\n    return this._currentValue.y;\n  }\n  get widthAfterScale() {\n    const t = this._view.scale.x;\n    return this.localWidth * t;\n  }\n  get heightAfterScale() {\n    const t = this._view.scale.y;\n    return this.localHeight * t;\n  }\n  get initialWidth() {\n    return this._initialValue.x;\n  }\n  get initialHeight() {\n    return this._initialValue.y;\n  }\n  set(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    const i = {\n      width: this._currentValue.x,\n      height: this._currentValue.y,\n      ...t\n    };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  setWidth(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    const i = {\n      width: this._currentValue.x,\n      height: this._currentValue.y,\n      width: t\n    };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  setHeight(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    const i = {\n      width: this._currentValue.x,\n      height: this._currentValue.y,\n      height: t\n    };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  reset() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n    this._setTarget(new u(this.initialWidth, this.initialHeight), t);\n  }\n  update(t, e) {\n    this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y || (this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }));\n  }\n  get shouldRender() {\n    if (!this._hasChanged) return !1;\n    if (!this._previousRenderValue) return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    return new u(this._currentValue.x, this._currentValue.y);\n  }\n  projectStyles() {\n    const t = this.renderValue,\n      e = `width: ${t.x}px; height: ${t.y}px;`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass $e {\n  constructor(t) {\n    o(this, \"_props\", /* @__PURE__ */new Map()), this._props.set(\"position\", new ke(new it(), new u(0, 0), t)), this._props.set(\"scale\", new ze(new it(), new u(1, 1), t)), this._props.set(\"rotation\", new Oe(new Ot(), 0, t)), this._props.set(\"size\", new De(new it(), new u(t.rect.size.width, t.rect.size.height), t)), this._props.set(\"opacity\", new Be(new Ot(), t.elementReader.opacity.value, t)), this._props.set(\"borderRadius\", new Ne(new Ie(), [t.elementReader.borderRadius.value.topLeft, t.elementReader.borderRadius.value.topRight, t.elementReader.borderRadius.value.bottomRight, t.elementReader.borderRadius.value.bottomLeft], t)), this._props.set(\"origin\", new Fe(new it(), t.elementReader.origin.value, t));\n  }\n  allProps() {\n    return Array.from(this._props.values());\n  }\n  allPropNames() {\n    return Array.from(this._props.keys());\n  }\n  getPropByName(t) {\n    return this._props.get(t);\n  }\n  get position() {\n    return this._props.get(\"position\");\n  }\n  get scale() {\n    return this._props.get(\"scale\");\n  }\n  get rotation() {\n    return this._props.get(\"rotation\");\n  }\n  get size() {\n    return this._props.get(\"size\");\n  }\n  get opacity() {\n    return this._props.get(\"opacity\");\n  }\n  get borderRadius() {\n    return this._props.get(\"borderRadius\");\n  }\n  get origin() {\n    return this._props.get(\"origin\");\n  }\n}\nclass We {\n  constructor(t, e, i, s) {\n    o(this, \"id\"), o(this, \"name\"), o(this, \"element\"), o(this, \"styles\", {}), o(this, \"_viewProps\"), o(this, \"_previousRect\"), o(this, \"_onAddCallbacks\"), o(this, \"_onRemoveCallback\"), o(this, \"_skipFirstRenderFrame\"), o(this, \"_layoutTransition\"), o(this, \"_registry\"), o(this, \"_layoutId\"), o(this, \"_elementReader\"), o(this, \"_viewParents\"), o(this, \"_temporaryView\"), o(this, \"_inverseEffect\"), o(this, \"_renderNextTick\"), o(this, \"_layoutOption\"), o(this, \"_elementObserver\"), o(this, \"_hasReadElement\"), o(this, \"_shouldReadRect\"), o(this, \"_readWithScroll\"), o(this, \"_externalUserStyles\"), this._registry = i, this.id = Wt(), this.name = e, this.element = t, this.element.dataset.velViewId = this.id, this._elementReader = kt(this), this._viewParents = this._getParents(), this._previousRect = this._elementReader.rect, this._viewProps = new $e(this), this._skipFirstRenderFrame = !0, this._layoutId = s, this._layoutTransition = !1, this._temporaryView = !1, this.styles = vt(this.styles, () => {\n      this._renderNextTick = !0;\n    }), this._externalUserStyles = this._getExternalUserStyles(), this._renderNextTick = !1, this._layoutOption = this._getLayoutOption(), this._hasReadElement = !1, this._shouldReadRect = !1, this._readWithScroll = !1, this._elementObserver = ue(t), this._elementObserver.onChange(n => {\n      if (this._hasReadElement) {\n        this._shouldReadRect = !1;\n        return;\n      }\n      this._externalUserStyles = this._getExternalUserStyles(), this._shouldReadRect = !0, this._readWithScroll = n;\n    });\n  }\n  removeListeners() {\n    this._elementObserver.destroy(), this._elementReader.destroy();\n  }\n  destroy() {\n    this.removeListeners(), this._viewProps.allProps().forEach(t => t.destroy()), this.element.removeAttribute(\"data-vel-view-id\"), this.element.removeAttribute(\"data-vel-plugin-id\"), this._renderNextTick = !0;\n  }\n  get elementReader() {\n    return this._elementReader;\n  }\n  get layoutOption() {\n    return this._layoutOption;\n  }\n  _getLayoutOption() {\n    return this.element.closest(\"[data-vel-layout-position]\") ? \"position\" : this.element.closest(\"[data-vel-layout-size]\") ? \"size\" : \"all\";\n  }\n  setElement(t) {\n    this.element = t, this._elementReader = kt(this), this.element.dataset.velViewId = this.id, this._elementObserver.setElement(t), this._viewParents = this._getParents();\n  }\n  get layoutId() {\n    return this._layoutId;\n  }\n  get position() {\n    return this._viewProps.position;\n  }\n  get scale() {\n    return this._viewProps.scale;\n  }\n  get _children() {\n    const t = this.element.querySelectorAll(\"*\");\n    return Array.from(t).map(e => e.dataset.velViewId).filter(e => e && typeof e == \"string\").map(e => this._registry.getViewById(e)).filter(e => !!e);\n  }\n  get _parent() {\n    return this._parents[0];\n  }\n  get _parents() {\n    return this._viewParents;\n  }\n  _getParents() {\n    var t;\n    const e = [];\n    let i = this.element.parentElement;\n    if (!i) return e;\n    for (i = i.closest(\"[data-vel-view-id]\"); i;) {\n      const s = i.dataset.velViewId;\n      if (s) {\n        const n = this._registry.getViewById(s);\n        n && e.push(n);\n      }\n      i = (t = i.parentElement) == null ? void 0 : t.closest(\"[data-vel-view-id]\");\n    }\n    return e;\n  }\n  get rotation() {\n    return this._viewProps.rotation;\n  }\n  get size() {\n    return this._viewProps.size;\n  }\n  get _localWidth() {\n    return this._viewProps.size.localWidth;\n  }\n  get _localHeight() {\n    return this._viewProps.size.localHeight;\n  }\n  get opacity() {\n    return this._viewProps.opacity;\n  }\n  get borderRadius() {\n    return this._viewProps.borderRadius;\n  }\n  get origin() {\n    return this._viewProps.origin;\n  }\n  get data() {\n    const t = this.element.dataset;\n    return Object.keys(t).filter(e => e.includes(\"velData\")).map(e => e.replace(\"velData\", \"\")).map(e => `${e[0].toLowerCase()}${e.slice(1)}`).reduce((e, i) => {\n      const s = t[`velData${i[0].toUpperCase()}${i.slice(1)}`];\n      return !e[i] && s && (e[i] = s), e;\n    }, {});\n  }\n  get onAddCallbacks() {\n    return this._onAddCallbacks;\n  }\n  get onRemoveCallback() {\n    return this._onRemoveCallback;\n  }\n  get isLayoutTransitionEnabled() {\n    return this._layoutTransition;\n  }\n  get hasLayoutTransitionEnabledForParents() {\n    return this._parents.some(t => t.isLayoutTransitionEnabled);\n  }\n  get isInverseEffectEnabled() {\n    let t = !1;\n    for (let e = 0; e < this._parents.length; e++) {\n      const i = this._parents[e];\n      if (typeof i._inverseEffect < \"u\") {\n        t = i._inverseEffect;\n        break;\n      }\n    }\n    return t;\n  }\n  layoutTransition(t) {\n    this._layoutTransition = t, this.inverseEffect(t);\n  }\n  inverseEffect(t) {\n    this._inverseEffect = t, t && this._children.forEach(e => {\n      if (e.position.animator.name === \"instant\") {\n        const i = this.viewProps.position.getAnimator();\n        e.position.setAnimator(i.name, i.config);\n      }\n      if (e.scale.animator.name === \"instant\") {\n        const i = this.viewProps.scale.getAnimator();\n        e.scale.setAnimator(i.name, i.config);\n      }\n    });\n  }\n  setAnimatorsFromParent() {\n    let t = this._parent;\n    for (; t && !t._inverseEffect;) t = t._parent;\n    if (t) {\n      if (this.position.animator.name === \"instant\") {\n        const e = t.viewProps.position.getAnimator();\n        this.position.setAnimator(e.name, e.config);\n      }\n      if (this.scale.animator.name === \"instant\") {\n        const e = t.viewProps.scale.getAnimator();\n        this.scale.setAnimator(e.name, e.config);\n      }\n    }\n  }\n  get _isRemoved() {\n    return !this._registry.getViewById(this.id);\n  }\n  setPluginId(t) {\n    this.element.dataset.velPluginId = t;\n  }\n  hasElement(t) {\n    return this.element.contains(t);\n  }\n  getScroll() {\n    return this._elementReader.scroll;\n  }\n  intersects(t, e) {\n    const i = this.element.getBoundingClientRect(),\n      s = {\n        x: i.left,\n        y: i.top\n      };\n    return t >= s.x && t <= s.x + i.width && e >= s.y && e <= s.y + i.height;\n  }\n  // Using AABB collision detection\n  overlapsWith(t) {\n    const e = t._localWidth * t.scale.x,\n      i = t._localHeight * t.scale.y,\n      s = this._localWidth * this.scale.x,\n      n = this._localHeight * this.scale.y;\n    return this.position.x < t.position.x + e && this.position.x + s > t.position.x && this.position.y < t.position.y + i && this.position.y + n > t.position.y;\n  }\n  distanceTo(t) {\n    const e = new u(this.position.x, this.position.y),\n      i = new u(t.position.x, t.position.y);\n    return u.sub(i, e).magnitude;\n  }\n  read() {\n    this._shouldReadRect && (this._elementReader.update(this._readWithScroll), this._children.forEach(t => {\n      t.setHasReadElement(!0), t.elementReader.update(this._readWithScroll);\n    }), this._shouldReadRect = !1, this._readWithScroll = !1), this.setHasReadElement(!1);\n  }\n  setHasReadElement(t) {\n    this._hasReadElement = t;\n  }\n  get rect() {\n    return this._elementReader.rect;\n  }\n  get previousRect() {\n    return this._previousRect;\n  }\n  update(t, e) {\n    this._viewProps.allProps().forEach(i => i.update(t, e));\n  }\n  _updatePreviousRect() {\n    this._previousRect = this._elementReader.rect;\n  }\n  setAsTemporaryView() {\n    this._temporaryView = !0;\n  }\n  get isTemporaryView() {\n    return this._temporaryView;\n  }\n  get shouldRender() {\n    return this._renderNextTick || this._viewProps.allProps().some(t => t.shouldRender);\n  }\n  _cleanCssText(t) {\n    const e = /* @__PURE__ */new Map(),\n      i = /([-\\w]+)\\s*:\\s*([^;]+)\\s*;?/g;\n    let s;\n    for (; (s = i.exec(t)) !== null;) {\n      const [n, a, l] = s;\n      if (!l.trim()) continue;\n      const h = a.replace(/^-\\w+-/, \"\");\n      (!e.has(h) || !a.startsWith(\"-\")) && e.set(h, `${h}: ${l.trim()}`);\n    }\n    return Array.from(e.values()).join(\"; \");\n  }\n  render() {\n    if (!this.shouldRender) return;\n    if (this._isRemoved && this._skipFirstRenderFrame) {\n      this._skipFirstRenderFrame = !1;\n      return;\n    }\n    let t = \"\";\n    const e = this._viewProps.allProps(),\n      i = e.filter(n => n.isTransform()),\n      s = e.filter(n => !n.isTransform());\n    if (i.some(n => n.hasChanged())) {\n      const n = i.reduce((a, l, h) => (a += l.projectStyles(), h < i.length - 1 && (a += \" \"), h === i.length - 1 && (a += \";\"), a), \"transform: \");\n      t += n;\n    }\n    s.forEach(n => {\n      n.hasChanged() && (t += n.projectStyles());\n    }), t += this._getUserStyles(), this._cleanCssText(this.element.style.cssText) !== this._cleanCssText(t) && (this.element.style.cssText = t), this._renderNextTick = !1;\n  }\n  _getExternalUserStyles() {\n    const t = this.element.style.cssText,\n      e = this.styles;\n    if (t.length === 0) return \"\";\n    const i = [\"transform\", \"transform-origin\", \"opacity\", \"width\", \"height\", \"border-radius\"],\n      s = {};\n    for (const n in e) e.hasOwnProperty(n) && (s[Lt(n)] = e[n]);\n    return t.split(\";\").map(n => n.trim()).filter(Boolean).filter(n => {\n      const a = n.indexOf(\":\");\n      if (a === -1) return !1;\n      const l = n.slice(0, a).trim();\n      return !s.hasOwnProperty(l) && !i.includes(l);\n    }).join(\"; \");\n  }\n  _getUserStyles() {\n    return Object.keys(this.styles).reduce((t, e) => {\n      if (!e) return t;\n      const i = Lt(e).replace(\"webkit\", \"-webkit\").replace(\"moz\", \"-moz\");\n      return t + `${i}: ${this.styles[e]}; `;\n    }, this._externalUserStyles);\n  }\n  markAsAdded() {\n    delete this.element.dataset.velProcessing;\n  }\n  onAdd(t) {\n    this._onAddCallbacks = t;\n  }\n  onRemove(t) {\n    this._onRemoveCallback = t;\n  }\n  get viewProps() {\n    return this._viewProps;\n  }\n  getPropByName(t) {\n    return this._viewProps.getPropByName(t);\n  }\n  _copyAnimatorsToAnotherView(t) {\n    t.viewProps.allPropNames().forEach(e => {\n      var i, s;\n      const n = (i = this.viewProps.getPropByName(e)) == null ? void 0 : i.getAnimator();\n      n && ((s = t.viewProps.getPropByName(e)) == null || s.setAnimator(n.name, n.config));\n    });\n  }\n  getChildren(t) {\n    const e = this.element.querySelectorAll(\"*\"),\n      i = Array.from(e).filter(s => {\n        const n = s;\n        return typeof n.dataset.velViewId < \"u\" && n.dataset.velView === t;\n      }).map(s => s.dataset.velViewId);\n    return this._registry.getViewsById(i);\n  }\n  getChild(t) {\n    return this.getChildren(t)[0];\n  }\n  getParent(t) {\n    const e = this.element.closest(`[data-vel-view=\"${t}\"]`);\n    if (!e) return;\n    const i = e.dataset.velViewId;\n    if (i) return this._registry.getViewById(i);\n  }\n}\nclass qe {\n  constructor(t, e) {\n    o(this, \"_appEventBus\"), o(this, \"_eventBus\"), o(this, \"_plugins\", []), o(this, \"_views\", []), o(this, \"_viewsPerPlugin\", /* @__PURE__ */new Map()), o(this, \"_viewsToBeCreated\", []), o(this, \"_viewsToBeRemoved\", []), o(this, \"_viewsCreatedInPreviousFrame\", []), o(this, \"_layoutIdToViewMap\", /* @__PURE__ */new Map()), o(this, \"_eventPluginsPerPlugin\", /* @__PURE__ */new Map()), o(this, \"_pluginNameToPluginFactoryMap\", /* @__PURE__ */new Map()), o(this, \"_pluginNameToPluginConfigMap\", /* @__PURE__ */new Map()), this._appEventBus = t, this._eventBus = e;\n  }\n  update() {\n    this._handleRemovedViews(), this._handleAddedViews();\n  }\n  associateEventPluginWithPlugin(t, e) {\n    let i = this._eventPluginsPerPlugin.get(t);\n    i || (i = [], this._eventPluginsPerPlugin.set(t, i)), i.push(e);\n  }\n  _handleRemovedViews() {\n    const t = this._viewsToBeRemoved.filter(e => e.dataset.velViewId);\n    t.length && (t.forEach(e => {\n      const i = e.dataset.velViewId;\n      i && (this._handleRemoveView(i), e.querySelectorAll(\"*\").forEach(s => {\n        const n = s.dataset.velViewId;\n        n && this._plugins.forEach(a => {\n          if (!this._viewsPerPlugin.get(a.id)) return;\n          const l = this._getPluginViewById(a, n);\n          l && l.removeListeners();\n        });\n      }));\n    }), this._viewsToBeRemoved = []);\n  }\n  _getPluginNameForElement(t) {\n    const e = t.dataset.velPlugin;\n    if (e && e.length > 0) return e;\n    const i = t.closest(\"[data-vel-plugin]\");\n    if (i) return i.dataset.velPlugin;\n  }\n  _getPluginIdForElement(t) {\n    const e = this._getPluginNameForElement(t);\n    if (!e) return;\n    const i = t.closest(\"[data-vel-plugin-id]\");\n    if (i) return i.dataset.velPluginId;\n    const s = this.getPluginByName(e);\n    if (s) return s.id;\n  }\n  _isScopedElement(t) {\n    const e = this._getPluginNameForElement(t);\n    if (!e) return !1;\n    const i = this._pluginNameToPluginFactoryMap.get(e),\n      s = i == null ? void 0 : i.scope;\n    return t.dataset.velView === s;\n  }\n  _removeElementsWithParent(t) {\n    const e = new Set(t);\n    return t.filter(i => {\n      let s = i.parentElement;\n      for (; s;) {\n        if (e.has(s)) return !1;\n        s = s.parentElement;\n      }\n      return !0;\n    });\n  }\n  _handleAddedViews() {\n    this._viewsCreatedInPreviousFrame.forEach(n => {\n      n.markAsAdded();\n    }), this._viewsCreatedInPreviousFrame = [];\n    const t = this._removeElementsWithParent(this._viewsToBeCreated),\n      e = Array.from(new Set(t.filter(n => this._isScopedElement(n) && !this._isElementIgnored(n)))),\n      i = t.filter(n => !this._isScopedElement(n) && !this._isElementIgnored(n));\n    this._viewsToBeCreated = [], e.forEach(n => {\n      const a = this._getPluginNameForElement(n),\n        l = this._pluginNameToPluginFactoryMap.get(a),\n        h = this._pluginNameToPluginConfigMap.get(a),\n        g = n.dataset.velPluginKey,\n        c = dt(l, this, this._eventBus, this._appEventBus, h, g);\n      this._plugins.push(c);\n      const p = n.dataset.velView,\n        f = this._createNewView(n, p, c);\n      f.isInverseEffectEnabled && f.setAnimatorsFromParent(), c.notifyAboutViewAdded(f);\n    });\n    const s = i.filter(n => !!this._getPluginIdForElement(n));\n    s.length !== 0 && s.forEach(n => {\n      const a = this._getPluginIdForElement(n),\n        l = n.dataset.velView;\n      if (!l || !a) return;\n      const h = this._getPluginById(a);\n      if (!h) return;\n      const g = this._getLayoutIdForElement(n, h);\n      let c;\n      g && this._layoutIdToViewMap.has(g) ? (c = this._layoutIdToViewMap.get(g), c.setElement(n), c.setPluginId(h.id), this._createChildrenForView(c, h)) : c = this._createNewView(n, l, h), c.isInverseEffectEnabled && c.setAnimatorsFromParent(), h.notifyAboutViewAdded(c);\n    });\n  }\n  _getLayoutIdForElement(t, e) {\n    const i = t.dataset.velLayoutId;\n    if (i) return `${i}-${e.id}`;\n  }\n  _createNewView(t, e, i) {\n    const s = this._getLayoutIdForElement(t, i),\n      n = this.createView(t, e, s);\n    return i.addView(n), n.layoutId && this._layoutIdToViewMap.set(n.layoutId, n), this._createChildrenForView(n, i), this._appEventBus.emitPluginReadyEvent(i.pluginName, i.api, !0), requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this._appEventBus.emitPluginReadyEvent(i.pluginName, i.api);\n      });\n    }), n;\n  }\n  _createChildrenForView(t, e) {\n    const i = t.element.querySelectorAll(\"*\");\n    if (i.length) {\n      if (Array.from(i).some(s => this._getPluginNameForElement(s) !== e.pluginName)) {\n        console.log(`%c WARNING: The plugin \"${e.pluginName}\" has view(s) created for a different plugin. Make sure all views inside that plugin don't have data-vel-plugin set or the pluginName is set to \"${e.pluginName}\"`, \"background: #885500\");\n        return;\n      }\n      Array.from(i).filter(s => !this._isElementIgnored(s)).forEach(s => {\n        const n = s,\n          a = n.dataset.velView ? n.dataset.velView : `${t.name}-child`,\n          l = this._getLayoutIdForElement(n, e);\n        let h;\n        l && this._layoutIdToViewMap.has(l) ? (h = this._layoutIdToViewMap.get(l), h.setElement(n), h.setPluginId(e.id)) : h = this.createView(n, a, l), l && !this._layoutIdToViewMap.has(l) && this._layoutIdToViewMap.set(l, h), e.addView(h), e.notifyAboutViewAdded(h);\n      });\n    }\n  }\n  _handleRemoveView(t) {\n    this._plugins.forEach(e => {\n      if (!this._viewsPerPlugin.get(e.id)) return;\n      const i = this._getPluginViewById(e, t);\n      i && e.removeView(i);\n    });\n  }\n  removeViewById(t, e) {\n    this._unassignViewFromPlugin(t, e), this._views = this._views.filter(i => i.id !== t);\n  }\n  _unassignViewFromPlugin(t, e) {\n    const i = this._viewsPerPlugin.get(e);\n    if (!i) return;\n    const s = i.indexOf(t);\n    s !== -1 && i.splice(s, 1);\n  }\n  getViewById(t) {\n    return this._views.find(e => e.id === t);\n  }\n  getViewsById(t) {\n    return this._views.filter(e => t.includes(e.id));\n  }\n  _getPluginById(t) {\n    return this._plugins.find(e => e.id === t);\n  }\n  _getPluginViewById(t, e) {\n    return this.getViewsForPlugin(t).find(i => i.id === e);\n  }\n  destroy(t, e) {\n    if (!t) {\n      this._destroyAll(e);\n      return;\n    }\n    let i = [];\n    if (t && t.length > 0) {\n      const s = this.getPluginByName(t);\n      if (s) {\n        const n = (this._eventPluginsPerPlugin.get(s.id) || []).map(a => this._getPluginById(a)).filter(a => typeof a < \"u\");\n        i.push(s), i.push(...n);\n      }\n    } else i = this._plugins;\n    i.forEach(s => {\n      this._destroyPlugin(s);\n    }), requestAnimationFrame(() => {\n      e == null || e();\n    });\n  }\n  _destroyPlugin(t) {\n    const e = this.getViewsForPlugin(t);\n    e.forEach(i => {\n      i.layoutId && this._layoutIdToViewMap.delete(i.layoutId), i.destroy();\n    }), this._views = this._views.filter(i => !e.find(s => s.id === i.id)), this._viewsPerPlugin.delete(t.id), this._plugins = this._plugins.filter(i => i.id !== t.id);\n  }\n  _destroyAll(t) {\n    this._views.forEach(e => e.destroy()), requestAnimationFrame(() => {\n      this._plugins = [], this._views = [], this._viewsPerPlugin.clear(), this._viewsToBeCreated = [], this._viewsToBeRemoved = [], this._viewsCreatedInPreviousFrame = [], this._layoutIdToViewMap.clear(), this._eventPluginsPerPlugin.clear(), t == null || t();\n    });\n  }\n  reset(t, e) {\n    let i = [];\n    if (t && t.length > 0) {\n      const s = this.getPluginByName(t);\n      if (s) {\n        const n = (this._eventPluginsPerPlugin.get(s.id) || []).map(a => this._getPluginById(a)).filter(a => typeof a < \"u\");\n        i.push(s), i.push(...n);\n      }\n    } else i = this._plugins;\n    requestAnimationFrame(() => {\n      i.forEach(s => {\n        this._resetPlugin(s);\n      }), requestAnimationFrame(() => {\n        e == null || e();\n      });\n    });\n  }\n  _resetPlugin(t) {\n    const e = t.config,\n      i = t.pluginFactory,\n      s = t.internalBusEvent,\n      n = !t.isRenderable(),\n      a = this.getViewsForPlugin(t);\n    a.forEach(l => {\n      l.layoutId && this._layoutIdToViewMap.delete(l.layoutId), l.destroy();\n    }), this._views = this._views.filter(l => !a.find(h => h.id === l.id)), this._viewsPerPlugin.delete(t.id), this._plugins = this._plugins.filter(l => l.id !== t.id), n || requestAnimationFrame(() => {\n      this.createPlugin(i, this._eventBus, e).setInternalEventBus(s);\n    });\n  }\n  queueNodeToBeCreated(t) {\n    this._viewsToBeCreated.push(t);\n  }\n  queueNodeToBeRemoved(t) {\n    this._viewsToBeRemoved.push(t);\n  }\n  notifyPluginAboutDataChange(t) {\n    const e = this._plugins.filter(i => i.id === t.pluginId);\n    !e || !e.length || e.forEach(i => {\n      i.notifyAboutDataChanged({\n        dataName: t.dataName,\n        dataValue: t.dataValue,\n        viewName: t.viewName\n      });\n    });\n  }\n  getPlugins() {\n    return this._plugins;\n  }\n  getRenderablePlugins() {\n    function t(e) {\n      return e.isRenderable();\n    }\n    return this._plugins.filter(t);\n  }\n  getPluginByName(t, e) {\n    return this._plugins.find(i => e ? i.pluginKey === e && i.pluginName === t : i.pluginName === t);\n  }\n  getPluginsByName(t, e) {\n    return this._plugins.filter(i => e ? i.pluginKey === e && i.pluginName === t : i.pluginName === t);\n  }\n  hasPlugin(t) {\n    return t.pluginName ? !!this.getPluginByName(t.pluginName) : !1;\n  }\n  createPlugin(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n    if (!t.pluginName) throw Error(`Plugin ${t.name} must contain a pluginName field`);\n    let n = [];\n    if (t.scope) {\n      const h = s ? `[data-vel-plugin=${t.pluginName}][data-vel-view=${t.scope}]:not([data-vel-plugin-id])` : `[data-vel-plugin=${t.pluginName}][data-vel-view=${t.scope}]`,\n        g = document.querySelectorAll(h);\n      this._pluginNameToPluginFactoryMap.has(t.pluginName) || this._pluginNameToPluginFactoryMap.set(t.pluginName, t), this._pluginNameToPluginConfigMap.has(t.pluginName) || this._pluginNameToPluginConfigMap.set(t.pluginName, i), g ? n = Array.from(g) : n = [document.documentElement];\n    } else n = [document.documentElement];\n    const a = n.map(h => {\n      const g = h.dataset.velPluginKey,\n        c = dt(t, this, e, this._appEventBus, i, g);\n      this._plugins.push(c);\n      let p = [];\n      h !== document.documentElement && p.push(h);\n      const f = h.querySelectorAll(`[data-vel-plugin=${c.pluginName}]`);\n      p = [...p, ...f];\n      const V = p.filter(w => {\n        if (this._isElementIgnored(w)) return !1;\n        if (!w.parentElement) return !0;\n        const b = this._getPluginNameForElement(w.parentElement);\n        return !(b && b.length > 0);\n      });\n      return V.length && V.forEach(w => {\n        const b = w.dataset.velView;\n        if (!b) return;\n        const T = this._createNewView(w, b, c);\n        c.notifyAboutViewAdded(T);\n      }), c;\n    });\n    if (a && a.length > 0) return a[0];\n    const l = dt(t, this, e, this._appEventBus, i);\n    return t.scope || console.log(`%c WARNING: The plugin \"${l.pluginName}\" is created but there are no elements using it on the page`, \"background: #885500\"), l;\n  }\n  updatePlugin(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.createPlugin(t, e, i, !0);\n  }\n  getViews() {\n    return this._views;\n  }\n  createView(t, e, i) {\n    const s = new We(t, e, this, i);\n    return this._views.push(s), this._viewsCreatedInPreviousFrame.push(s), s;\n  }\n  _isElementIgnored(t) {\n    return t.closest(\"[data-vel-ignore]\");\n  }\n  assignViewToPlugin(t, e) {\n    this._viewsPerPlugin.has(e.id) || this._viewsPerPlugin.set(e.id, []);\n    const i = this._viewsPerPlugin.get(e.id);\n    i.includes(t.id) || i.push(t.id);\n  }\n  getViewsForPlugin(t) {\n    const e = this._viewsPerPlugin.get(t.id);\n    return e ? e.map(i => this._views.find(s => s.id === i)).filter(i => !!i) : [];\n  }\n  getViewsByNameForPlugin(t, e) {\n    return this.getViewsForPlugin(t).filter(i => i.name === e);\n  }\n}\nclass zt {\n  constructor(t) {\n    o(this, \"pluginApi\"), this.pluginApi = t.pluginApi;\n  }\n}\nclass Dt {\n  constructor(t) {\n    o(this, \"pluginApi\"), this.pluginApi = t.pluginApi;\n  }\n}\nclass Tt {\n  constructor() {\n    o(this, \"previousTime\", 0), o(this, \"registry\"), o(this, \"eventBus\"), o(this, \"appEventBus\"), this.eventBus = new _t(), this.appEventBus = new _t(), this.registry = new qe(this.appEventBus, this.eventBus), new se(this.eventBus);\n  }\n  static create() {\n    return new Tt();\n  }\n  addPlugin(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.registry.hasPlugin(t) || this.registry.createPlugin(t, this.eventBus, e);\n  }\n  updatePlugin(t) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.registry.hasPlugin(t) && this.registry.updatePlugin(t, this.eventBus, e);\n  }\n  reset(t, e) {\n    this.registry.reset(t, e);\n  }\n  destroy(t, e) {\n    this.registry.destroy(t, e);\n  }\n  getPlugin(t, e) {\n    let i = typeof t == \"string\" ? t : t.pluginName;\n    const s = this.registry.getPluginByName(i, e);\n    if (!s) throw new Error(`You can't call getPlugin for ${i} with key: ${e} because it does not exist in your app`);\n    return s.api;\n  }\n  getPlugins(t, e) {\n    let i = typeof t == \"string\" ? t : t.pluginName;\n    const s = this.registry.getPluginsByName(i, e);\n    if (s.length === 0) throw new Error(`You can't call getPlugins for ${i} with key: ${e} because they don't exist in your app`);\n    return s.map(n => n.api);\n  }\n  onPluginEvent(t, e, i, s) {\n    requestAnimationFrame(() => {\n      const n = this.registry.getPluginByName(t.pluginName, s);\n      n && n.on(e, i);\n    });\n  }\n  removePluginEventListener(t, e, i) {\n    const s = this.registry.getPluginByName(t.pluginName);\n    s && s.removeListener(e, i);\n  }\n  run() {\n    document.readyState === \"loading\" ? document.addEventListener(\"DOMContentLoaded\", this.start.bind(this)) : this.start();\n  }\n  start() {\n    this.setup(), requestAnimationFrame(this.tick.bind(this));\n  }\n  setup() {\n    this.listenToNativeEvents(), this.subscribeToEvents();\n  }\n  listenToNativeEvents() {\n    document.addEventListener(\"click\", t => {\n      this.eventBus.emitEvent(ft, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointermove\", t => {\n      this.eventBus.emitEvent(lt, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointerdown\", t => {\n      this.eventBus.emitEvent(ht, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointerup\", t => {\n      this.eventBus.emitEvent(ut, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    });\n  }\n  tick(t) {\n    let e = (t - this.previousTime) / 1e3;\n    e > 0.016 && (e = 1 / 60), this.previousTime = t, this.eventBus.reset(), this.subscribeToEvents(), this.read(), this.update(t, e), this.render(), requestAnimationFrame(this.tick.bind(this));\n  }\n  subscribeToEvents() {\n    this.eventBus.subscribeToEvent(st, this.onNodeAdded.bind(this)), this.eventBus.subscribeToEvent(pt, this.onNodeRemoved.bind(this)), this.eventBus.subscribeToEvent($t, this.onDataChanged.bind(this)), this.registry.getPlugins().forEach(t => {\n      t.subscribeToEvents(this.eventBus);\n    });\n  }\n  onNodeAdded(_ref10) {\n    let {\n      node: t\n    } = _ref10;\n    this.registry.queueNodeToBeCreated(t);\n  }\n  onNodeRemoved(_ref11) {\n    let {\n      node: t\n    } = _ref11;\n    this.registry.queueNodeToBeRemoved(t);\n  }\n  onDataChanged(t) {\n    this.registry.notifyPluginAboutDataChange(t);\n  }\n  read() {\n    this.registry.getViews().forEach(t => {\n      t.read();\n    });\n  }\n  update(t, e) {\n    this.registry.update(), this.registry.getPlugins().slice().reverse().forEach(i => {\n      i.init();\n    }), this.registry.getRenderablePlugins().forEach(i => {\n      i.update(t, e);\n    }), this.registry.getViews().forEach(i => {\n      i.update(t, e);\n    }), this.registry.getViews().forEach(i => {\n      i._updatePreviousRect();\n    });\n  }\n  render() {\n    this.registry.getRenderablePlugins().forEach(t => {\n      t.render();\n    }), this.registry.getViews().forEach(t => {\n      t.render();\n    });\n  }\n}\nfunction He() {\n  return Tt.create();\n}\nclass Ht {\n  constructor(t) {\n    o(this, \"view\"), o(this, \"previousX\"), o(this, \"previousY\"), o(this, \"x\"), o(this, \"y\"), o(this, \"pointerX\"), o(this, \"pointerY\"), o(this, \"isDragging\"), o(this, \"target\"), o(this, \"directions\", []), o(this, \"width\"), o(this, \"height\"), o(this, \"distance\"), o(this, \"stopped\"), o(this, \"hasMoved\"), this.props = t, this.previousX = t.previousX, this.previousY = t.previousY, this.x = t.x, this.y = t.y, this.pointerX = t.pointerX, this.pointerY = t.pointerY, this.width = t.width, this.height = t.height, this.distance = t.distance, this.view = t.view, this.isDragging = t.isDragging, this.stopped = t.stopped, this.target = t.target, this.directions = t.directions, this.hasMoved = t.hasMoved;\n  }\n}\nclass Ut extends wt {\n  constructor() {\n    super(...arguments), o(this, \"_pointerX\", 0), o(this, \"_pointerY\", 0), o(this, \"_initialPointer\", new u(0, 0)), o(this, \"_initialPointerPerView\", /* @__PURE__ */new Map()), o(this, \"_pointerDownPerView\", /* @__PURE__ */new Map()), o(this, \"_viewPointerPositionLog\", /* @__PURE__ */new Map()), o(this, \"_stopTimer\", 0);\n  }\n  setup() {\n    document.addEventListener(\"selectstart\", this.onSelect.bind(this));\n  }\n  onSelect(t) {\n    this._isDragging && t.preventDefault();\n  }\n  get _isDragging() {\n    return Array.from(this._pointerDownPerView.values()).some(t => !!t);\n  }\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ht, _ref12 => {\n      let {\n        x: e,\n        y: i\n      } = _ref12;\n      this._initialPointer = new u(e, i), this.getViews().forEach(s => {\n        this._pointerDownPerView.set(s.id, s.intersects(e, i));\n        const n = s.isLayoutTransitionEnabled ? s.position.initialX : s.position.x,\n          a = s.isLayoutTransitionEnabled ? s.position.initialY : s.position.y,\n          l = new u(e - n, i - a);\n        this._pointerX = e, this._pointerY = i, this._initialPointerPerView.set(s.id, l);\n      });\n    }), t.subscribeToEvent(ut, () => {\n      this.getViews().forEach(e => {\n        this._pointerDownPerView.get(e.id) && this._initialPointerPerView.get(e.id) && (this._pointerDownPerView.set(e.id, !1), this._emitEvent(e, []));\n      });\n    }), t.subscribeToEvent(lt, _ref13 => {\n      let {\n        x: e,\n        y: i\n      } = _ref13;\n      this._pointerX = e, this._pointerY = i, this.getViews().forEach(s => {\n        if (this._pointerDownPerView.get(s.id) && this._initialPointerPerView.get(s.id)) {\n          this._viewPointerPositionLog.has(s.id) || this._viewPointerPositionLog.set(s.id, []);\n          const n = new u(e, i),\n            a = this._viewPointerPositionLog.get(s.id);\n          a && a.push(new u(e, i));\n          const l = a && a.length >= 2 ? a[a.length - 2] : n.clone(),\n            h = this._calculateDirections(l, n);\n          this._emitEvent(s, h), clearTimeout(this._stopTimer), this._stopTimer = setTimeout(() => {\n            this._pointerDownPerView.get(s.id) === !0 && this._emitEvent(s, h, !0);\n          }, 120);\n        }\n      });\n    });\n  }\n  _emitEvent(t, e) {\n    let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    const s = this._viewPointerPositionLog.get(t.id),\n      n = !(typeof s > \"u\" || s.length <= 1),\n      a = s && s.length >= 2 ? s[s.length - 2] : null,\n      l = this._pointerX - this._initialPointerPerView.get(t.id).x,\n      h = this._pointerY - this._initialPointerPerView.get(t.id).y,\n      g = this._pointerX,\n      c = this._pointerY,\n      p = a ? a.x - this._initialPointerPerView.get(t.id).x : l,\n      f = a ? a.y - this._initialPointerPerView.get(t.id).y : h,\n      V = this._pointerY - this._initialPointer.y,\n      w = this._pointerX - this._initialPointer.x,\n      b = ce(this._initialPointer, {\n        x: this._pointerX,\n        y: this._pointerY\n      }),\n      T = this._pointerDownPerView.get(t.id) === !0;\n    T || this._viewPointerPositionLog.clear();\n    const C = {\n      view: t,\n      target: t.element,\n      previousX: p,\n      previousY: f,\n      x: l,\n      y: h,\n      pointerX: g,\n      pointerY: c,\n      distance: b,\n      width: w,\n      height: V,\n      isDragging: T,\n      directions: e,\n      stopped: i,\n      hasMoved: n\n    };\n    this.emit(Ht, C);\n  }\n  _calculateDirections(t, e) {\n    const i = {\n        up: u.sub(new u(t.x, t.y - 1), t),\n        down: u.sub(new u(t.x, t.y + 1), t),\n        left: u.sub(new u(t.x - 1, t.y), t),\n        right: u.sub(new u(t.x + 1, t.y), t)\n      },\n      s = u.sub(e, t).unitVector;\n    return [{\n      direction: \"up\",\n      projection: s.dot(i.up)\n    }, {\n      direction: \"down\",\n      projection: s.dot(i.down)\n    }, {\n      direction: \"left\",\n      projection: s.dot(i.left)\n    }, {\n      direction: \"right\",\n      projection: s.dot(i.right)\n    }].filter(n => n.projection > 0).map(n => n.direction);\n  }\n}\no(Ut, \"pluginName\", \"DragEventPlugin\");\nclass Ue {\n  constructor(t) {\n    o(this, \"view\"), o(this, \"direction\"), this.props = t, this.view = t.view, this.direction = t.direction;\n  }\n}\nclass Ye extends wt {\n  constructor() {\n    super(...arguments), o(this, \"_viewIsPointerDownMap\", /* @__PURE__ */new Map()), o(this, \"_viewPointerPositionLog\", /* @__PURE__ */new Map()), o(this, \"_targetPerView\", /* @__PURE__ */new Map());\n  }\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ht, _ref14 => {\n      let {\n        x: e,\n        y: i,\n        target: s\n      } = _ref14;\n      this.getViews().forEach(n => {\n        this._targetPerView.set(n.id, s), n.intersects(e, i) && this._viewIsPointerDownMap.set(n.id, !0);\n      });\n    }), t.subscribeToEvent(lt, _ref15 => {\n      let {\n        x: e,\n        y: i\n      } = _ref15;\n      this.getViews().forEach(s => {\n        this._viewIsPointerDownMap.get(s.id) && (this._viewPointerPositionLog.has(s.id) || this._viewPointerPositionLog.set(s.id, []), this._viewPointerPositionLog.get(s.id).push(new u(e, i)));\n      });\n    }), t.subscribeToEvent(ut, _ref16 => {\n      let {\n        x: e,\n        y: i\n      } = _ref16;\n      this.getViews().forEach(n => {\n        if (!this._viewIsPointerDownMap.get(n.id) || !this._viewPointerPositionLog.has(n.id)) return;\n        const a = new u(e, i),\n          l = this._viewPointerPositionLog.get(n.id),\n          h = l[l.length - 2] || a.clone(),\n          g = this._targetPerView.get(n.id),\n          c = s(h, a);\n        g && n.hasElement(g) && c.hasSwiped && this.emit(Ue, {\n          view: n,\n          direction: c.direction\n        }), this._viewPointerPositionLog.set(n.id, []), this._viewIsPointerDownMap.set(n.id, !1);\n      });\n      function s(n, a) {\n        const l = {\n            up: u.sub(new u(n.x, n.y - 1), n),\n            down: u.sub(new u(n.x, n.y + 1), n),\n            left: u.sub(new u(n.x - 1, n.y), n),\n            right: u.sub(new u(n.x + 1, n.y), n)\n          },\n          h = u.sub(a, n).unitVector,\n          g = [\"up\", \"down\", \"left\", \"right\"],\n          c = [h.dot(l.up), h.dot(l.down), h.dot(l.left), h.dot(l.right)],\n          p = Math.max(...c),\n          f = c.indexOf(p),\n          V = g[f],\n          w = u.sub(a, n).magnitude;\n        return {\n          hasSwiped: h.dot(l[V]) * w > 30,\n          direction: V\n        };\n      }\n    });\n  }\n}\no(Ye, \"pluginName\", \"SwipeEventPlugin\");\nclass Xe {\n  constructor(t) {\n    o(this, \"view\"), this.props = t, this.view = t.view;\n  }\n}\nclass je extends wt {\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ft, _ref17 => {\n      let {\n        x: e,\n        y: i,\n        target: s\n      } = _ref17;\n      this.getViews().forEach(n => {\n        const a = s,\n          l = n.element === a || n.element.contains(a);\n        n.intersects(e, i) && l && this.emit(Xe, {\n          view: n\n        });\n      });\n    });\n  }\n}\no(je, \"pluginName\", \"ClickEventPlugin\");\nconst Ke = /* @__PURE__ */Object.freeze( /* @__PURE__ */Object.defineProperty({\n  __proto__: null,\n  PointerClickEvent: ft,\n  PointerDownEvent: ht,\n  PointerMoveEvent: lt,\n  PointerUpEvent: ut\n}, Symbol.toStringTag, {\n  value: \"Module\"\n}));\nfunction Ge(r) {\n  let t = Yt(r) || window;\n  t === document.body && (t = window);\n  let e = 0,\n    i = 0,\n    s = !1,\n    n = () => {};\n  return t.addEventListener(\"scroll\", () => {\n    s && n();\n  }), {\n    container: t,\n    onScroll(a) {\n      n = a;\n    },\n    startScrollTracking() {\n      s || (e = t instanceof Element ? t.scrollTop : t.scrollY, i = t instanceof Element ? t.scrollLeft : t.scrollX, s = !0);\n    },\n    getScrollOffset() {\n      const a = t instanceof Element ? t.scrollTop : t.scrollY;\n      return {\n        x: (t instanceof Element ? t.scrollLeft : t.scrollX) - i,\n        y: a - e\n      };\n    },\n    endScrollTracking() {\n      e = 0, i = 0, s = !1;\n    },\n    width: t instanceof Element ? t.clientWidth : t.innerWidth,\n    height: t instanceof Element ? t.clientHeight : t.innerHeight\n  };\n}\nfunction Yt(r) {\n  const e = r instanceof HTMLElement && window.getComputedStyle(r).overflowY,\n    i = e !== \"visible\" && e !== \"hidden\";\n  if (r) {\n    if (i && r.scrollHeight >= r.clientHeight) return r;\n  } else return null;\n  return Yt(r.parentNode) || document.body;\n}\nclass nt {\n  constructor(t) {\n    P(this, \"data\");\n    this.data = t.data;\n  }\n}\nclass Xt {\n  constructor(t) {\n    P(this, \"data\");\n    P(this, \"hasChanged\");\n    this.data = t.data, this.hasChanged = t.hasChanged;\n  }\n}\nclass jt {}\nclass Kt {\n  constructor(t) {\n    P(this, \"data\");\n    this.data = t.data;\n  }\n}\nfunction J(r) {\n  return {\n    map: new Map(r),\n    array: Array.from(r).map(_ref18 => {\n      let [e, i] = _ref18;\n      return {\n        slotId: e,\n        itemId: i\n      };\n    }),\n    object: Array.from(r).reduce((e, _ref19) => {\n      let [i, s] = _ref19;\n      return e[i] = s, e;\n    }, {})\n  };\n}\nfunction Ze(r) {\n  if (r.map) return {\n    map: new Map(r.map),\n    array: Array.from(r.map).map(_ref20 => {\n      let [e, i] = _ref20;\n      return {\n        slotId: e,\n        itemId: i\n      };\n    }),\n    object: Array.from(r.map).reduce((e, _ref21) => {\n      let [i, s] = _ref21;\n      return e[i] = s, e;\n    }, {})\n  };\n  if (r.object) {\n    const t = {\n      ...r.object\n    };\n    return {\n      map: new Map(Object.entries(t)),\n      array: Object.entries(t).map(_ref22 => {\n        let [e, i] = _ref22;\n        return {\n          slotId: e,\n          itemId: i\n        };\n      }),\n      object: t\n    };\n  } else {\n    const t = [...r.array];\n    return {\n      map: new Map(t.map(_ref23 => {\n        let {\n          slotId: e,\n          itemId: i\n        } = _ref23;\n        return [e, i];\n      })),\n      array: t,\n      object: t.reduce((e, _ref24) => {\n        let {\n          slotId: i,\n          itemId: s\n        } = _ref24;\n        return e[i] = s, e;\n      }, {})\n    };\n  }\n}\nconst N = r => {\n  const t = r.useEventPlugin(Ut);\n  t.on(Ht, $);\n  const e = 20,\n    i = 100;\n  let s,\n    n,\n    a,\n    l,\n    h,\n    g = null,\n    c = /* @__PURE__ */new Map(),\n    p = /* @__PURE__ */new Map(),\n    f,\n    V,\n    w = null,\n    b = null,\n    T,\n    C,\n    H = !0,\n    R,\n    Q,\n    tt,\n    A,\n    L = !1,\n    x = !1,\n    I = () => {},\n    O = !1,\n    S = 0,\n    z = 0;\n  r.api({\n    setEnabled(d) {\n      H = d;\n    },\n    setData(d) {\n      const m = Ze(d);\n      c = new Map(m.map), p = new Map(c);\n    },\n    setAutoScrollOnDrag(d) {\n      O = d;\n    }\n  });\n  function D() {\n    return {\n      animation: s.data.configAnimation,\n      continuousMode: typeof s.data.configContinuousMode < \"u\",\n      manualSwap: typeof s.data.configManualSwap < \"u\",\n      swapMode: s.data.configSwapMode,\n      autoScrollOnDrag: O\n    };\n  }\n  function U() {\n    const d = D().animation;\n    return d === \"dynamic\" ? {\n      animator: \"dynamic\",\n      config: {}\n    } : d === \"spring\" ? {\n      animator: \"spring\",\n      config: {\n        damping: 0.7,\n        stiffness: 0.62\n      }\n    } : d === \"none\" ? {\n      animator: \"instant\",\n      config: {}\n    } : {\n      animator: \"instant\",\n      config: {}\n    };\n  }\n  function Y(d) {\n    return () => {\n      c = d, p = new Map(c);\n    };\n  }\n  r.setup(() => {\n    s = r.getView(\"root\"), a = r.getViews(\"slot\"), l = r.getViews(\"item\"), n = Ge(l[0].element), n.onScroll(() => {\n      M();\n    }), Q = D().continuousMode, tt = D().manualSwap, a.forEach(d => {\n      X(d);\n    }), B(), p = new Map(c), requestAnimationFrame(() => {\n      r.emit(Kt, {\n        data: J(c)\n      });\n    });\n  });\n  function X(d) {\n    const m = d.getChild(\"item\");\n    m && et(m), c.set(d.element.dataset.swapySlot, m ? m.element.dataset.swapyItem : null);\n  }\n  function et(d) {\n    const m = U();\n    d.styles.position = \"relative\", d.styles.userSelect = \"none\", d.styles.webkitUserSelect = \"none\", d.position.setAnimator(m.animator, m.config), d.scale.setAnimator(m.animator, m.config), d.layoutTransition(!0), requestAnimationFrame(() => {\n      const v = d.getChild(\"handle\");\n      v ? (t.addView(v), v.styles.touchAction = \"none\") : (t.addView(d), d.styles.touchAction = \"none\");\n    });\n  }\n  r.onViewAdded(d => {\n    if (r.initialized) if (d.name === \"item\") {\n      l = r.getViews(\"item\");\n      const m = d.getParent(\"slot\");\n      X(m), B(), p = new Map(c), r.emit(nt, {\n        data: J(c)\n      });\n    } else d.name === \"slot\" && (a = r.getViews(\"slot\"));\n  });\n  function B() {\n    const d = U();\n    r.getViews(\"root-child\").forEach(v => {\n      v.position.setAnimator(d.animator, d.config), v.scale.setAnimator(d.animator, d.config), v.layoutTransition(!0);\n    });\n  }\n  function M() {\n    if (!R) return;\n    if (!f || !V) {\n      const K = h.getScroll();\n      f = R.pointerX - h.position.x + K.x, V = R.pointerY - h.position.y + K.y;\n    }\n    (!T || !C) && (T = h.size.width, C = h.size.height);\n    const d = h.size.width / T,\n      m = h.size.height / C,\n      v = f * (d - 1),\n      j = V * (m - 1),\n      {\n        x: y,\n        y: W\n      } = n.getScrollOffset();\n    h.position.set({\n      x: R.x - v - (w || 0) + y,\n      y: R.y - j - (b || 0) + W\n    }, h.scale.x !== 1 || h.scale.y !== 1);\n  }\n  r.subscribeToEvents(d => {\n    d.subscribeToEvent(Ke.PointerMoveEvent, _ref25 => {\n      let {\n        x: m,\n        y: v\n      } = _ref25;\n      n && (n.height - v <= i ? S = Math.max(0, e * (1 - Math.min(n.height - v, i) / i)) : v <= i ? S = -1 * Math.max(0, e * (1 - Math.min(v, i) / i)) : S = 0, n.width - m <= i ? z = Math.max(0, e * (1 - Math.min(n.width - m, i) / i)) : m <= i ? z = -1 * Math.max(0, e * (1 - Math.min(m, i) / i)) : z = 0);\n    });\n  }), r.update(() => {\n    R != null && R.isDragging && O && n.container.scrollBy({\n      top: S,\n      left: z\n    });\n  });\n  function $(d) {\n    if (!H || !d.hasMoved) return;\n    const m = D().swapMode,\n      v = d.view.name === \"handle\";\n    if (h = v ? d.view.getParent(\"item\") : d.view, A || (A = h.getParent(\"slot\")), w === null && b === null) {\n      const y = v ? d.view.position.initialX - d.view.position.x : 0,\n        W = v ? d.view.position.initialY - d.view.position.y : 0;\n      w = d.view.position.x - h.position.x - y, b = d.view.position.y - h.position.y - W;\n    }\n    const j = a.some(y => y.intersects(d.pointerX, d.pointerY));\n    d.isDragging ? (n.startScrollTracking(), L || (L = !0, r.emit(jt, {})), g === null && (g = new Map(c)), R = d, M(), a.forEach(y => {\n      var Ct;\n      if (!y.intersects(d.pointerX, d.pointerY)) {\n        y !== A && y.element.removeAttribute(\"data-swapy-highlighted\");\n        return;\n      }\n      if (typeof y.element.dataset.swapyHighlighted > \"u\" && (y.element.dataset.swapyHighlighted = \"\"), !A || (m === \"stop\" || m !== \"drop\" && !Q) && !d.stopped) return;\n      const W = y.element.dataset.swapySlot,\n        K = (Ct = y.getChild(\"item\")) == null ? void 0 : Ct.element.dataset.swapyItem,\n        ct = A.element.dataset.swapySlot,\n        St = h.element.dataset.swapyItem;\n      if (!W || !ct || !St) return;\n      const q = new Map(c);\n      q.set(W, St), K ? q.set(ct, K) : q.set(ct, null), I = Y(new Map(q)), gt(q, p) || (!tt && m !== \"drop\" && I(), A = null, m !== \"drop\" && r.emit(nt, {\n        data: J(q)\n      }));\n    }), l.forEach(y => {\n      y.styles.zIndex = y === h ? \"2\" : \"\";\n    })) : (a.forEach(y => {\n      y.element.removeAttribute(\"data-swapy-highlighted\");\n    }), h.position.reset(), A = null, f = null, V = null, T = null, C = null, R = null, w = null, b = null, L = !1, m === \"drop\" && (j || (I = Y(new Map(c))), I(), r.emit(nt, {\n      data: J(c)\n    })), I = () => {}, x = !gt(c, g), r.emit(Xt, {\n      data: J(c),\n      hasChanged: x\n    }), x = !1, g = null, n.endScrollTracking()), requestAnimationFrame(() => {\n      M();\n    });\n  }\n};\nN.pluginName = \"Swapy\";\nN.scope = \"root\";\nlet F;\nfunction Je() {\n  return F ? (F.updatePlugin(N), F) : (F = He(), F.addPlugin(N), F.run(), F);\n}\nconst Qe = {\n  animation: \"dynamic\",\n  continuousMode: !0,\n  manualSwap: !1,\n  swapMode: \"hover\",\n  autoScrollOnDrag: !1\n};\nfunction ti(r) {\n  let t = !0;\n  const e = r.querySelectorAll(\"[data-swapy-slot]\");\n  return e.length === 0 && (console.error(\"There are no slots defined in your root element:\", r), t = !1), e.forEach(i => {\n    const s = i,\n      n = s.dataset.swapySlot;\n    (!n || n.length === 0) && (console.error(i, \"does not contain a slotId using data-swapy-slot\"), t = !1);\n    const a = s.children;\n    a.length > 1 && (console.error(\"slot:\", `\"${n}\"`, \"cannot contain more than one element\"), t = !1);\n    const l = a[0];\n    l && (!l.dataset.swapyItem || l.dataset.swapyItem.length === 0) && (console.error(\"slot:\", `\"${n}\"`, \"does not contain an element with item id using data-swapy-item\"), t = !1);\n  }), t;\n}\nfunction ei(r) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const e = Qt();\n  return r.dataset.velPluginKey = e, r.dataset.velPlugin = \"Swapy\", r.dataset.velView = \"root\", r.dataset.velDataConfigAnimation = t.animation, r.dataset.velDataConfigSwapMode = t.swapMode, t.continuousMode && (r.dataset.velDataConfigContinuousMode = \"true\"), t.manualSwap && (r.dataset.velDataConfigManualSwap = \"true\"), Array.from(r.querySelectorAll(\"[data-swapy-slot]\")).forEach(l => {\n    l.dataset.velView = \"slot\";\n  }), Array.from(r.querySelectorAll(\"[data-swapy-item]\")).forEach(l => {\n    l.dataset.velView = \"item\", l.dataset.velLayoutId = l.dataset.swapyItem;\n    const h = l.querySelector(\"[data-swapy-handle]\");\n    h && (h.dataset.velView = \"handle\");\n  }), Array.from(r.querySelectorAll(\"[data-swapy-text]\")).forEach(l => {\n    l.dataset.velLayoutPosition = \"\";\n  }), Array.from(r.querySelectorAll(\"[data-swapy-exclude]\")).forEach(l => {\n    l.dataset.velIgnore = \"\";\n  }), e;\n}\nfunction ii(r) {\n  const t = Array.from(r.querySelectorAll(\"[data-swapy-slot]:not([data-vel-view])\"));\n  t.forEach(i => {\n    i.dataset.velView = \"slot\";\n  });\n  const e = Array.from(r.querySelectorAll(\"[data-swapy-item]:not([data-vel-view])\"));\n  return e.forEach(i => {\n    i.dataset.velView = \"item\", i.dataset.velLayoutId = i.dataset.swapyItem;\n    const s = i.querySelector(\"[data-swapy-handle]\");\n    s && (s.dataset.velView = \"handle\"), Array.from(i.querySelectorAll(\"[data-swapy-text]\")).forEach(l => {\n      l.dataset.velLayoutPosition = \"\";\n    }), Array.from(i.querySelectorAll(\"[data-swapy-exclude]\")).forEach(l => {\n      l.dataset.velIgnore = \"\";\n    });\n  }), e.length > 0 || t.length > 0;\n}\nfunction ri(r) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!r) throw new Error(\"Cannot create a Swapy instance because the element you provided does not exist on the page!\");\n  const e = {\n      ...Qe,\n      ...t\n    },\n    i = r;\n  if (!ti(i)) throw new Error(\"Cannot create a Swapy instance because your HTML structure is invalid. Fix all above errors and then try!\");\n  const s = ei(i, e),\n    n = new si(i, s, e);\n  return {\n    onSwap(a) {\n      n.setSwapCallback(a);\n    },\n    onSwapEnd(a) {\n      n.setSwapEndCallback(a);\n    },\n    onSwapStart(a) {\n      n.setSwapStartCallback(a);\n    },\n    enable(a) {\n      n.setEnabled(a);\n    },\n    destroy() {\n      n.destroy();\n    },\n    setData(a) {\n      n.setData(a);\n    }\n  };\n}\nclass si {\n  constructor(t, e, i) {\n    P(this, \"_rootEl\");\n    P(this, \"_veloxiApp\");\n    P(this, \"_slotElMap\");\n    P(this, \"_itemElMap\");\n    P(this, \"_swapCallback\");\n    P(this, \"_swapEndCallback\");\n    P(this, \"_swapStartCallback\");\n    P(this, \"_previousMap\");\n    P(this, \"_pluginKey\");\n    this._rootEl = t, this._veloxiApp = Je(), this._slotElMap = this._createSlotElMap(), this._itemElMap = this._createItemElMap(), this.setAutoScrollOnDrag(i.autoScrollOnDrag), this._pluginKey = e, this._veloxiApp.onPluginEvent(N, Kt, _ref26 => {\n      let {\n        data: s\n      } = _ref26;\n      this._previousMap = s.map;\n    }, e), this._veloxiApp.onPluginEvent(N, nt, s => {\n      var n;\n      this._previousMap && gt(this._previousMap, s.data.map) || (i.manualSwap || this._applyOrder(s.data.map), this._previousMap = s.data.map, (n = this._swapCallback) == null || n.call(this, s));\n    }, e), this._veloxiApp.onPluginEvent(N, Xt, s => {\n      var n;\n      (n = this._swapEndCallback) == null || n.call(this, s);\n    }, e), this._veloxiApp.onPluginEvent(N, jt, () => {\n      var s;\n      (s = this._swapStartCallback) == null || s.call(this);\n    }, e), this.setupMutationObserver();\n  }\n  setupMutationObserver() {\n    new MutationObserver(e => {\n      e.some(i => i.type === \"childList\") && ii(this._rootEl) && (this._slotElMap = this._createSlotElMap(), this._itemElMap = this._createItemElMap());\n    }).observe(this._rootEl, {\n      childList: !0,\n      subtree: !0\n    });\n  }\n  setData(t) {\n    try {\n      this._veloxiApp.getPlugin(\"Swapy\", this._pluginKey).setData(t);\n    } catch {}\n  }\n  destroy() {\n    this._veloxiApp.destroy(\"Swapy\");\n  }\n  setEnabled(t) {\n    requestAnimationFrame(() => {\n      try {\n        this._veloxiApp.getPlugin(\"Swapy\", this._pluginKey).setEnabled(t);\n      } catch {}\n    });\n  }\n  setAutoScrollOnDrag(t) {\n    requestAnimationFrame(() => {\n      try {\n        this._veloxiApp.getPlugin(\"Swapy\", this._pluginKey).setAutoScrollOnDrag(t);\n      } catch {}\n    });\n  }\n  setSwapCallback(t) {\n    this._swapCallback = t;\n  }\n  setSwapEndCallback(t) {\n    this._swapEndCallback = t;\n  }\n  setSwapStartCallback(t) {\n    this._swapStartCallback = t;\n  }\n  _applyOrder(t) {\n    Array.from(t.keys()).forEach(e => {\n      var a;\n      if (t.get(e) === ((a = this._previousMap) == null ? void 0 : a.get(e))) return;\n      const i = t.get(e);\n      if (!i) return;\n      const s = this._slotElMap.get(e),\n        n = this._itemElMap.get(i);\n      !s || !n || (s.innerHTML = \"\", s.appendChild(n));\n    });\n  }\n  _createSlotElMap() {\n    return Array.from(this._rootEl.querySelectorAll(\"[data-swapy-slot]\")).reduce((t, e) => (t.set(e.dataset.swapySlot, e), t), /* @__PURE__ */new Map());\n  }\n  _createItemElMap() {\n    return Array.from(this._rootEl.querySelectorAll(\"[data-swapy-item]\")).reduce((t, e) => (t.set(e.dataset.swapyItem, e), t), /* @__PURE__ */new Map());\n  }\n}\nexport { ri as createSwapy };","map":{"version":3,"names":["Gt","Object","defineProperty","Zt","r","t","e","enumerable","configurable","writable","value","P","gt","size","i","has","get","Jt","Qt","te","ee","o","ot","constructor","x","y","target","ft","lt","ht","ut","$t","event","pluginId","pluginName","viewName","dataName","dataValue","ie","replace","toLowerCase","toUpperCase","Lt","split","map","join","st","node","pt","se","_eventBus","_observer","MutationObserver","_handler","bind","observe","document","body","childList","subtree","attributes","attributeOldValue","forEach","addedNodes","s","HTMLElement","dataset","velViewId","parentElement","velAdded","n","velView","querySelector","emitEvent","a","querySelectorAll","length","l","removedNodes","velProcessing","attributeName","test","velPluginId","velPlugin","h","getAttribute","oldValue","g","ne","execute","call","It","getHandler","_t","Map","subscribeToEvent","_subscribeToKeyedEvent","_listeners","set","push","removeEventListener","_removeKeyedEventListener","filter","_keyedListeners","_emitKeyedEvent","_convertListener","subscribeToPluginReadyEvent","Dt","zt","emitPluginReadyEvent","reset","clear","re","Wt","qt","_id","_pluginFactory","_pluginName","_registry","_appEventBus","_internalEventBus","_config","_layoutIdViewMapWaitingToEnter","_pluginKey","_apiData","_isReady","api","_setApi","pluginFactory","pluginKey","id","config","getViews","getViewsByNameForPlugin","getViewsForPlugin","getView","getViewById","addView","assignViewToPlugin","setInternalEventBus","internalBusEvent","emit","on","removeListener","useEventPlugin","createPlugin","associateEventPluginWithPlugin","notifyAboutDataChanged","onDataChanged","removeView","onRemoveCallback","_invokeRemoveCallback","_deleteView","removeListeners","onViewRemoved","_createTemporaryView","requestAnimationFrame","onAddCallbacks","afterRemoved","layoutId","afterEnter","delete","setTimeout","element","removeViewById","remove","destroy","previousRect","viewportOffset","rotation","degrees","Math","sin","radians","height","scale","width","cloneNode","style","cssText","position","left","top","transform","pointerEvents","velRemoved","appendChild","createView","name","setAsTemporaryView","styles","setDegrees","_localWidth","_localHeight","_copyAnimatorsToAnotherView","onRemove","notifyAboutViewAdded","onViewAdded","_invokeAddCallbacks","onInitialLoad","_initialized","beforeEnter","init","setup","subscribeToEvents","ae","isRenderable","isInitialized","initialized","update","render","setPluginId","wt","oe","_plugin","dt","le","prototype","toString","indexOf","u","magnitudeSquared","magnitude","sqrt","unitVector","add","sub","dot","equals","clone","he","_element","_observe","setElement","_callback","ResizeObserver","clearTimeout","_parentElementScrollHandler","addEventListener","_windowScrollHandler","window","_windowResizeHandler","onChange","ue","ce","_","abs","E","match","parseFloat","unit","valueWithUnit","de","Mt","G","_topLeft","_topRight","_bottomLeft","_bottomRight","topLeft","topRight","bottomRight","bottomLeft","toCssPercentageForNewSize","_convertToPercentage","v","mt","ge","c","Nt","pe","_value","_e","me","_x","_y","ve","Bt","fe","offsetWidth","offsetHeight","round","right","bottom","pageOffset","read","getBoundingClientRect","Ft","offsetTop","offsetLeft","offsetParent","we","_invalid","_view","_isSvg","closest","_offsetLeft","_offsetTop","_width","_height","_parentWidth","_parentHeight","_parentEl","invalidate","_currentPageRect","_children","elementReader","invalidatePageRect","ye","Ve","_pageRectReader","_rect","_computedStyle","getComputedStyle","_scroll","_calculateScroll","rect","opacity","borderRadius","origin","transformOrigin","scrollTop","scrollLeft","scrollX","scrollY","scroll","kt","vt","Proxy","rt","yt","speed","Vt","be","animatorProp","current","_shouldFinish","callCompleteCallback","callUpdateCallback","Pe","Ee","p","bt","Pt","stiffness","damping","at","Et","Re","arguments","_velocity","xe","Ae","Te","Rt","duration","ease","xt","_startTime","Se","initial","ts","min","Ce","Le","At","createAnimatorByName","createInstantAnimator","createDynamicAnimator","createTweenAnimator","createSpringAnimator","it","Ie","Ot","Z","structuredClone","Me","_viewProp","_isAnimating","setAnimator","getAnimator","onComplete","_completeCallback","isAnimating","markAsAnimating","onUpdate","_updateCallback","k","_animatorProp","_animatorFactory","_initialValue","_previousValue","_targetValue","_currentValue","_hasChanged","_previousRenderValue","_animator","shouldRender","animator","_previousRect","_setTarget","hasChanged","Ne","setFromElementPropValue","enableUpdateWithScale","_updateWithScale","disableUpdateWithScale","invertedBorderRadius","_invertedBorderRadius","trim","_forceStyleUpdateThisFrame","_applyScaleInverse","applyScaleInverse","renderValue","projectStyles","isTransform","Be","Fe","console","log","ke","_parentDiff","_parent","getScroll","parentDx","parentDy","initialX","initialY","progressTo","isInverseEffectEnabled","isLayoutTransitionEnabled","isTemporaryView","_runLayoutTransition","_parentScaleInverse","Number","isNaN","_parents","f","V","B","M","I","O","S","z","D","U","Y","X","et","$","d","m","j","_animateLayoutUpdateNextFrame","w","b","T","C","H","R","Q","tt","A","L","isFinite","Oe","_unit","PI","setRadians","ze","setWithSize","layoutOption","viewProps","De","localWidth","localHeight","widthAfterScale","heightAfterScale","initialWidth","initialHeight","setWidth","setHeight","$e","_props","allProps","Array","from","values","allPropNames","keys","getPropByName","We","_elementReader","_viewParents","_getParents","_viewProps","_skipFirstRenderFrame","_layoutId","_layoutTransition","_temporaryView","_renderNextTick","_externalUserStyles","_getExternalUserStyles","_layoutOption","_getLayoutOption","_hasReadElement","_shouldReadRect","_readWithScroll","_elementObserver","removeAttribute","data","includes","slice","reduce","_onAddCallbacks","_onRemoveCallback","hasLayoutTransitionEnabledForParents","some","_inverseEffect","layoutTransition","inverseEffect","setAnimatorsFromParent","_isRemoved","hasElement","contains","intersects","overlapsWith","distanceTo","setHasReadElement","_updatePreviousRect","_cleanCssText","exec","startsWith","_getUserStyles","hasOwnProperty","Boolean","markAsAdded","onAdd","getChildren","getViewsById","getChild","getParent","qe","_handleRemovedViews","_handleAddedViews","_eventPluginsPerPlugin","_viewsToBeRemoved","_handleRemoveView","_plugins","_viewsPerPlugin","_getPluginViewById","_getPluginNameForElement","_getPluginIdForElement","getPluginByName","_isScopedElement","_pluginNameToPluginFactoryMap","scope","_removeElementsWithParent","Set","_viewsCreatedInPreviousFrame","_viewsToBeCreated","_isElementIgnored","_pluginNameToPluginConfigMap","velPluginKey","_createNewView","_getPluginById","_getLayoutIdForElement","_layoutIdToViewMap","_createChildrenForView","velLayoutId","_unassignViewFromPlugin","_views","splice","find","_destroyAll","_destroyPlugin","_resetPlugin","queueNodeToBeCreated","queueNodeToBeRemoved","notifyPluginAboutDataChange","getPlugins","getRenderablePlugins","getPluginsByName","hasPlugin","Error","documentElement","updatePlugin","pluginApi","Tt","eventBus","appEventBus","registry","create","addPlugin","getPlugin","onPluginEvent","removePluginEventListener","run","readyState","start","tick","listenToNativeEvents","clientX","clientY","previousTime","onNodeAdded","onNodeRemoved","reverse","He","Ht","props","previousX","previousY","pointerX","pointerY","distance","view","isDragging","stopped","directions","hasMoved","Ut","onSelect","_isDragging","preventDefault","_pointerDownPerView","_initialPointer","_pointerX","_pointerY","_initialPointerPerView","_emitEvent","_viewPointerPositionLog","_calculateDirections","_stopTimer","up","down","direction","projection","Ue","Ye","_targetPerView","_viewIsPointerDownMap","hasSwiped","max","Xe","je","Ke","freeze","__proto__","PointerClickEvent","PointerDownEvent","PointerMoveEvent","PointerUpEvent","Symbol","toStringTag","Ge","Yt","container","onScroll","startScrollTracking","Element","getScrollOffset","endScrollTracking","clientWidth","innerWidth","clientHeight","innerHeight","overflowY","scrollHeight","parentNode","nt","Xt","jt","Kt","J","array","slotId","itemId","object","Ze","entries","N","setEnabled","setData","setAutoScrollOnDrag","animation","configAnimation","continuousMode","configContinuousMode","manualSwap","configManualSwap","swapMode","configSwapMode","autoScrollOnDrag","swapySlot","swapyItem","userSelect","webkitUserSelect","touchAction","K","W","scrollBy","Ct","swapyHighlighted","ct","St","q","zIndex","F","Je","Qe","ti","error","children","ei","velDataConfigAnimation","velDataConfigSwapMode","velDataConfigContinuousMode","velDataConfigManualSwap","velLayoutPosition","velIgnore","ii","ri","si","onSwap","setSwapCallback","onSwapEnd","setSwapEndCallback","onSwapStart","setSwapStartCallback","enable","_rootEl","_veloxiApp","_slotElMap","_createSlotElMap","_itemElMap","_createItemElMap","_previousMap","_applyOrder","_swapCallback","_swapEndCallback","_swapStartCallback","setupMutationObserver","type","innerHTML","createSwapy"],"sources":["C:/xampp/htdocs/react_practica/practica_1/curso-react-intro/node_modules/swapy/dist/swapy.js"],"sourcesContent":["var Gt = Object.defineProperty;\nvar Zt = (r, t, e) => t in r ? Gt(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar P = (r, t, e) => Zt(r, typeof t != \"symbol\" ? t + \"\" : t, e);\nfunction gt(r, t) {\n  if (r.size !== t.size)\n    return !1;\n  for (let [e, i] of r)\n    if (!t.has(e) || t.get(e) !== i)\n      return !1;\n  return !0;\n}\nlet Jt = 0;\nfunction Qt() {\n  return Jt++ + \"\";\n}\nvar te = Object.defineProperty, ee = (r, t, e) => t in r ? te(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e, o = (r, t, e) => ee(r, typeof t != \"symbol\" ? t + \"\" : t, e);\nclass ot {\n  constructor(t) {\n    o(this, \"x\"), o(this, \"y\"), o(this, \"target\"), this.x = t.x, this.y = t.y, this.target = t.target;\n  }\n}\nclass ft extends ot {\n}\nclass lt extends ot {\n}\nclass ht extends ot {\n}\nclass ut extends ot {\n}\nclass $t {\n  constructor(t) {\n    o(this, \"pluginId\"), o(this, \"pluginName\"), o(this, \"viewName\"), o(this, \"dataName\"), o(this, \"dataValue\"), this.event = t, this.pluginId = t.pluginId, this.pluginName = t.pluginName, this.viewName = t.viewName, this.dataName = t.dataName, this.dataValue = t.dataValue;\n  }\n}\nfunction ie(r) {\n  return r.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(t, e) {\n    return e === 0 ? t.toLowerCase() : t.toUpperCase();\n  }).replace(/\\s+/g, \"\").replace(/-+/g, \"\");\n}\nfunction Lt(r) {\n  return r.split(\"\").map((t, e) => t.toUpperCase() === t ? `${e !== 0 ? \"-\" : \"\"}${t.toLowerCase()}` : t).join(\"\");\n}\nclass st {\n  constructor(t) {\n    o(this, \"node\"), this.node = t.node;\n  }\n}\nclass pt {\n  constructor(t) {\n    o(this, \"node\"), this.node = t.node;\n  }\n}\nclass se {\n  constructor(t) {\n    o(this, \"_eventBus\"), o(this, \"_observer\"), this._eventBus = t, this._observer = new MutationObserver(this._handler.bind(this)), this._observer.observe(document.body, {\n      childList: !0,\n      subtree: !0,\n      attributes: !0,\n      attributeOldValue: !0\n    });\n  }\n  _handler(t) {\n    t.forEach((e) => {\n      e.addedNodes.forEach((s) => {\n        if (!(s instanceof HTMLElement) || s.dataset.velViewId || s.parentElement && typeof s.parentElement.dataset.velAdded < \"u\")\n          return;\n        let n = s;\n        if (s.dataset.velView || (n = s.querySelector(\"[data-vel-view][data-vel-plugin]\")), !n) return;\n        this._eventBus.emitEvent(st, { node: n });\n        const a = n.querySelectorAll(\"[data-vel-plugin]\");\n        a.length && a.forEach((l) => {\n          this._eventBus.emitEvent(st, { node: l });\n        });\n      }), e.removedNodes.forEach((s) => {\n        if (!(s instanceof HTMLElement) || typeof s.dataset.velProcessing < \"u\") return;\n        const n = s.querySelectorAll(\"[data-vel-plugin]\");\n        n.length && n.forEach((a) => {\n          this._eventBus.emitEvent(pt, { node: a });\n        }), this._eventBus.emitEvent(pt, { node: s });\n      });\n      const i = e.attributeName;\n      if (i === \"data-vel-view\" && this._eventBus.emitEvent(st, {\n        node: e.target\n      }), i && /data-vel-data-.+/gi.test(i)) {\n        const s = e.target, n = s.dataset.velPluginId || \"\", a = s.dataset.velPlugin || \"\", l = s.dataset.velView || \"\", h = s.getAttribute(i);\n        if (h && h !== e.oldValue) {\n          const g = ie(\n            i.replace(\"data-vel-data-\", \"\")\n          );\n          this._eventBus.emitEvent($t, {\n            pluginId: n,\n            pluginName: a,\n            viewName: l,\n            dataName: g,\n            dataValue: h\n          });\n        }\n      }\n    });\n  }\n}\nclass ne {\n  execute(t) {\n    this.call(t);\n  }\n}\nclass It extends ne {\n  constructor(t) {\n    super(), o(this, \"_handler\"), this._handler = t;\n  }\n  getHandler() {\n    return this._handler;\n  }\n  call(t) {\n    this._handler(t);\n  }\n}\nclass _t {\n  constructor() {\n    o(this, \"_listeners\", /* @__PURE__ */ new Map()), o(this, \"_keyedListeners\", /* @__PURE__ */ new Map());\n  }\n  subscribeToEvent(t, e, i) {\n    if (i) {\n      this._subscribeToKeyedEvent(t, e, i);\n      return;\n    }\n    let s = this._listeners.get(t);\n    s || (s = [], this._listeners.set(t, s)), s.push(new It(e));\n  }\n  removeEventListener(t, e, i) {\n    if (i) {\n      this._removeKeyedEventListener(t, e, i);\n      return;\n    }\n    let s = this._listeners.get(t);\n    s && (s = s.filter(\n      (n) => n.getHandler() !== e\n    ), this._listeners.set(t, s));\n  }\n  _subscribeToKeyedEvent(t, e, i) {\n    let s = this._keyedListeners.get(t);\n    s || (s = /* @__PURE__ */ new Map(), this._keyedListeners.set(t, s));\n    let n = s.get(i);\n    n || (n = [], s.set(i, n)), n.push(new It(e));\n  }\n  _removeKeyedEventListener(t, e, i) {\n    let s = this._keyedListeners.get(t);\n    if (!s)\n      return;\n    let n = s.get(i);\n    n && (n = n.filter(\n      (a) => a.getHandler() !== e\n    ), s.set(i, n));\n  }\n  emitEvent(t, e, i) {\n    if (i) {\n      this._emitKeyedEvent(t, e, i);\n      return;\n    }\n    const s = this._listeners.get(t);\n    s && s.forEach((n) => {\n      n.execute(e);\n    });\n  }\n  _emitKeyedEvent(t, e, i) {\n    const s = this._keyedListeners.get(t);\n    if (!s) return;\n    const n = s.get(i);\n    n && n.forEach((a) => {\n      a.execute(e);\n    });\n  }\n  _convertListener(t) {\n    return (e) => t(e);\n  }\n  subscribeToPluginReadyEvent(t, e, i = !1) {\n    if (i) {\n      this.subscribeToEvent(\n        Dt,\n        this._convertListener(t),\n        e\n      );\n      return;\n    }\n    this.subscribeToEvent(\n      zt,\n      this._convertListener(t),\n      e\n    );\n  }\n  emitPluginReadyEvent(t, e, i = !1) {\n    if (i) {\n      this.emitEvent(\n        Dt,\n        e,\n        t\n      );\n      return;\n    }\n    this.emitEvent(\n      zt,\n      e,\n      t\n    );\n  }\n  reset() {\n    this._listeners.clear();\n  }\n}\nlet re = 0;\nfunction Wt() {\n  return re++ + \"\";\n}\nclass qt {\n  constructor(t, e, i, s, n, a, l) {\n    o(this, \"_registry\"), o(this, \"_eventBus\"), o(this, \"_appEventBus\"), o(this, \"_internalEventBus\"), o(this, \"_initialized\", !1), o(this, \"_config\"), o(this, \"_pluginFactory\"), o(this, \"_pluginName\"), o(this, \"_id\"), o(this, \"_pluginKey\"), o(this, \"_layoutIdViewMapWaitingToEnter\"), o(this, \"_apiData\"), o(this, \"_isReady\", !1), this._id = Wt(), this._pluginFactory = t, this._pluginName = e, this._registry = i, this._eventBus = s, this._appEventBus = n, this._internalEventBus = new _t(), this._config = a, this._layoutIdViewMapWaitingToEnter = /* @__PURE__ */ new Map(), this._pluginKey = l, this._apiData = {}, this._appEventBus.subscribeToPluginReadyEvent(\n      () => {\n        this._isReady = !0;\n      },\n      this._pluginName,\n      !0\n    );\n  }\n  get api() {\n    return this._apiData;\n  }\n  _setApi(t) {\n    this._apiData = t;\n  }\n  get pluginName() {\n    return this._pluginName;\n  }\n  get pluginFactory() {\n    return this._pluginFactory;\n  }\n  get pluginKey() {\n    return this._pluginKey;\n  }\n  get id() {\n    return this._id;\n  }\n  get config() {\n    return { ...this._config };\n  }\n  getViews(t) {\n    return t ? this._registry.getViewsByNameForPlugin(this, t) : this._registry.getViewsForPlugin(this);\n  }\n  getView(t) {\n    return t ? this._registry.getViewsByNameForPlugin(this, t)[0] : this._registry.getViewsForPlugin(this)[0];\n  }\n  getViewById(t) {\n    return this._registry.getViewById(t);\n  }\n  addView(t) {\n    this._registry.assignViewToPlugin(t, this);\n  }\n  setInternalEventBus(t) {\n    this._internalEventBus = t;\n  }\n  get internalBusEvent() {\n    return this._internalEventBus;\n  }\n  emit(t, e) {\n    this._internalEventBus.emitEvent(t, e, this.pluginKey);\n  }\n  on(t, e) {\n    this._internalEventBus.subscribeToEvent(t, e, this.pluginKey);\n  }\n  removeListener(t, e) {\n    this._internalEventBus.removeEventListener(t, e);\n  }\n  useEventPlugin(t, e = {}) {\n    const i = this._registry.createPlugin(\n      t,\n      this._eventBus,\n      e\n    );\n    return this._registry.associateEventPluginWithPlugin(this.id, i.id), i;\n  }\n  notifyAboutDataChanged(t) {\n    this.onDataChanged(t);\n  }\n  // @ts-ignore\n  onDataChanged(t) {\n  }\n  removeView(t) {\n    t.onRemoveCallback ? this._invokeRemoveCallback(t) : this._deleteView(t), t.removeListeners(), this.onViewRemoved(t);\n  }\n  _invokeRemoveCallback(t) {\n    const e = this._createTemporaryView(t);\n    requestAnimationFrame(() => {\n      var i;\n      (i = e.onRemoveCallback) == null || i.call(e, e, () => {\n        var s, n;\n        if ((s = t.onAddCallbacks) != null && s.afterRemoved && t.layoutId) {\n          const a = this._layoutIdViewMapWaitingToEnter.get(\n            t.layoutId\n          );\n          (n = a == null ? void 0 : a.onAddCallbacks) == null || n.afterEnter(a), this._layoutIdViewMapWaitingToEnter.delete(t.layoutId);\n        }\n        this._deleteView(e, !0), t.removeListeners();\n      }), setTimeout(() => {\n        e.element.parentElement && (this._deleteView(e, !0), t.removeListeners());\n      }, 1e4);\n    });\n  }\n  _deleteView(t, e = !1) {\n    (e || !t.layoutId) && (this._registry.removeViewById(t.id, this.id), t.element.remove(), t.destroy());\n  }\n  // This is a temporary view for deleted view. We need to create it\n  // to show it again so the user can animate it before it disappears.\n  _createTemporaryView(t) {\n    const e = t.previousRect.viewportOffset, i = t.previousRect.size, s = t.rotation.degrees < 0 ? 0 : Math.sin(t.rotation.radians) * i.height * t.scale.y, n = t.rotation.degrees > 0 ? 0 : Math.sin(t.rotation.radians) * i.width * t.scale.y, a = t.element.cloneNode(!0);\n    t.element.remove(), a.style.cssText = \"\", a.style.position = \"absolute\", a.style.left = `${e.left + s}px`, a.style.top = `${e.top - n}px`, a.style.width = `${i.width}px`, a.style.height = `${i.height}px`, a.style.transform = `\n      scale3d(${t.scale.x}, ${t.scale.y}, 1) rotate(${t.rotation.degrees}deg)\n    `, a.style.pointerEvents = \"none\", a.dataset.velRemoved = \"\", document.body.appendChild(a);\n    const l = this._registry.createView(a, t.name);\n    return l.setAsTemporaryView(), l.styles.position = \"absolute\", l.styles.left = `${e.left + s}px`, l.styles.top = `${e.top - n}px`, l.rotation.setDegrees(t.rotation.degrees, !1), l.scale.set({ x: t.scale.x, y: t.scale.y }, !1), l.size.set(\n      { width: t._localWidth, height: t._localHeight },\n      !1\n    ), t._copyAnimatorsToAnotherView(l), t.onRemoveCallback && l.onRemove(t.onRemoveCallback), l;\n  }\n  // @ts-ignore\n  onViewRemoved(t) {\n  }\n  notifyAboutViewAdded(t) {\n    this.onViewAdded(t), this._invokeAddCallbacks(t);\n  }\n  _invokeAddCallbacks(t) {\n    var e, i, s;\n    !((e = t.onAddCallbacks) != null && e.onInitialLoad) && !this._initialized || ((i = t.onAddCallbacks) == null || i.beforeEnter(t), !((s = t.onAddCallbacks) != null && s.afterRemoved) || !this._initialized ? requestAnimationFrame(() => {\n      var n;\n      (n = t.onAddCallbacks) == null || n.afterEnter(t);\n    }) : t.layoutId && this._layoutIdViewMapWaitingToEnter.set(t.layoutId, t));\n  }\n  // @ts-ignore\n  onViewAdded(t) {\n  }\n  init() {\n    !this._initialized && this._isReady && (this.setup(), this._initialized = !0);\n  }\n  setup() {\n  }\n  // @ts-ignore\n  subscribeToEvents(t) {\n  }\n}\nclass ae extends qt {\n  isRenderable() {\n    return !0;\n  }\n  isInitialized() {\n    return this._initialized;\n  }\n  get initialized() {\n    return this._initialized;\n  }\n  // @ts-ignore\n  update(t, e) {\n  }\n  render() {\n  }\n  addView(t) {\n    t.setPluginId(this.id), super.addView(t);\n  }\n}\nclass wt extends qt {\n  isRenderable() {\n    return !1;\n  }\n}\nclass oe {\n  constructor(t) {\n    o(this, \"_plugin\"), this._plugin = t;\n  }\n  get initialized() {\n    return this._plugin.isInitialized();\n  }\n  get config() {\n    return this._plugin.config;\n  }\n  setup(t) {\n    this._plugin.setup = t;\n  }\n  api(t) {\n    this._plugin._setApi(t);\n  }\n  update(t) {\n    this._plugin.update = t;\n  }\n  render(t) {\n    this._plugin.render = t;\n  }\n  getViews(t) {\n    return this._plugin.getViews(t);\n  }\n  getView(t) {\n    return this._plugin.getView(t);\n  }\n  getViewById(t) {\n    return this._plugin.getViewById(t);\n  }\n  useEventPlugin(t, e = {}) {\n    return this._plugin.useEventPlugin(t, e);\n  }\n  emit(t, e) {\n    this._plugin.emit(t, e);\n  }\n  on(t, e) {\n    this._plugin.on(t, e);\n  }\n  onDataChanged(t) {\n    this._plugin.onDataChanged = t;\n  }\n  onViewRemoved(t) {\n    this._plugin.onViewRemoved = t;\n  }\n  onViewAdded(t) {\n    this._plugin.onViewAdded = t;\n  }\n  subscribeToEvents(t) {\n    this._plugin.subscribeToEvents = t;\n  }\n}\nfunction dt(r, t, e, i, s, n) {\n  if (le(r))\n    return new r(\n      r,\n      r.pluginName,\n      t,\n      e,\n      i,\n      s,\n      n\n    );\n  const a = new ae(\n    r,\n    r.pluginName,\n    t,\n    e,\n    i,\n    s,\n    n\n  ), l = new oe(a);\n  return r(l), a;\n}\nfunction le(r) {\n  var t;\n  return ((t = r.prototype) == null ? void 0 : t.constructor.toString().indexOf(\"class \")) === 0;\n}\nclass u {\n  constructor(t, e) {\n    o(this, \"x\"), o(this, \"y\"), this.x = t, this.y = e;\n  }\n  get magnitudeSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n  get magnitude() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n  get unitVector() {\n    const t = new u(0, 0), e = this.magnitude;\n    return e !== 0 && (t.x = this.x / e, t.y = this.y / e), t;\n  }\n  add(t) {\n    this.x += t.x, this.y += t.y;\n  }\n  sub(t) {\n    this.x -= t.x, this.y -= t.y;\n  }\n  scale(t) {\n    this.x *= t, this.y *= t;\n  }\n  dot(t) {\n    return this.x * t.x + this.y * t.y;\n  }\n  equals(t) {\n    return this.x === t.x && this.y === t.y;\n  }\n  clone() {\n    return new u(this.x, this.y);\n  }\n  static scale(t, e) {\n    return new u(t.x * e, t.y * e);\n  }\n  static sub(t, e) {\n    return new u(t.x - e.x, t.y - e.y);\n  }\n  static add(t, e) {\n    return new u(t.x + e.x, t.y + e.y);\n  }\n}\nclass he {\n  constructor(t) {\n    o(this, \"_element\"), o(this, \"_callback\"), o(this, \"_windowScrollHandler\"), o(this, \"_windowResizeHandler\"), o(this, \"_parentElementScrollHandler\"), this._element = t, this._observe();\n  }\n  setElement(t) {\n    this._element = t, this._observe();\n  }\n  _observe() {\n    var t;\n    const e = new MutationObserver(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !1);\n    }), i = {\n      attributes: !0,\n      childList: !0,\n      attributeOldValue: !0\n    };\n    e.observe(this._element, i), new ResizeObserver(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }).observe(this._element);\n    function s(n, a) {\n      let l, h = !0;\n      return function() {\n        h && (n(), h = !1), clearTimeout(l), l = setTimeout(() => {\n          n(), h = !0;\n        }, a);\n      };\n    }\n    this._parentElementScrollHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), (t = this._element.parentElement) == null || t.addEventListener(\n      \"scroll\",\n      this._parentElementScrollHandler\n    ), this._windowScrollHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), window.addEventListener(\"scroll\", this._windowScrollHandler), this._windowResizeHandler = s(() => {\n      var n;\n      (n = this._callback) == null || n.call(this, !0);\n    }, 30), window.addEventListener(\"resize\", this._windowResizeHandler);\n  }\n  onChange(t) {\n    this._callback = t;\n  }\n  destroy() {\n    var t;\n    this._parentElementScrollHandler && ((t = this._element.parentElement) == null || t.removeEventListener(\n      \"scroll\",\n      this._parentElementScrollHandler\n    )), this._windowScrollHandler && window.removeEventListener(\"scroll\", this._windowScrollHandler), this._windowResizeHandler && window.removeEventListener(\"resize\", this._windowResizeHandler);\n  }\n}\nfunction ue(r) {\n  return new he(r);\n}\nfunction ce(r, t) {\n  const e = t.x - r.x, i = t.y - r.y;\n  return Math.sqrt(e * e + i * i);\n}\nfunction _(r, t) {\n  const e = r - t;\n  return Math.abs(e) <= 0.01;\n}\nfunction E(r) {\n  let t = r.match(/^([\\d.]+)([a-zA-Z%]*)$/);\n  t || (t = \"0px\".match(/^([\\d.]+)([a-zA-Z%]*)$/));\n  const e = parseFloat(t[1]), i = t[2];\n  return { value: e, unit: i, valueWithUnit: r };\n}\nfunction de(r, t, e = !1) {\n  if (r === t) return !0;\n  if (r.length !== t.length) return !1;\n  for (let i = 0; i < r.length; i++)\n    if (e && !_(r[i].value, t[i].value) || r[i].value !== t[i].value)\n      return !1;\n  return !0;\n}\nfunction Mt(r, t) {\n  return de(r, t, !0);\n}\nclass G {\n  constructor(t, e, i, s) {\n    o(this, \"_topLeft\"), o(this, \"_topRight\"), o(this, \"_bottomLeft\"), o(this, \"_bottomRight\"), this._topLeft = t, this._topRight = e, this._bottomLeft = i, this._bottomRight = s;\n  }\n  get value() {\n    return {\n      topLeft: this._topLeft,\n      topRight: this._topRight,\n      bottomRight: this._bottomRight,\n      bottomLeft: this._bottomLeft\n    };\n  }\n  equals(t) {\n    return _(this.value.topLeft.value, t.value.topLeft.value) && _(this.value.topRight.value, t.value.topRight.value) && _(this.value.bottomRight.value, t.value.bottomRight.value) && _(this.value.bottomLeft.value, t.value.bottomLeft.value);\n  }\n  toCssPercentageForNewSize(t) {\n    const e = this._convertToPercentage(this._topLeft, t), i = this._convertToPercentage(this._topRight, t), s = this._convertToPercentage(this._bottomLeft, t), n = this._convertToPercentage(this._bottomRight, t);\n    return `${e.h} ${i.h} ${n.h} ${s.h} / ${e.v} ${i.v} ${n.v} ${s.v}`;\n  }\n  _convertToPercentage(t, e) {\n    if (t.unit === \"%\")\n      return { h: `${t.value}%`, v: `${t.value}%` };\n    const i = t.value / e.width * 100, s = t.value / e.height * 100;\n    return { h: `${i}%`, v: `${s}%` };\n  }\n}\nfunction mt(r) {\n  const t = r.split(\" \").map((i) => E(i)), e = {\n    value: 0,\n    unit: \"\",\n    valueWithUnit: \"0\"\n  };\n  switch (t.length) {\n    case 1:\n      return new G(t[0], t[0], t[0], t[0]);\n    case 2:\n      return new G(t[0], t[1], t[0], t[1]);\n    case 3:\n      return new G(t[0], t[1], t[2], t[1]);\n    case 4:\n      return new G(t[0], t[1], t[3], t[2]);\n    default:\n      return new G(\n        e,\n        e,\n        e,\n        e\n      );\n  }\n}\nfunction ge(r, t) {\n  const e = a(r.topLeft, t), i = a(r.topRight, t), s = a(r.bottomLeft, t), n = a(r.bottomRight, t);\n  return {\n    v: {\n      topLeft: e.v,\n      topRight: i.v,\n      bottomRight: n.v,\n      bottomLeft: s.v\n    },\n    h: {\n      topLeft: e.h,\n      topRight: i.h,\n      bottomRight: n.h,\n      bottomLeft: s.h\n    }\n  };\n  function a(l, h) {\n    if (l.unit === \"%\")\n      return {\n        h: E(`${l.value}%`),\n        v: E(`${l.value}%`)\n      };\n    const g = l.value / h.width * 100, c = l.value / h.height * 100;\n    return { h: E(`${g}%`), v: E(`${c}%`) };\n  }\n}\nfunction Nt(r, t) {\n  return _(r.topLeft.value, t.topLeft.value) && _(r.topRight.value, t.topRight.value) && _(r.bottomRight.value, t.bottomRight.value) && _(r.bottomLeft.value, t.bottomLeft.value);\n}\nclass pe {\n  constructor(t) {\n    o(this, \"_value\"), this._value = t;\n  }\n  get value() {\n    return this._value;\n  }\n  equals(t) {\n    return _(this.value, t.value);\n  }\n}\nfunction _e(r) {\n  return new pe(parseFloat(r));\n}\nclass me {\n  constructor(t, e) {\n    o(this, \"_x\"), o(this, \"_y\"), this._x = t, this._y = e;\n  }\n  get value() {\n    return new u(this._x, this._y);\n  }\n}\nfunction ve(r, t) {\n  const [e, i] = r.split(\" \"), s = E(e), n = E(i);\n  return new me(\n    s.value / t.width,\n    n.value / t.height\n  );\n}\nfunction Bt(r, t) {\n  const e = fe(r), i = r.offsetWidth, s = r.offsetHeight;\n  return {\n    viewportOffset: {\n      left: Math.round(e.left),\n      top: Math.round(e.top),\n      right: Math.round(e.right),\n      bottom: Math.round(e.bottom)\n    },\n    pageOffset: t.read({\n      width: i,\n      height: s\n    }),\n    size: {\n      width: i,\n      height: s\n    }\n  };\n}\nfunction fe(r) {\n  const t = r.getBoundingClientRect();\n  return {\n    left: t.left,\n    top: t.top,\n    right: t.right,\n    bottom: t.bottom,\n    width: t.width,\n    height: t.height\n  };\n}\nfunction Ft(r) {\n  let t = r, e = 0, i = 0;\n  for (; t; )\n    e += t.offsetTop, i += t.offsetLeft, t = t.offsetParent;\n  return { top: e, left: i };\n}\nclass we {\n  constructor(t) {\n    o(this, \"_currentPageRect\"), o(this, \"_view\"), o(this, \"_element\"), o(this, \"_offsetLeft\"), o(this, \"_offsetTop\"), o(this, \"_width\"), o(this, \"_height\"), o(this, \"_parentWidth\"), o(this, \"_parentHeight\"), o(this, \"_parentEl\"), o(this, \"_isSvg\"), o(this, \"_invalid\"), o(this, \"_windowResizeHandler\"), this._invalid = !0, this._view = t, this._element = t.element, this._isSvg = !!this._element.closest(\"svg\"), this._offsetLeft = 0, this._offsetTop = 0, this._width = 0, this._height = 0, this._parentWidth = 0, this._parentHeight = 0, this._offsetLeft = 0, this._parentEl = this._element.parentElement, this._windowResizeHandler = () => {\n      this.invalidate();\n    }, window.addEventListener(\"resize\", this._windowResizeHandler);\n  }\n  destroy() {\n    this._windowResizeHandler && window.removeEventListener(\"resize\", this._windowResizeHandler);\n  }\n  invalidate() {\n    this._invalid = !0;\n  }\n  read(t) {\n    if (this._isSvg)\n      return this._currentPageRect || (this._currentPageRect = Ft(this._element)), this._currentPageRect;\n    const e = this._element.parentElement, i = this._element.offsetLeft, s = this._element.offsetTop, n = t.width, a = t.height, l = (e == null ? void 0 : e.offsetWidth) || 0, h = (e == null ? void 0 : e.offsetHeight) || 0;\n    return (this._offsetLeft !== i || this._offsetTop !== s || !_(this._width, n) || !_(this._height, a)) && this._view._children.forEach(\n      (g) => g.elementReader.invalidatePageRect()\n    ), !this._invalid && this._currentPageRect && this._offsetLeft === i && this._offsetTop === s && _(this._width, n) && _(this._height, a) && _(this._parentWidth, l) && _(this._parentHeight, h) && this._parentEl === e ? this._currentPageRect : (this._offsetLeft = i, this._offsetTop = s, this._width = n, this._height = a, this._parentWidth = l, this._parentHeight = h, this._parentEl = e, this._currentPageRect = Ft(this._element), this._invalid = !1, this._currentPageRect);\n  }\n}\nfunction ye(r) {\n  return new we(r);\n}\nclass Ve {\n  constructor(t) {\n    o(this, \"_element\"), o(this, \"_rect\"), o(this, \"_computedStyle\"), o(this, \"_pageRectReader\"), o(this, \"_scroll\"), this._element = t.element, this._pageRectReader = ye(t), this._rect = Bt(this._element, this._pageRectReader), this._computedStyle = getComputedStyle(this._element), this._scroll = this._calculateScroll();\n  }\n  destroy() {\n    this._pageRectReader.destroy();\n  }\n  invalidatePageRect() {\n    this._pageRectReader.invalidate();\n  }\n  update(t = !1) {\n    this._rect = Bt(this._element, this._pageRectReader), this._computedStyle = getComputedStyle(this._element), t && (this._scroll = this._calculateScroll());\n  }\n  get rect() {\n    return this._rect;\n  }\n  get opacity() {\n    return _e(this._computedStyle.opacity);\n  }\n  get borderRadius() {\n    return mt(this._computedStyle.borderRadius);\n  }\n  get origin() {\n    return ve(\n      this._computedStyle.transformOrigin,\n      this._rect.size\n    );\n  }\n  _calculateScroll() {\n    let t = this._element, e = 0, i = 0;\n    for (; t; )\n      e += t.scrollTop, i += t.scrollLeft, t = t.offsetParent;\n    return i += window.scrollX, e += window.scrollY, { y: e, x: i };\n  }\n  get scroll() {\n    return this._scroll;\n  }\n}\nfunction kt(r) {\n  return new Ve(r);\n}\nfunction vt(r, t) {\n  const e = {\n    set: (i, s, n) => (typeof i[s] == \"object\" && i[s] !== null ? i[s] = vt(n, t) : (t(), i[s] = n), !0),\n    get: (i, s) => typeof i[s] == \"object\" && i[s] !== null ? vt(i[s], t) : i[s]\n  };\n  return new Proxy(r, e);\n}\nconst rt = 0.01, yt = {\n  speed: 15\n};\nclass Vt {\n  constructor(t) {\n    o(this, \"name\", \"dynamic\"), o(this, \"_config\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n}\nclass be extends Vt {\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    const n = u.sub(i, e), a = u.scale(n, this._config.speed);\n    let l = u.add(e, u.scale(a, s));\n    return this._shouldFinish(i, e, a) && (l = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), t.callUpdateCallback(), l;\n  }\n  _shouldFinish(t, e, i) {\n    return u.sub(t, e).magnitude < rt && i.magnitude < rt;\n  }\n}\nclass Pe extends Vt {\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    const n = (i - e) * this._config.speed;\n    let a = e + n * s;\n    return _(a, i) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), t.callUpdateCallback(), a;\n  }\n}\nclass Ee extends Vt {\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    return i.map((n, a) => {\n      const l = e[a], h = n.value === 0 ? l.unit : n.unit, g = (n.value - l.value) * this._config.speed, c = l.value + g * s;\n      let p = E(`${c}${h}`);\n      return this._shouldFinish(n.value, l.value, g) && (p = n, requestAnimationFrame(() => {\n        t.callCompleteCallback();\n      })), t.callUpdateCallback(), p;\n    });\n  }\n  _shouldFinish(t, e, i) {\n    return Math.abs(t - e) < rt && Math.abs(i) < rt;\n  }\n}\nclass bt {\n  constructor() {\n    o(this, \"name\", \"instant\"), o(this, \"_config\", {});\n  }\n  get config() {\n    return this._config;\n  }\n  update(t) {\n    return requestAnimationFrame(() => {\n      t.animatorProp.callCompleteCallback();\n    }), t.target;\n  }\n}\nconst Pt = {\n  stiffness: 0.5,\n  damping: 0.75,\n  speed: 10\n}, at = 0.01;\nclass Et {\n  constructor(t) {\n    o(this, \"name\", \"spring\"), o(this, \"_config\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n}\nclass Re extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", new u(0, 0));\n  }\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    const n = u.scale(\n      u.scale(u.sub(e, i), -1),\n      this._config.stiffness\n    );\n    this._velocity = u.add(this._velocity, n), this._velocity = u.scale(this._velocity, this._config.damping);\n    let a = u.add(\n      e,\n      u.scale(this._velocity, s * this._config.speed)\n    );\n    return this._shouldFinish(i, e) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), a;\n  }\n  _shouldFinish(t, e) {\n    return u.sub(t, e).magnitude < at && this._velocity.magnitude < at;\n  }\n}\nclass xe extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", 0);\n  }\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    const n = -(e - i) * this._config.stiffness;\n    this._velocity += n, this._velocity *= this._config.damping;\n    let a = e + this._velocity * s * this._config.speed;\n    return _(a, i) && (a = i, requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    })), a;\n  }\n}\nclass Ae extends Et {\n  constructor() {\n    super(...arguments), o(this, \"_velocity\", 0);\n  }\n  update({ animatorProp: t, current: e, target: i, dt: s }) {\n    return i.map((n, a) => {\n      const l = e[a], h = n.value === 0 ? l.unit : n.unit, g = -(l.value - n.value) * this._config.stiffness;\n      this._velocity += g, this._velocity *= this._config.damping;\n      const c = l.value + this._velocity * s * this._config.speed;\n      let p = E(`${c}${h}`);\n      return this._shouldFinish(n.value, l.value) && (p = n, requestAnimationFrame(() => {\n        t.callCompleteCallback();\n      })), p;\n    });\n  }\n  _shouldFinish(t, e) {\n    return Math.abs(t - e) < at && Math.abs(this._velocity) < at;\n  }\n}\nfunction Te(r) {\n  return r;\n}\nconst Rt = {\n  duration: 350,\n  ease: Te\n};\nclass xt {\n  constructor(t) {\n    o(this, \"name\", \"tween\"), o(this, \"_config\"), o(this, \"_startTime\"), this._config = t;\n  }\n  get config() {\n    return this._config;\n  }\n  reset() {\n    this._startTime = void 0;\n  }\n}\nclass Se extends xt {\n  update({ animatorProp: t, initial: e, target: i, ts: s }) {\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : u.add(\n      e,\n      u.scale(u.sub(i, e), this._config.ease(n))\n    );\n  }\n}\nclass Ce extends xt {\n  update({ animatorProp: t, initial: e, target: i, ts: s }) {\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : e.map((a, l) => {\n      const h = i[l], g = h.value === 0 ? a.unit : h.unit, c = a.value + this._config.ease(n) * (i[l].value - a.value);\n      return E(`${c}${g}`);\n    });\n  }\n}\nclass Le extends xt {\n  update({ animatorProp: t, initial: e, target: i, ts: s }) {\n    this._startTime || (this._startTime = s);\n    const n = Math.min(1, (s - this._startTime) / this._config.duration);\n    return _(n, 1) ? (requestAnimationFrame(() => {\n      t.callCompleteCallback();\n    }), i) : e + (i - e) * this._config.ease(n);\n  }\n}\nclass At {\n  createAnimatorByName(t, e) {\n    switch (t) {\n      case \"instant\":\n        return this.createInstantAnimator();\n      case \"dynamic\":\n        return this.createDynamicAnimator(e);\n      case \"tween\":\n        return this.createTweenAnimator(e);\n      case \"spring\":\n        return this.createSpringAnimator(e);\n    }\n    return this.createInstantAnimator();\n  }\n}\nclass it extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createTweenAnimator(t) {\n    return new Se({ ...Rt, ...t });\n  }\n  createDynamicAnimator(t) {\n    return new be({ ...yt, ...t });\n  }\n  createSpringAnimator(t) {\n    return new Re({ ...Pt, ...t });\n  }\n}\nclass Ie extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createTweenAnimator(t) {\n    return new Ce({ ...Rt, ...t });\n  }\n  createDynamicAnimator(t) {\n    return new Ee({\n      ...yt,\n      ...t\n    });\n  }\n  createSpringAnimator(t) {\n    return new Ae({ ...Pt, ...t });\n  }\n}\nclass Ot extends At {\n  createInstantAnimator() {\n    return new bt();\n  }\n  createDynamicAnimator(t) {\n    return new Pe({ ...yt, ...t });\n  }\n  createTweenAnimator(t) {\n    return new Le({ ...Rt, ...t });\n  }\n  createSpringAnimator(t) {\n    return new xe({ ...Pt, ...t });\n  }\n}\nfunction Z(r) {\n  return structuredClone(r);\n}\nclass Me {\n  constructor(t) {\n    o(this, \"_viewProp\"), o(this, \"_completeCallback\"), o(this, \"_updateCallback\"), o(this, \"_isAnimating\"), this._viewProp = t, this._isAnimating = !1;\n  }\n  set(t, e) {\n    this._viewProp.setAnimator(t, e);\n  }\n  get name() {\n    return this._viewProp.getAnimator().name;\n  }\n  onComplete(t) {\n    this._completeCallback = t;\n  }\n  get isAnimating() {\n    return this._isAnimating;\n  }\n  markAsAnimating() {\n    this._isAnimating = !0;\n  }\n  callCompleteCallback() {\n    var t;\n    (t = this._completeCallback) == null || t.call(this), this._isAnimating = !1;\n  }\n  onUpdate(t) {\n    this._updateCallback = t;\n  }\n  callUpdateCallback() {\n    var t;\n    (t = this._updateCallback) == null || t.call(this);\n  }\n}\nclass k {\n  constructor(t, e, i) {\n    o(this, \"_animatorProp\"), o(this, \"_animator\"), o(this, \"_initialValue\"), o(this, \"_previousValue\"), o(this, \"_targetValue\"), o(this, \"_currentValue\"), o(this, \"_hasChanged\"), o(this, \"_view\"), o(this, \"_animatorFactory\"), o(this, \"_previousRenderValue\"), this._animatorProp = new Me(this), this._animatorFactory = t, this._initialValue = Z(e), this._previousValue = Z(e), this._targetValue = Z(e), this._currentValue = Z(e), this._hasChanged = !1, this._previousRenderValue = void 0, this._view = i, this._animator = this._animatorFactory.createInstantAnimator();\n  }\n  get shouldRender() {\n    return !0;\n  }\n  get isAnimating() {\n    return this.animator.isAnimating;\n  }\n  getAnimator() {\n    return this._animator;\n  }\n  get animator() {\n    return this._animatorProp;\n  }\n  get _rect() {\n    return this._view.rect;\n  }\n  get _previousRect() {\n    return this._view.previousRect;\n  }\n  setAnimator(t, e) {\n    this._animator = this._animatorFactory.createAnimatorByName(\n      t,\n      e\n    );\n  }\n  _setTarget(t, e = !0) {\n    var i, s;\n    this._previousValue = Z(this._currentValue), this._targetValue = t, e ? ((s = (i = this._animator).reset) == null || s.call(i), this.animator.markAsAnimating()) : this._currentValue = t, this._hasChanged = !0;\n  }\n  hasChanged() {\n    return this._hasChanged;\n  }\n  destroy() {\n    this._hasChanged = !1;\n  }\n  // @ts-ignore\n  update(t, e) {\n  }\n}\nclass Ne extends k {\n  constructor() {\n    super(...arguments), o(this, \"_invertedBorderRadius\"), o(this, \"_forceStyleUpdateThisFrame\", !1), o(this, \"_updateWithScale\", !1);\n  }\n  setFromElementPropValue(t) {\n    this._setTarget(\n      [\n        t.value.topLeft,\n        t.value.topRight,\n        t.value.bottomRight,\n        t.value.bottomLeft\n      ],\n      !0\n    );\n  }\n  enableUpdateWithScale() {\n    this._updateWithScale = !0;\n  }\n  disableUpdateWithScale() {\n    this._updateWithScale = !1;\n  }\n  get value() {\n    return {\n      topLeft: this._currentValue[0],\n      topRight: this._currentValue[1],\n      bottomRight: this._currentValue[2],\n      bottomLeft: this._currentValue[3]\n    };\n  }\n  get invertedBorderRadius() {\n    return this._invertedBorderRadius;\n  }\n  set(t, e = !0) {\n    let i;\n    if (typeof t == \"string\") {\n      const h = mt(t.trim());\n      i = {\n        topLeft: h.value.topLeft.valueWithUnit,\n        topRight: h.value.topRight.valueWithUnit,\n        bottomRight: h.value.bottomRight.valueWithUnit,\n        bottomLeft: h.value.bottomLeft.valueWithUnit\n      };\n    } else\n      i = t;\n    const s = i.topLeft ? E(i.topLeft) : this._currentValue[0], n = i.topRight ? E(i.topRight) : this._currentValue[1], a = i.bottomRight ? E(i.bottomRight) : this._currentValue[2], l = i.bottomLeft ? E(i.bottomLeft) : this._currentValue[3];\n    this._setTarget([s, n, a, l], e);\n  }\n  reset(t = !0) {\n    this._setTarget(this._initialValue, t);\n  }\n  update(t, e) {\n    if (this._forceStyleUpdateThisFrame)\n      this._hasChanged = !0, this._forceStyleUpdateThisFrame = !1;\n    else if (this._view.scale.isAnimating && this._updateWithScale)\n      this._hasChanged = !0;\n    else if (Mt(this._targetValue, this._currentValue)) {\n      this._hasChanged = !Mt(\n        this._targetValue,\n        this._initialValue\n      );\n      return;\n    }\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }), this._updateWithScale && this._applyScaleInverse();\n  }\n  applyScaleInverse() {\n    this._updateWithScale && (this._forceStyleUpdateThisFrame = !0);\n  }\n  _applyScaleInverse() {\n    if (_(this._view.scale.x, 1) && _(this._view.scale.y, 1))\n      return;\n    const t = this._rect.size.width * this._view.scale.x, e = this._rect.size.height * this._view.scale.y;\n    this._invertedBorderRadius = ge(\n      mt(\n        `${this._currentValue[0].valueWithUnit} ${this._currentValue[1].valueWithUnit} ${this._currentValue[2].valueWithUnit} ${this._currentValue[3].valueWithUnit}`\n      ).value,\n      {\n        width: t,\n        height: e\n      }\n    );\n  }\n  get shouldRender() {\n    return this._hasChanged ? this._previousRenderValue ? !(Nt(\n      this.renderValue.v,\n      this._previousRenderValue.v\n    ) && Nt(this.renderValue.h, this._previousRenderValue.h)) : !0 : !1;\n  }\n  get renderValue() {\n    return this.invertedBorderRadius ? {\n      v: {\n        topLeft: this.invertedBorderRadius.v.topLeft,\n        topRight: this.invertedBorderRadius.v.topRight,\n        bottomLeft: this.invertedBorderRadius.v.bottomLeft,\n        bottomRight: this.invertedBorderRadius.v.bottomRight\n      },\n      h: {\n        topLeft: this.invertedBorderRadius.h.topLeft,\n        topRight: this.invertedBorderRadius.h.topRight,\n        bottomLeft: this.invertedBorderRadius.h.bottomLeft,\n        bottomRight: this.invertedBorderRadius.h.bottomRight\n      }\n    } : {\n      v: {\n        topLeft: this.value.topLeft,\n        topRight: this.value.topRight,\n        bottomLeft: this.value.bottomLeft,\n        bottomRight: this.value.bottomRight\n      },\n      h: {\n        topLeft: this.value.topLeft,\n        topRight: this.value.topRight,\n        bottomLeft: this.value.bottomLeft,\n        bottomRight: this.value.bottomRight\n      }\n    };\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `border-radius: ${t.h.topLeft.valueWithUnit} ${t.h.topRight.valueWithUnit} ${t.h.bottomRight.valueWithUnit} ${t.h.bottomLeft.valueWithUnit} / ${t.v.topLeft.valueWithUnit} ${t.v.topRight.valueWithUnit} ${t.v.bottomRight.valueWithUnit} ${t.v.bottomLeft.valueWithUnit};`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass Be extends k {\n  setFromElementPropValue(t) {\n    this._setTarget(t.value, !0);\n  }\n  get value() {\n    return this._currentValue;\n  }\n  set(t, e = !0) {\n    this._setTarget(t, e);\n  }\n  reset(t = !0) {\n    this._setTarget(1, t);\n  }\n  update(t, e) {\n    if (_(this._targetValue, this._currentValue)) {\n      this._hasChanged = !_(this._targetValue, this._initialValue);\n      return;\n    }\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    });\n  }\n  get shouldRender() {\n    return this._hasChanged ? typeof this._previousRenderValue > \"u\" ? !0 : this.renderValue !== this._previousRenderValue : !1;\n  }\n  get renderValue() {\n    return this.value;\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `opacity: ${t};`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass Fe extends k {\n  get x() {\n    return this._currentValue.x;\n  }\n  get y() {\n    return this._currentValue.y;\n  }\n  set(t) {\n    const e = { x: this.x, y: this.y, ...t };\n    if (e.x < 0 || e.x > 1) {\n      console.log(\n        `%c WARNING: ${this._view.name}.origin.x property can only be a value from 0 to 1`,\n        \"background: #885500\"\n      );\n      return;\n    }\n    if (e.y < 0 || e.y > 1) {\n      console.log(\n        `%c WARNING: ${this._view.name}.origin.y property can only be a value from 0 to 1`,\n        \"background: #885500\"\n      );\n      return;\n    }\n    this._setTarget(new u(e.x, e.y), !1);\n  }\n  reset() {\n    this._setTarget(this._initialValue, !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged)\n      return !1;\n    if (!this._previousRenderValue)\n      return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    return new u(this.x * 100, this.y * 100);\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `transform-origin: ${t.x}% ${t.y}%;`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass ke extends k {\n  constructor() {\n    super(...arguments), o(this, \"_animateLayoutUpdateNextFrame\", !1), o(this, \"_parentScaleInverse\", new u(1, 1));\n  }\n  get _parentDiff() {\n    let t = this._view._parent, e = 0, i = 0;\n    if (t) {\n      const s = t.rect.pageOffset, n = t.getScroll(), a = {\n        left: t.previousRect.viewportOffset.left + n.x,\n        top: t.previousRect.viewportOffset.top + n.y\n      };\n      e = a.left - s.left, i = a.top - s.top;\n    }\n    return { parentDx: e, parentDy: i };\n  }\n  get x() {\n    return this._currentValue.x + this._rect.pageOffset.left + this._parentDiff.parentDx;\n  }\n  get y() {\n    return this._currentValue.y + this._rect.pageOffset.top + this._parentDiff.parentDy;\n  }\n  get initialX() {\n    return this._rect.pageOffset.left;\n  }\n  get initialY() {\n    return this._rect.pageOffset.top;\n  }\n  progressTo(t) {\n    const e = typeof t.x > \"u\" ? this.initialX : t.x, i = typeof t.y > \"u\" ? this.initialY : t.y, s = new u(e, i), n = new u(this.initialX, this.initialY), a = new u(this.x, this.y), l = u.sub(a, n), h = u.sub(s, n);\n    return 1 - u.sub(h, l).magnitude / h.magnitude;\n  }\n  set(t, e = !0) {\n    const i = { x: this.x, y: this.y, ...t };\n    this._setTarget(\n      new u(\n        i.x - this._rect.pageOffset.left,\n        i.y - this._rect.pageOffset.top\n      ),\n      e\n    );\n  }\n  reset(t = !0) {\n    this._setTarget(new u(0, 0), t);\n  }\n  update(t, e) {\n    if ((this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && !this._view.isTemporaryView && this._runLayoutTransition(), this._view.isInverseEffectEnabled) {\n      const h = this._view._parent, g = h ? h.scale.x : 1, c = h ? h.scale.y : 1;\n      this._parentScaleInverse = new u(1 / g, 1 / c), this._parentScaleInverse.equals(new u(1, 1)) || (this._hasChanged = !0);\n    }\n    if (this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y)\n      return;\n    const i = this._view._parent, s = i ? i.scale.x : 1, n = i ? i.scale.y : 1, a = i ? i.scale._previousValue.x : 1, l = i ? i.scale._previousValue.y : 1;\n    this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: new u(\n        this._currentValue.x * s,\n        this._currentValue.y * n\n      ),\n      target: this._targetValue,\n      initial: new u(\n        this._previousValue.x * a,\n        this._previousValue.y * l\n      ),\n      ts: t,\n      dt: e\n    }), this._currentValue = new u(\n      this._currentValue.x / s,\n      this._currentValue.y / n\n    );\n  }\n  _runLayoutTransition() {\n    const t = !(this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y), e = !(this._view.scale._targetValue.x === this._view.scale._currentValue.x && this._view.scale._targetValue.y === this._view.scale._currentValue.y), i = t || e, s = this._rect.pageOffset.left - this._previousRect.pageOffset.left, n = this._rect.pageOffset.top - this._previousRect.pageOffset.top, a = this._previousRect.size.width / this._rect.size.width, l = this._previousRect.size.height / this._rect.size.height;\n    let h = !1;\n    if (s !== 0 || n !== 0 || !Number.isNaN(a) && a !== 1 || !Number.isNaN(l) && l !== 1 ? h = !0 : h = (() => {\n      const g = this._view._parents;\n      for (let c = 0; c < g.length; c++) {\n        const p = g[c], f = p.previousRect.size.width / p.rect.size.width, V = p.previousRect.size.height / p.rect.size.height;\n        if (f !== 1 || V !== 1)\n          return !0;\n      }\n      return !1;\n    })(), h) {\n      if (this._currentValue.x !== 0 || this._currentValue.y !== 0 || this._view.scale._currentValue.x !== 1 || this._view.scale._currentValue.y !== 1) {\n        if (!i) {\n          const B = this._rect.pageOffset.left - this._previousRect.pageOffset.left, M = this._rect.pageOffset.top - this._previousRect.pageOffset.top;\n          this._setTarget(\n            new u(this._currentValue.x - B, this._currentValue.y - M),\n            !1\n          );\n          return;\n        }\n        const x = this._view._parent, I = this._rect.pageOffset, O = this._view.getScroll(), S = {\n          left: this._previousRect.viewportOffset.left + O.x,\n          top: this._previousRect.viewportOffset.top + O.y\n        }, z = S.left - I.left, D = S.top - I.top;\n        let U = 0, Y = 0, X = 0, et = 0;\n        if (x) {\n          const B = x.rect.pageOffset, M = x.getScroll(), $ = {\n            left: x.previousRect.viewportOffset.left + M.x,\n            top: x.previousRect.viewportOffset.top + M.y\n          };\n          U = $.left - B.left, Y = $.top - B.top;\n          const d = S.top - $.top, m = S.left - $.left, v = x.scale.y * d;\n          X = (d - v) / x.scale.y;\n          const j = x.scale.x * m;\n          et = (m - j) / x.scale.x;\n        }\n        this._setTarget(\n          new u(z - U + et, D - Y + X),\n          !1\n        ), i && (this._animateLayoutUpdateNextFrame = !0);\n        return;\n      }\n      this._animateLayoutUpdateNextFrame = !0;\n      const g = this._previousRect, c = this._rect, p = this._view._parent;\n      let f = 0, V = 0;\n      p && (f = p.previousRect.viewportOffset.left - p.rect.viewportOffset.left), p && (V = p.previousRect.viewportOffset.top - p.rect.viewportOffset.top);\n      let w = 1, b = 1;\n      p && (w = p.previousRect.size.width / p.rect.size.width, b = p.previousRect.size.height / p.rect.size.height);\n      const T = p ? p.previousRect.viewportOffset.left : 0, C = p ? p.previousRect.viewportOffset.top : 0, H = g.viewportOffset.left - T, R = g.viewportOffset.top - C, Q = H / w - H, tt = R / b - R;\n      let A = g.viewportOffset.left - c.viewportOffset.left - f + Q, L = g.viewportOffset.top - c.viewportOffset.top - V + tt;\n      A = Number.isFinite(A) ? A : 0, L = Number.isFinite(L) ? L : 0, this._setTarget(new u(A, L), !1);\n    } else this._animateLayoutUpdateNextFrame && (this._setTarget(this._initialValue, !0), this._animateLayoutUpdateNextFrame = !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged)\n      return !1;\n    if (!this._previousRenderValue)\n      return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    let t = 0, e = 0;\n    return (this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && (t = (this._rect.size.width * this._parentScaleInverse.x * this._view.scale.x - this._rect.size.width) * this._view.origin.x, e = (this._rect.size.height * this._parentScaleInverse.y * this._view.scale.y - this._rect.size.height) * this._view.origin.y), new u(\n      this._currentValue.x + t,\n      this._currentValue.y + e\n    );\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `translate3d(${t.x}px, ${t.y}px, 0px)`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass Oe extends k {\n  constructor() {\n    super(...arguments), o(this, \"_unit\", \"deg\");\n  }\n  get degrees() {\n    let t = this._currentValue;\n    return this._unit === \"rad\" && (t = t * (180 / Math.PI)), t;\n  }\n  get radians() {\n    let t = this._currentValue;\n    return this._unit === \"deg\" && (t = t * (Math.PI / 180)), t;\n  }\n  setDegrees(t, e = !0) {\n    this._unit = \"deg\", this._setTarget(t, e);\n  }\n  setRadians(t, e = !0) {\n    this._unit = \"rad\", this._setTarget(t, e);\n  }\n  reset(t = !0) {\n    this._setTarget(0, t);\n  }\n  update(t, e) {\n    this._targetValue !== this._currentValue && (this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }));\n  }\n  get shouldRender() {\n    if (!this._hasChanged)\n      return !1;\n    if (typeof this._previousRenderValue > \"u\")\n      return !0;\n    const t = this.renderValue;\n    return !_(t, this._previousRenderValue);\n  }\n  get renderValue() {\n    return this._currentValue;\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `rotate(${t}${this._unit})`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass ze extends k {\n  constructor() {\n    super(...arguments), o(this, \"_animateLayoutUpdateNextFrame\", !1);\n  }\n  get x() {\n    return this._currentValue.x;\n  }\n  get y() {\n    return this._currentValue.y;\n  }\n  set(t, e = !0) {\n    const i = { x: this._currentValue.x, y: this._currentValue.y, ...typeof t == \"number\" ? { x: t, y: t } : t };\n    this._setTarget(new u(i.x, i.y), e);\n  }\n  setWithSize(t, e = !0) {\n    let i = this._currentValue.x, s = this._currentValue.y;\n    t.width && (i = t.width / this._rect.size.width), t.height && (s = t.height / this._rect.size.height), !t.width && t.height && (i = s), !t.height && t.width && (s = i);\n    const n = { x: i, y: s };\n    this._setTarget(new u(n.x, n.y), e);\n  }\n  reset(t = !0) {\n    this._setTarget(new u(1, 1), t);\n  }\n  update(t, e) {\n    if (this._view.layoutOption !== \"position\") {\n      if ((this._view.isInverseEffectEnabled || this._view.isLayoutTransitionEnabled) && !this._view.isTemporaryView && this._runLayoutTransition(), this._view.isInverseEffectEnabled) {\n        const i = this._view._parent, s = i ? i.scale.x : 1, n = i ? i.scale.y : 1;\n        this._hasChanged = s !== 1 || n !== 1;\n      }\n      this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y || (this._currentValue = this._animator.update({\n        animatorProp: this._animatorProp,\n        current: this._currentValue,\n        target: this._targetValue,\n        initial: new u(this._previousValue.x, this._previousValue.y),\n        ts: t,\n        dt: e\n      }));\n    }\n  }\n  _runLayoutTransition() {\n    const t = !(this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y), e = this._previousRect.size.width / this._rect.size.width, i = this._previousRect.size.height / this._rect.size.height;\n    let s = !1;\n    if ((!Number.isNaN(e) && e !== 1 || !Number.isNaN(i) && i !== 1) && (s = !0), s) {\n      if (this._currentValue.x !== 1 || this._currentValue.y !== 1) {\n        const g = this._view.previousRect.size.width / this._view.rect.size.width, c = this._view.previousRect.size.height / this._view.rect.size.height;\n        this._setTarget(\n          new u(this._currentValue.x * g, this._currentValue.y * c),\n          !1\n        ), t && (this._animateLayoutUpdateNextFrame = !0);\n        return;\n      }\n      const n = this._previousRect.size.width / this._rect.size.width, a = this._previousRect.size.height / this._rect.size.height, l = n, h = a;\n      this._view.viewProps.borderRadius.applyScaleInverse(), this._setTarget(new u(l, h), !1), this._animateLayoutUpdateNextFrame = !0;\n    } else this._animateLayoutUpdateNextFrame && (this._setTarget(this._initialValue, !0), this._animateLayoutUpdateNextFrame = !1);\n  }\n  get shouldRender() {\n    if (!this._hasChanged)\n      return !1;\n    if (!this._previousRenderValue)\n      return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    const t = this._view._parent ? this._view._parent.scale.x : 1, e = this._view._parent ? this._view._parent.scale.y : 1, i = this._currentValue.x / t, s = this._currentValue.y / e;\n    return new u(i, s);\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `scale3d(${t.x}, ${t.y}, 1)`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !0;\n  }\n}\nclass De extends k {\n  get width() {\n    return this._view.rect.size.width;\n  }\n  get height() {\n    return this._view.rect.size.height;\n  }\n  get localWidth() {\n    return this._currentValue.x;\n  }\n  get localHeight() {\n    return this._currentValue.y;\n  }\n  get widthAfterScale() {\n    const t = this._view.scale.x;\n    return this.localWidth * t;\n  }\n  get heightAfterScale() {\n    const t = this._view.scale.y;\n    return this.localHeight * t;\n  }\n  get initialWidth() {\n    return this._initialValue.x;\n  }\n  get initialHeight() {\n    return this._initialValue.y;\n  }\n  set(t, e = !0) {\n    const i = { width: this._currentValue.x, height: this._currentValue.y, ...t };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  setWidth(t, e = !0) {\n    const i = { width: this._currentValue.x, height: this._currentValue.y, width: t };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  setHeight(t, e = !0) {\n    const i = { width: this._currentValue.x, height: this._currentValue.y, height: t };\n    this._setTarget(new u(i.width, i.height), e);\n  }\n  reset(t = !0) {\n    this._setTarget(\n      new u(this.initialWidth, this.initialHeight),\n      t\n    );\n  }\n  update(t, e) {\n    this._targetValue.x === this._currentValue.x && this._targetValue.y === this._currentValue.y || (this._currentValue = this._animator.update({\n      animatorProp: this._animatorProp,\n      current: this._currentValue,\n      target: this._targetValue,\n      initial: this._previousValue,\n      ts: t,\n      dt: e\n    }));\n  }\n  get shouldRender() {\n    if (!this._hasChanged)\n      return !1;\n    if (!this._previousRenderValue)\n      return !0;\n    const t = this.renderValue;\n    return !(_(t.x, this._previousRenderValue.x) && _(t.y, this._previousRenderValue.y));\n  }\n  get renderValue() {\n    return new u(this._currentValue.x, this._currentValue.y);\n  }\n  projectStyles() {\n    const t = this.renderValue, e = `width: ${t.x}px; height: ${t.y}px;`;\n    return this._previousRenderValue = t, e;\n  }\n  isTransform() {\n    return !1;\n  }\n}\nclass $e {\n  constructor(t) {\n    o(this, \"_props\", /* @__PURE__ */ new Map()), this._props.set(\n      \"position\",\n      new ke(new it(), new u(0, 0), t)\n    ), this._props.set(\n      \"scale\",\n      new ze(new it(), new u(1, 1), t)\n    ), this._props.set(\n      \"rotation\",\n      new Oe(new Ot(), 0, t)\n    ), this._props.set(\n      \"size\",\n      new De(\n        new it(),\n        new u(t.rect.size.width, t.rect.size.height),\n        t\n      )\n    ), this._props.set(\n      \"opacity\",\n      new Be(\n        new Ot(),\n        t.elementReader.opacity.value,\n        t\n      )\n    ), this._props.set(\n      \"borderRadius\",\n      new Ne(\n        new Ie(),\n        [\n          t.elementReader.borderRadius.value.topLeft,\n          t.elementReader.borderRadius.value.topRight,\n          t.elementReader.borderRadius.value.bottomRight,\n          t.elementReader.borderRadius.value.bottomLeft\n        ],\n        t\n      )\n    ), this._props.set(\n      \"origin\",\n      new Fe(\n        new it(),\n        t.elementReader.origin.value,\n        t\n      )\n    );\n  }\n  allProps() {\n    return Array.from(this._props.values());\n  }\n  allPropNames() {\n    return Array.from(this._props.keys());\n  }\n  getPropByName(t) {\n    return this._props.get(t);\n  }\n  get position() {\n    return this._props.get(\"position\");\n  }\n  get scale() {\n    return this._props.get(\"scale\");\n  }\n  get rotation() {\n    return this._props.get(\"rotation\");\n  }\n  get size() {\n    return this._props.get(\"size\");\n  }\n  get opacity() {\n    return this._props.get(\"opacity\");\n  }\n  get borderRadius() {\n    return this._props.get(\"borderRadius\");\n  }\n  get origin() {\n    return this._props.get(\"origin\");\n  }\n}\nclass We {\n  constructor(t, e, i, s) {\n    o(this, \"id\"), o(this, \"name\"), o(this, \"element\"), o(this, \"styles\", {}), o(this, \"_viewProps\"), o(this, \"_previousRect\"), o(this, \"_onAddCallbacks\"), o(this, \"_onRemoveCallback\"), o(this, \"_skipFirstRenderFrame\"), o(this, \"_layoutTransition\"), o(this, \"_registry\"), o(this, \"_layoutId\"), o(this, \"_elementReader\"), o(this, \"_viewParents\"), o(this, \"_temporaryView\"), o(this, \"_inverseEffect\"), o(this, \"_renderNextTick\"), o(this, \"_layoutOption\"), o(this, \"_elementObserver\"), o(this, \"_hasReadElement\"), o(this, \"_shouldReadRect\"), o(this, \"_readWithScroll\"), o(this, \"_externalUserStyles\"), this._registry = i, this.id = Wt(), this.name = e, this.element = t, this.element.dataset.velViewId = this.id, this._elementReader = kt(this), this._viewParents = this._getParents(), this._previousRect = this._elementReader.rect, this._viewProps = new $e(this), this._skipFirstRenderFrame = !0, this._layoutId = s, this._layoutTransition = !1, this._temporaryView = !1, this.styles = vt(this.styles, () => {\n      this._renderNextTick = !0;\n    }), this._externalUserStyles = this._getExternalUserStyles(), this._renderNextTick = !1, this._layoutOption = this._getLayoutOption(), this._hasReadElement = !1, this._shouldReadRect = !1, this._readWithScroll = !1, this._elementObserver = ue(t), this._elementObserver.onChange((n) => {\n      if (this._hasReadElement) {\n        this._shouldReadRect = !1;\n        return;\n      }\n      this._externalUserStyles = this._getExternalUserStyles(), this._shouldReadRect = !0, this._readWithScroll = n;\n    });\n  }\n  removeListeners() {\n    this._elementObserver.destroy(), this._elementReader.destroy();\n  }\n  destroy() {\n    this.removeListeners(), this._viewProps.allProps().forEach((t) => t.destroy()), this.element.removeAttribute(\"data-vel-view-id\"), this.element.removeAttribute(\"data-vel-plugin-id\"), this._renderNextTick = !0;\n  }\n  get elementReader() {\n    return this._elementReader;\n  }\n  get layoutOption() {\n    return this._layoutOption;\n  }\n  _getLayoutOption() {\n    return this.element.closest(\"[data-vel-layout-position]\") ? \"position\" : this.element.closest(\"[data-vel-layout-size]\") ? \"size\" : \"all\";\n  }\n  setElement(t) {\n    this.element = t, this._elementReader = kt(this), this.element.dataset.velViewId = this.id, this._elementObserver.setElement(t), this._viewParents = this._getParents();\n  }\n  get layoutId() {\n    return this._layoutId;\n  }\n  get position() {\n    return this._viewProps.position;\n  }\n  get scale() {\n    return this._viewProps.scale;\n  }\n  get _children() {\n    const t = this.element.querySelectorAll(\"*\");\n    return Array.from(t).map((e) => e.dataset.velViewId).filter((e) => e && typeof e == \"string\").map((e) => this._registry.getViewById(e)).filter((e) => !!e);\n  }\n  get _parent() {\n    return this._parents[0];\n  }\n  get _parents() {\n    return this._viewParents;\n  }\n  _getParents() {\n    var t;\n    const e = [];\n    let i = this.element.parentElement;\n    if (!i) return e;\n    for (i = i.closest(\"[data-vel-view-id]\"); i; ) {\n      const s = i.dataset.velViewId;\n      if (s) {\n        const n = this._registry.getViewById(s);\n        n && e.push(n);\n      }\n      i = (t = i.parentElement) == null ? void 0 : t.closest(\n        \"[data-vel-view-id]\"\n      );\n    }\n    return e;\n  }\n  get rotation() {\n    return this._viewProps.rotation;\n  }\n  get size() {\n    return this._viewProps.size;\n  }\n  get _localWidth() {\n    return this._viewProps.size.localWidth;\n  }\n  get _localHeight() {\n    return this._viewProps.size.localHeight;\n  }\n  get opacity() {\n    return this._viewProps.opacity;\n  }\n  get borderRadius() {\n    return this._viewProps.borderRadius;\n  }\n  get origin() {\n    return this._viewProps.origin;\n  }\n  get data() {\n    const t = this.element.dataset;\n    return Object.keys(t).filter((e) => e.includes(\"velData\")).map((e) => e.replace(\"velData\", \"\")).map((e) => `${e[0].toLowerCase()}${e.slice(1)}`).reduce((e, i) => {\n      const s = t[`velData${i[0].toUpperCase()}${i.slice(1)}`];\n      return !e[i] && s && (e[i] = s), e;\n    }, {});\n  }\n  get onAddCallbacks() {\n    return this._onAddCallbacks;\n  }\n  get onRemoveCallback() {\n    return this._onRemoveCallback;\n  }\n  get isLayoutTransitionEnabled() {\n    return this._layoutTransition;\n  }\n  get hasLayoutTransitionEnabledForParents() {\n    return this._parents.some((t) => t.isLayoutTransitionEnabled);\n  }\n  get isInverseEffectEnabled() {\n    let t = !1;\n    for (let e = 0; e < this._parents.length; e++) {\n      const i = this._parents[e];\n      if (typeof i._inverseEffect < \"u\") {\n        t = i._inverseEffect;\n        break;\n      }\n    }\n    return t;\n  }\n  layoutTransition(t) {\n    this._layoutTransition = t, this.inverseEffect(t);\n  }\n  inverseEffect(t) {\n    this._inverseEffect = t, t && this._children.forEach((e) => {\n      if (e.position.animator.name === \"instant\") {\n        const i = this.viewProps.position.getAnimator();\n        e.position.setAnimator(\n          i.name,\n          i.config\n        );\n      }\n      if (e.scale.animator.name === \"instant\") {\n        const i = this.viewProps.scale.getAnimator();\n        e.scale.setAnimator(i.name, i.config);\n      }\n    });\n  }\n  setAnimatorsFromParent() {\n    let t = this._parent;\n    for (; t && !t._inverseEffect; )\n      t = t._parent;\n    if (t) {\n      if (this.position.animator.name === \"instant\") {\n        const e = t.viewProps.position.getAnimator();\n        this.position.setAnimator(e.name, e.config);\n      }\n      if (this.scale.animator.name === \"instant\") {\n        const e = t.viewProps.scale.getAnimator();\n        this.scale.setAnimator(e.name, e.config);\n      }\n    }\n  }\n  get _isRemoved() {\n    return !this._registry.getViewById(this.id);\n  }\n  setPluginId(t) {\n    this.element.dataset.velPluginId = t;\n  }\n  hasElement(t) {\n    return this.element.contains(t);\n  }\n  getScroll() {\n    return this._elementReader.scroll;\n  }\n  intersects(t, e) {\n    const i = this.element.getBoundingClientRect(), s = {\n      x: i.left,\n      y: i.top\n    };\n    return t >= s.x && t <= s.x + i.width && e >= s.y && e <= s.y + i.height;\n  }\n  // Using AABB collision detection\n  overlapsWith(t) {\n    const e = t._localWidth * t.scale.x, i = t._localHeight * t.scale.y, s = this._localWidth * this.scale.x, n = this._localHeight * this.scale.y;\n    return this.position.x < t.position.x + e && this.position.x + s > t.position.x && this.position.y < t.position.y + i && this.position.y + n > t.position.y;\n  }\n  distanceTo(t) {\n    const e = new u(this.position.x, this.position.y), i = new u(t.position.x, t.position.y);\n    return u.sub(i, e).magnitude;\n  }\n  read() {\n    this._shouldReadRect && (this._elementReader.update(this._readWithScroll), this._children.forEach((t) => {\n      t.setHasReadElement(!0), t.elementReader.update(this._readWithScroll);\n    }), this._shouldReadRect = !1, this._readWithScroll = !1), this.setHasReadElement(!1);\n  }\n  setHasReadElement(t) {\n    this._hasReadElement = t;\n  }\n  get rect() {\n    return this._elementReader.rect;\n  }\n  get previousRect() {\n    return this._previousRect;\n  }\n  update(t, e) {\n    this._viewProps.allProps().forEach((i) => i.update(t, e));\n  }\n  _updatePreviousRect() {\n    this._previousRect = this._elementReader.rect;\n  }\n  setAsTemporaryView() {\n    this._temporaryView = !0;\n  }\n  get isTemporaryView() {\n    return this._temporaryView;\n  }\n  get shouldRender() {\n    return this._renderNextTick || this._viewProps.allProps().some((t) => t.shouldRender);\n  }\n  _cleanCssText(t) {\n    const e = /* @__PURE__ */ new Map(), i = /([-\\w]+)\\s*:\\s*([^;]+)\\s*;?/g;\n    let s;\n    for (; (s = i.exec(t)) !== null; ) {\n      const [n, a, l] = s;\n      if (!l.trim()) continue;\n      const h = a.replace(/^-\\w+-/, \"\");\n      (!e.has(h) || !a.startsWith(\"-\")) && e.set(\n        h,\n        `${h}: ${l.trim()}`\n      );\n    }\n    return Array.from(e.values()).join(\"; \");\n  }\n  render() {\n    if (!this.shouldRender)\n      return;\n    if (this._isRemoved && this._skipFirstRenderFrame) {\n      this._skipFirstRenderFrame = !1;\n      return;\n    }\n    let t = \"\";\n    const e = this._viewProps.allProps(), i = e.filter((n) => n.isTransform()), s = e.filter((n) => !n.isTransform());\n    if (i.some((n) => n.hasChanged())) {\n      const n = i.reduce((a, l, h) => (a += l.projectStyles(), h < i.length - 1 && (a += \" \"), h === i.length - 1 && (a += \";\"), a), \"transform: \");\n      t += n;\n    }\n    s.forEach((n) => {\n      n.hasChanged() && (t += n.projectStyles());\n    }), t += this._getUserStyles(), this._cleanCssText(this.element.style.cssText) !== this._cleanCssText(t) && (this.element.style.cssText = t), this._renderNextTick = !1;\n  }\n  _getExternalUserStyles() {\n    const t = this.element.style.cssText, e = this.styles;\n    if (t.length === 0)\n      return \"\";\n    const i = [\n      \"transform\",\n      \"transform-origin\",\n      \"opacity\",\n      \"width\",\n      \"height\",\n      \"border-radius\"\n    ], s = {};\n    for (const n in e)\n      e.hasOwnProperty(n) && (s[Lt(n)] = e[n]);\n    return t.split(\";\").map((n) => n.trim()).filter(Boolean).filter((n) => {\n      const a = n.indexOf(\":\");\n      if (a === -1) return !1;\n      const l = n.slice(0, a).trim();\n      return !s.hasOwnProperty(l) && !i.includes(l);\n    }).join(\"; \");\n  }\n  _getUserStyles() {\n    return Object.keys(this.styles).reduce((t, e) => {\n      if (!e) return t;\n      const i = Lt(e).replace(\"webkit\", \"-webkit\").replace(\"moz\", \"-moz\");\n      return t + `${i}: ${this.styles[e]}; `;\n    }, this._externalUserStyles);\n  }\n  markAsAdded() {\n    delete this.element.dataset.velProcessing;\n  }\n  onAdd(t) {\n    this._onAddCallbacks = t;\n  }\n  onRemove(t) {\n    this._onRemoveCallback = t;\n  }\n  get viewProps() {\n    return this._viewProps;\n  }\n  getPropByName(t) {\n    return this._viewProps.getPropByName(t);\n  }\n  _copyAnimatorsToAnotherView(t) {\n    t.viewProps.allPropNames().forEach((e) => {\n      var i, s;\n      const n = (i = this.viewProps.getPropByName(e)) == null ? void 0 : i.getAnimator();\n      n && ((s = t.viewProps.getPropByName(e)) == null || s.setAnimator(n.name, n.config));\n    });\n  }\n  getChildren(t) {\n    const e = this.element.querySelectorAll(\"*\"), i = Array.from(e).filter((s) => {\n      const n = s;\n      return typeof n.dataset.velViewId < \"u\" && n.dataset.velView === t;\n    }).map((s) => s.dataset.velViewId);\n    return this._registry.getViewsById(i);\n  }\n  getChild(t) {\n    return this.getChildren(t)[0];\n  }\n  getParent(t) {\n    const e = this.element.closest(\n      `[data-vel-view=\"${t}\"]`\n    );\n    if (!e) return;\n    const i = e.dataset.velViewId;\n    if (i)\n      return this._registry.getViewById(i);\n  }\n}\nclass qe {\n  constructor(t, e) {\n    o(this, \"_appEventBus\"), o(this, \"_eventBus\"), o(this, \"_plugins\", []), o(this, \"_views\", []), o(this, \"_viewsPerPlugin\", /* @__PURE__ */ new Map()), o(this, \"_viewsToBeCreated\", []), o(this, \"_viewsToBeRemoved\", []), o(this, \"_viewsCreatedInPreviousFrame\", []), o(this, \"_layoutIdToViewMap\", /* @__PURE__ */ new Map()), o(this, \"_eventPluginsPerPlugin\", /* @__PURE__ */ new Map()), o(this, \"_pluginNameToPluginFactoryMap\", /* @__PURE__ */ new Map()), o(this, \"_pluginNameToPluginConfigMap\", /* @__PURE__ */ new Map()), this._appEventBus = t, this._eventBus = e;\n  }\n  update() {\n    this._handleRemovedViews(), this._handleAddedViews();\n  }\n  associateEventPluginWithPlugin(t, e) {\n    let i = this._eventPluginsPerPlugin.get(t);\n    i || (i = [], this._eventPluginsPerPlugin.set(t, i)), i.push(e);\n  }\n  _handleRemovedViews() {\n    const t = this._viewsToBeRemoved.filter((e) => e.dataset.velViewId);\n    t.length && (t.forEach((e) => {\n      const i = e.dataset.velViewId;\n      i && (this._handleRemoveView(i), e.querySelectorAll(\"*\").forEach((s) => {\n        const n = s.dataset.velViewId;\n        n && this._plugins.forEach((a) => {\n          if (!this._viewsPerPlugin.get(a.id)) return;\n          const l = this._getPluginViewById(a, n);\n          l && l.removeListeners();\n        });\n      }));\n    }), this._viewsToBeRemoved = []);\n  }\n  _getPluginNameForElement(t) {\n    const e = t.dataset.velPlugin;\n    if (e && e.length > 0) return e;\n    const i = t.closest(\"[data-vel-plugin]\");\n    if (i)\n      return i.dataset.velPlugin;\n  }\n  _getPluginIdForElement(t) {\n    const e = this._getPluginNameForElement(t);\n    if (!e)\n      return;\n    const i = t.closest(\"[data-vel-plugin-id]\");\n    if (i)\n      return i.dataset.velPluginId;\n    const s = this.getPluginByName(e);\n    if (s)\n      return s.id;\n  }\n  _isScopedElement(t) {\n    const e = this._getPluginNameForElement(t);\n    if (!e)\n      return !1;\n    const i = this._pluginNameToPluginFactoryMap.get(e), s = i == null ? void 0 : i.scope;\n    return t.dataset.velView === s;\n  }\n  _removeElementsWithParent(t) {\n    const e = new Set(t);\n    return t.filter((i) => {\n      let s = i.parentElement;\n      for (; s; ) {\n        if (e.has(s))\n          return !1;\n        s = s.parentElement;\n      }\n      return !0;\n    });\n  }\n  _handleAddedViews() {\n    this._viewsCreatedInPreviousFrame.forEach((n) => {\n      n.markAsAdded();\n    }), this._viewsCreatedInPreviousFrame = [];\n    const t = this._removeElementsWithParent(\n      this._viewsToBeCreated\n    ), e = Array.from(\n      new Set(\n        t.filter(\n          (n) => this._isScopedElement(n) && !this._isElementIgnored(n)\n        )\n      )\n    ), i = t.filter(\n      (n) => !this._isScopedElement(n) && !this._isElementIgnored(n)\n    );\n    this._viewsToBeCreated = [], e.forEach((n) => {\n      const a = this._getPluginNameForElement(n), l = this._pluginNameToPluginFactoryMap.get(a), h = this._pluginNameToPluginConfigMap.get(a), g = n.dataset.velPluginKey, c = dt(\n        l,\n        this,\n        this._eventBus,\n        this._appEventBus,\n        h,\n        g\n      );\n      this._plugins.push(c);\n      const p = n.dataset.velView, f = this._createNewView(n, p, c);\n      f.isInverseEffectEnabled && f.setAnimatorsFromParent(), c.notifyAboutViewAdded(f);\n    });\n    const s = i.filter((n) => !!this._getPluginIdForElement(n));\n    s.length !== 0 && s.forEach((n) => {\n      const a = this._getPluginIdForElement(n), l = n.dataset.velView;\n      if (!l || !a) return;\n      const h = this._getPluginById(a);\n      if (!h)\n        return;\n      const g = this._getLayoutIdForElement(n, h);\n      let c;\n      g && this._layoutIdToViewMap.has(g) ? (c = this._layoutIdToViewMap.get(g), c.setElement(n), c.setPluginId(h.id), this._createChildrenForView(c, h)) : c = this._createNewView(n, l, h), c.isInverseEffectEnabled && c.setAnimatorsFromParent(), h.notifyAboutViewAdded(c);\n    });\n  }\n  _getLayoutIdForElement(t, e) {\n    const i = t.dataset.velLayoutId;\n    if (i)\n      return `${i}-${e.id}`;\n  }\n  _createNewView(t, e, i) {\n    const s = this._getLayoutIdForElement(t, i), n = this.createView(t, e, s);\n    return i.addView(n), n.layoutId && this._layoutIdToViewMap.set(n.layoutId, n), this._createChildrenForView(n, i), this._appEventBus.emitPluginReadyEvent(i.pluginName, i.api, !0), requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this._appEventBus.emitPluginReadyEvent(i.pluginName, i.api);\n      });\n    }), n;\n  }\n  _createChildrenForView(t, e) {\n    const i = t.element.querySelectorAll(\"*\");\n    if (i.length) {\n      if (Array.from(i).some(\n        (s) => this._getPluginNameForElement(s) !== e.pluginName\n      )) {\n        console.log(\n          `%c WARNING: The plugin \"${e.pluginName}\" has view(s) created for a different plugin. Make sure all views inside that plugin don't have data-vel-plugin set or the pluginName is set to \"${e.pluginName}\"`,\n          \"background: #885500\"\n        );\n        return;\n      }\n      Array.from(i).filter((s) => !this._isElementIgnored(s)).forEach((s) => {\n        const n = s, a = n.dataset.velView ? n.dataset.velView : `${t.name}-child`, l = this._getLayoutIdForElement(n, e);\n        let h;\n        l && this._layoutIdToViewMap.has(l) ? (h = this._layoutIdToViewMap.get(l), h.setElement(n), h.setPluginId(e.id)) : h = this.createView(n, a, l), l && !this._layoutIdToViewMap.has(l) && this._layoutIdToViewMap.set(l, h), e.addView(h), e.notifyAboutViewAdded(h);\n      });\n    }\n  }\n  _handleRemoveView(t) {\n    this._plugins.forEach((e) => {\n      if (!this._viewsPerPlugin.get(e.id)) return;\n      const i = this._getPluginViewById(e, t);\n      i && e.removeView(i);\n    });\n  }\n  removeViewById(t, e) {\n    this._unassignViewFromPlugin(t, e), this._views = this._views.filter((i) => i.id !== t);\n  }\n  _unassignViewFromPlugin(t, e) {\n    const i = this._viewsPerPlugin.get(e);\n    if (!i) return;\n    const s = i.indexOf(t);\n    s !== -1 && i.splice(s, 1);\n  }\n  getViewById(t) {\n    return this._views.find((e) => e.id === t);\n  }\n  getViewsById(t) {\n    return this._views.filter((e) => t.includes(e.id));\n  }\n  _getPluginById(t) {\n    return this._plugins.find((e) => e.id === t);\n  }\n  _getPluginViewById(t, e) {\n    return this.getViewsForPlugin(t).find((i) => i.id === e);\n  }\n  destroy(t, e) {\n    if (!t) {\n      this._destroyAll(e);\n      return;\n    }\n    let i = [];\n    if (t && t.length > 0) {\n      const s = this.getPluginByName(t);\n      if (s) {\n        const n = (this._eventPluginsPerPlugin.get(s.id) || []).map((a) => this._getPluginById(a)).filter((a) => typeof a < \"u\");\n        i.push(s), i.push(...n);\n      }\n    } else\n      i = this._plugins;\n    i.forEach((s) => {\n      this._destroyPlugin(s);\n    }), requestAnimationFrame(() => {\n      e == null || e();\n    });\n  }\n  _destroyPlugin(t) {\n    const e = this.getViewsForPlugin(t);\n    e.forEach((i) => {\n      i.layoutId && this._layoutIdToViewMap.delete(i.layoutId), i.destroy();\n    }), this._views = this._views.filter(\n      (i) => !e.find((s) => s.id === i.id)\n    ), this._viewsPerPlugin.delete(t.id), this._plugins = this._plugins.filter((i) => i.id !== t.id);\n  }\n  _destroyAll(t) {\n    this._views.forEach((e) => e.destroy()), requestAnimationFrame(() => {\n      this._plugins = [], this._views = [], this._viewsPerPlugin.clear(), this._viewsToBeCreated = [], this._viewsToBeRemoved = [], this._viewsCreatedInPreviousFrame = [], this._layoutIdToViewMap.clear(), this._eventPluginsPerPlugin.clear(), t == null || t();\n    });\n  }\n  reset(t, e) {\n    let i = [];\n    if (t && t.length > 0) {\n      const s = this.getPluginByName(t);\n      if (s) {\n        const n = (this._eventPluginsPerPlugin.get(s.id) || []).map((a) => this._getPluginById(a)).filter((a) => typeof a < \"u\");\n        i.push(s), i.push(...n);\n      }\n    } else\n      i = this._plugins;\n    requestAnimationFrame(() => {\n      i.forEach((s) => {\n        this._resetPlugin(s);\n      }), requestAnimationFrame(() => {\n        e == null || e();\n      });\n    });\n  }\n  _resetPlugin(t) {\n    const e = t.config, i = t.pluginFactory, s = t.internalBusEvent, n = !t.isRenderable(), a = this.getViewsForPlugin(t);\n    a.forEach((l) => {\n      l.layoutId && this._layoutIdToViewMap.delete(l.layoutId), l.destroy();\n    }), this._views = this._views.filter(\n      (l) => !a.find((h) => h.id === l.id)\n    ), this._viewsPerPlugin.delete(t.id), this._plugins = this._plugins.filter((l) => l.id !== t.id), n || requestAnimationFrame(() => {\n      this.createPlugin(\n        i,\n        this._eventBus,\n        e\n      ).setInternalEventBus(s);\n    });\n  }\n  queueNodeToBeCreated(t) {\n    this._viewsToBeCreated.push(t);\n  }\n  queueNodeToBeRemoved(t) {\n    this._viewsToBeRemoved.push(t);\n  }\n  notifyPluginAboutDataChange(t) {\n    const e = this._plugins.filter(\n      (i) => i.id === t.pluginId\n    );\n    !e || !e.length || e.forEach((i) => {\n      i.notifyAboutDataChanged({\n        dataName: t.dataName,\n        dataValue: t.dataValue,\n        viewName: t.viewName\n      });\n    });\n  }\n  getPlugins() {\n    return this._plugins;\n  }\n  getRenderablePlugins() {\n    function t(e) {\n      return e.isRenderable();\n    }\n    return this._plugins.filter(t);\n  }\n  getPluginByName(t, e) {\n    return this._plugins.find((i) => e ? i.pluginKey === e && i.pluginName === t : i.pluginName === t);\n  }\n  getPluginsByName(t, e) {\n    return this._plugins.filter((i) => e ? i.pluginKey === e && i.pluginName === t : i.pluginName === t);\n  }\n  hasPlugin(t) {\n    return t.pluginName ? !!this.getPluginByName(t.pluginName) : !1;\n  }\n  createPlugin(t, e, i = {}, s = !1) {\n    if (!t.pluginName)\n      throw Error(\n        `Plugin ${t.name} must contain a pluginName field`\n      );\n    let n = [];\n    if (t.scope) {\n      const h = s ? `[data-vel-plugin=${t.pluginName}][data-vel-view=${t.scope}]:not([data-vel-plugin-id])` : `[data-vel-plugin=${t.pluginName}][data-vel-view=${t.scope}]`, g = document.querySelectorAll(h);\n      this._pluginNameToPluginFactoryMap.has(t.pluginName) || this._pluginNameToPluginFactoryMap.set(\n        t.pluginName,\n        t\n      ), this._pluginNameToPluginConfigMap.has(t.pluginName) || this._pluginNameToPluginConfigMap.set(t.pluginName, i), g ? n = Array.from(g) : n = [document.documentElement];\n    } else\n      n = [document.documentElement];\n    const a = n.map((h) => {\n      const g = h.dataset.velPluginKey, c = dt(\n        t,\n        this,\n        e,\n        this._appEventBus,\n        i,\n        g\n      );\n      this._plugins.push(c);\n      let p = [];\n      h !== document.documentElement && p.push(h);\n      const f = h.querySelectorAll(\n        `[data-vel-plugin=${c.pluginName}]`\n      );\n      p = [...p, ...f];\n      const V = p.filter((w) => {\n        if (this._isElementIgnored(w))\n          return !1;\n        if (!w.parentElement)\n          return !0;\n        const b = this._getPluginNameForElement(w.parentElement);\n        return !(b && b.length > 0);\n      });\n      return V.length && V.forEach((w) => {\n        const b = w.dataset.velView;\n        if (!b) return;\n        const T = this._createNewView(w, b, c);\n        c.notifyAboutViewAdded(T);\n      }), c;\n    });\n    if (a && a.length > 0)\n      return a[0];\n    const l = dt(\n      t,\n      this,\n      e,\n      this._appEventBus,\n      i\n    );\n    return t.scope || console.log(\n      `%c WARNING: The plugin \"${l.pluginName}\" is created but there are no elements using it on the page`,\n      \"background: #885500\"\n    ), l;\n  }\n  updatePlugin(t, e, i = {}) {\n    return this.createPlugin(t, e, i, !0);\n  }\n  getViews() {\n    return this._views;\n  }\n  createView(t, e, i) {\n    const s = new We(t, e, this, i);\n    return this._views.push(s), this._viewsCreatedInPreviousFrame.push(s), s;\n  }\n  _isElementIgnored(t) {\n    return t.closest(\"[data-vel-ignore]\");\n  }\n  assignViewToPlugin(t, e) {\n    this._viewsPerPlugin.has(e.id) || this._viewsPerPlugin.set(e.id, []);\n    const i = this._viewsPerPlugin.get(e.id);\n    i.includes(t.id) || i.push(t.id);\n  }\n  getViewsForPlugin(t) {\n    const e = this._viewsPerPlugin.get(t.id);\n    return e ? e.map((i) => this._views.find((s) => s.id === i)).filter((i) => !!i) : [];\n  }\n  getViewsByNameForPlugin(t, e) {\n    return this.getViewsForPlugin(t).filter(\n      (i) => i.name === e\n    );\n  }\n}\nclass zt {\n  constructor(t) {\n    o(this, \"pluginApi\"), this.pluginApi = t.pluginApi;\n  }\n}\nclass Dt {\n  constructor(t) {\n    o(this, \"pluginApi\"), this.pluginApi = t.pluginApi;\n  }\n}\nclass Tt {\n  constructor() {\n    o(this, \"previousTime\", 0), o(this, \"registry\"), o(this, \"eventBus\"), o(this, \"appEventBus\"), this.eventBus = new _t(), this.appEventBus = new _t(), this.registry = new qe(this.appEventBus, this.eventBus), new se(this.eventBus);\n  }\n  static create() {\n    return new Tt();\n  }\n  addPlugin(t, e = {}) {\n    this.registry.hasPlugin(t) || this.registry.createPlugin(t, this.eventBus, e);\n  }\n  updatePlugin(t, e = {}) {\n    this.registry.hasPlugin(t) && this.registry.updatePlugin(t, this.eventBus, e);\n  }\n  reset(t, e) {\n    this.registry.reset(t, e);\n  }\n  destroy(t, e) {\n    this.registry.destroy(t, e);\n  }\n  getPlugin(t, e) {\n    let i = typeof t == \"string\" ? t : t.pluginName;\n    const s = this.registry.getPluginByName(i, e);\n    if (!s)\n      throw new Error(\n        `You can't call getPlugin for ${i} with key: ${e} because it does not exist in your app`\n      );\n    return s.api;\n  }\n  getPlugins(t, e) {\n    let i = typeof t == \"string\" ? t : t.pluginName;\n    const s = this.registry.getPluginsByName(i, e);\n    if (s.length === 0)\n      throw new Error(\n        `You can't call getPlugins for ${i} with key: ${e} because they don't exist in your app`\n      );\n    return s.map((n) => n.api);\n  }\n  onPluginEvent(t, e, i, s) {\n    requestAnimationFrame(() => {\n      const n = this.registry.getPluginByName(\n        t.pluginName,\n        s\n      );\n      n && n.on(e, i);\n    });\n  }\n  removePluginEventListener(t, e, i) {\n    const s = this.registry.getPluginByName(t.pluginName);\n    s && s.removeListener(e, i);\n  }\n  run() {\n    document.readyState === \"loading\" ? document.addEventListener(\"DOMContentLoaded\", this.start.bind(this)) : this.start();\n  }\n  start() {\n    this.setup(), requestAnimationFrame(this.tick.bind(this));\n  }\n  setup() {\n    this.listenToNativeEvents(), this.subscribeToEvents();\n  }\n  listenToNativeEvents() {\n    document.addEventListener(\"click\", (t) => {\n      this.eventBus.emitEvent(ft, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointermove\", (t) => {\n      this.eventBus.emitEvent(lt, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointerdown\", (t) => {\n      this.eventBus.emitEvent(ht, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    }), document.addEventListener(\"pointerup\", (t) => {\n      this.eventBus.emitEvent(ut, {\n        x: t.clientX,\n        y: t.clientY,\n        target: t.target\n      });\n    });\n  }\n  tick(t) {\n    let e = (t - this.previousTime) / 1e3;\n    e > 0.016 && (e = 1 / 60), this.previousTime = t, this.eventBus.reset(), this.subscribeToEvents(), this.read(), this.update(t, e), this.render(), requestAnimationFrame(this.tick.bind(this));\n  }\n  subscribeToEvents() {\n    this.eventBus.subscribeToEvent(st, this.onNodeAdded.bind(this)), this.eventBus.subscribeToEvent(\n      pt,\n      this.onNodeRemoved.bind(this)\n    ), this.eventBus.subscribeToEvent(\n      $t,\n      this.onDataChanged.bind(this)\n    ), this.registry.getPlugins().forEach((t) => {\n      t.subscribeToEvents(this.eventBus);\n    });\n  }\n  onNodeAdded({ node: t }) {\n    this.registry.queueNodeToBeCreated(t);\n  }\n  onNodeRemoved({ node: t }) {\n    this.registry.queueNodeToBeRemoved(t);\n  }\n  onDataChanged(t) {\n    this.registry.notifyPluginAboutDataChange(t);\n  }\n  read() {\n    this.registry.getViews().forEach((t) => {\n      t.read();\n    });\n  }\n  update(t, e) {\n    this.registry.update(), this.registry.getPlugins().slice().reverse().forEach((i) => {\n      i.init();\n    }), this.registry.getRenderablePlugins().forEach((i) => {\n      i.update(t, e);\n    }), this.registry.getViews().forEach((i) => {\n      i.update(t, e);\n    }), this.registry.getViews().forEach((i) => {\n      i._updatePreviousRect();\n    });\n  }\n  render() {\n    this.registry.getRenderablePlugins().forEach((t) => {\n      t.render();\n    }), this.registry.getViews().forEach((t) => {\n      t.render();\n    });\n  }\n}\nfunction He() {\n  return Tt.create();\n}\nclass Ht {\n  constructor(t) {\n    o(this, \"view\"), o(this, \"previousX\"), o(this, \"previousY\"), o(this, \"x\"), o(this, \"y\"), o(this, \"pointerX\"), o(this, \"pointerY\"), o(this, \"isDragging\"), o(this, \"target\"), o(this, \"directions\", []), o(this, \"width\"), o(this, \"height\"), o(this, \"distance\"), o(this, \"stopped\"), o(this, \"hasMoved\"), this.props = t, this.previousX = t.previousX, this.previousY = t.previousY, this.x = t.x, this.y = t.y, this.pointerX = t.pointerX, this.pointerY = t.pointerY, this.width = t.width, this.height = t.height, this.distance = t.distance, this.view = t.view, this.isDragging = t.isDragging, this.stopped = t.stopped, this.target = t.target, this.directions = t.directions, this.hasMoved = t.hasMoved;\n  }\n}\nclass Ut extends wt {\n  constructor() {\n    super(...arguments), o(this, \"_pointerX\", 0), o(this, \"_pointerY\", 0), o(this, \"_initialPointer\", new u(0, 0)), o(this, \"_initialPointerPerView\", /* @__PURE__ */ new Map()), o(this, \"_pointerDownPerView\", /* @__PURE__ */ new Map()), o(this, \"_viewPointerPositionLog\", /* @__PURE__ */ new Map()), o(this, \"_stopTimer\", 0);\n  }\n  setup() {\n    document.addEventListener(\"selectstart\", this.onSelect.bind(this));\n  }\n  onSelect(t) {\n    this._isDragging && t.preventDefault();\n  }\n  get _isDragging() {\n    return Array.from(this._pointerDownPerView.values()).some(\n      (t) => !!t\n    );\n  }\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ht, ({ x: e, y: i }) => {\n      this._initialPointer = new u(e, i), this.getViews().forEach((s) => {\n        this._pointerDownPerView.set(s.id, s.intersects(e, i));\n        const n = s.isLayoutTransitionEnabled ? s.position.initialX : s.position.x, a = s.isLayoutTransitionEnabled ? s.position.initialY : s.position.y, l = new u(e - n, i - a);\n        this._pointerX = e, this._pointerY = i, this._initialPointerPerView.set(s.id, l);\n      });\n    }), t.subscribeToEvent(ut, () => {\n      this.getViews().forEach((e) => {\n        this._pointerDownPerView.get(e.id) && this._initialPointerPerView.get(e.id) && (this._pointerDownPerView.set(e.id, !1), this._emitEvent(e, []));\n      });\n    }), t.subscribeToEvent(lt, ({ x: e, y: i }) => {\n      this._pointerX = e, this._pointerY = i, this.getViews().forEach((s) => {\n        if (this._pointerDownPerView.get(s.id) && this._initialPointerPerView.get(s.id)) {\n          this._viewPointerPositionLog.has(s.id) || this._viewPointerPositionLog.set(s.id, []);\n          const n = new u(e, i), a = this._viewPointerPositionLog.get(s.id);\n          a && a.push(new u(e, i));\n          const l = a && a.length >= 2 ? a[a.length - 2] : n.clone(), h = this._calculateDirections(\n            l,\n            n\n          );\n          this._emitEvent(s, h), clearTimeout(this._stopTimer), this._stopTimer = setTimeout(() => {\n            this._pointerDownPerView.get(s.id) === !0 && this._emitEvent(s, h, !0);\n          }, 120);\n        }\n      });\n    });\n  }\n  _emitEvent(t, e, i = !1) {\n    const s = this._viewPointerPositionLog.get(t.id), n = !(typeof s > \"u\" || s.length <= 1), a = s && s.length >= 2 ? s[s.length - 2] : null, l = this._pointerX - this._initialPointerPerView.get(t.id).x, h = this._pointerY - this._initialPointerPerView.get(t.id).y, g = this._pointerX, c = this._pointerY, p = a ? a.x - this._initialPointerPerView.get(t.id).x : l, f = a ? a.y - this._initialPointerPerView.get(t.id).y : h, V = this._pointerY - this._initialPointer.y, w = this._pointerX - this._initialPointer.x, b = ce(this._initialPointer, {\n      x: this._pointerX,\n      y: this._pointerY\n    }), T = this._pointerDownPerView.get(t.id) === !0;\n    T || this._viewPointerPositionLog.clear();\n    const C = {\n      view: t,\n      target: t.element,\n      previousX: p,\n      previousY: f,\n      x: l,\n      y: h,\n      pointerX: g,\n      pointerY: c,\n      distance: b,\n      width: w,\n      height: V,\n      isDragging: T,\n      directions: e,\n      stopped: i,\n      hasMoved: n\n    };\n    this.emit(Ht, C);\n  }\n  _calculateDirections(t, e) {\n    const i = {\n      up: u.sub(new u(t.x, t.y - 1), t),\n      down: u.sub(new u(t.x, t.y + 1), t),\n      left: u.sub(new u(t.x - 1, t.y), t),\n      right: u.sub(new u(t.x + 1, t.y), t)\n    }, s = u.sub(e, t).unitVector;\n    return [\n      { direction: \"up\", projection: s.dot(i.up) },\n      {\n        direction: \"down\",\n        projection: s.dot(i.down)\n      },\n      {\n        direction: \"left\",\n        projection: s.dot(i.left)\n      },\n      {\n        direction: \"right\",\n        projection: s.dot(i.right)\n      }\n    ].filter(\n      (n) => n.projection > 0\n    ).map(\n      (n) => n.direction\n    );\n  }\n}\no(Ut, \"pluginName\", \"DragEventPlugin\");\nclass Ue {\n  constructor(t) {\n    o(this, \"view\"), o(this, \"direction\"), this.props = t, this.view = t.view, this.direction = t.direction;\n  }\n}\nclass Ye extends wt {\n  constructor() {\n    super(...arguments), o(this, \"_viewIsPointerDownMap\", /* @__PURE__ */ new Map()), o(this, \"_viewPointerPositionLog\", /* @__PURE__ */ new Map()), o(this, \"_targetPerView\", /* @__PURE__ */ new Map());\n  }\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ht, ({ x: e, y: i, target: s }) => {\n      this.getViews().forEach((n) => {\n        this._targetPerView.set(n.id, s), n.intersects(e, i) && this._viewIsPointerDownMap.set(n.id, !0);\n      });\n    }), t.subscribeToEvent(lt, ({ x: e, y: i }) => {\n      this.getViews().forEach((s) => {\n        this._viewIsPointerDownMap.get(s.id) && (this._viewPointerPositionLog.has(s.id) || this._viewPointerPositionLog.set(s.id, []), this._viewPointerPositionLog.get(s.id).push(new u(e, i)));\n      });\n    }), t.subscribeToEvent(ut, ({ x: e, y: i }) => {\n      this.getViews().forEach((n) => {\n        if (!this._viewIsPointerDownMap.get(n.id) || !this._viewPointerPositionLog.has(n.id))\n          return;\n        const a = new u(e, i), l = this._viewPointerPositionLog.get(n.id), h = l[l.length - 2] || a.clone(), g = this._targetPerView.get(n.id), c = s(h, a);\n        g && n.hasElement(g) && c.hasSwiped && this.emit(Ue, {\n          view: n,\n          direction: c.direction\n        }), this._viewPointerPositionLog.set(n.id, []), this._viewIsPointerDownMap.set(n.id, !1);\n      });\n      function s(n, a) {\n        const l = {\n          up: u.sub(new u(n.x, n.y - 1), n),\n          down: u.sub(new u(n.x, n.y + 1), n),\n          left: u.sub(new u(n.x - 1, n.y), n),\n          right: u.sub(new u(n.x + 1, n.y), n)\n        }, h = u.sub(a, n).unitVector, g = [\n          \"up\",\n          \"down\",\n          \"left\",\n          \"right\"\n        ], c = [\n          h.dot(l.up),\n          h.dot(l.down),\n          h.dot(l.left),\n          h.dot(l.right)\n        ], p = Math.max(...c), f = c.indexOf(p), V = g[f], w = u.sub(a, n).magnitude;\n        return {\n          hasSwiped: h.dot(l[V]) * w > 30,\n          direction: V\n        };\n      }\n    });\n  }\n}\no(Ye, \"pluginName\", \"SwipeEventPlugin\");\nclass Xe {\n  constructor(t) {\n    o(this, \"view\"), this.props = t, this.view = t.view;\n  }\n}\nclass je extends wt {\n  subscribeToEvents(t) {\n    t.subscribeToEvent(ft, ({ x: e, y: i, target: s }) => {\n      this.getViews().forEach((n) => {\n        const a = s, l = n.element === a || n.element.contains(a);\n        n.intersects(e, i) && l && this.emit(Xe, {\n          view: n\n        });\n      });\n    });\n  }\n}\no(je, \"pluginName\", \"ClickEventPlugin\");\nconst Ke = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  PointerClickEvent: ft,\n  PointerDownEvent: ht,\n  PointerMoveEvent: lt,\n  PointerUpEvent: ut\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction Ge(r) {\n  let t = Yt(r) || window;\n  t === document.body && (t = window);\n  let e = 0, i = 0, s = !1, n = () => {\n  };\n  return t.addEventListener(\"scroll\", () => {\n    s && n();\n  }), {\n    container: t,\n    onScroll(a) {\n      n = a;\n    },\n    startScrollTracking() {\n      s || (e = t instanceof Element ? t.scrollTop : t.scrollY, i = t instanceof Element ? t.scrollLeft : t.scrollX, s = !0);\n    },\n    getScrollOffset() {\n      const a = t instanceof Element ? t.scrollTop : t.scrollY;\n      return {\n        x: (t instanceof Element ? t.scrollLeft : t.scrollX) - i,\n        y: a - e\n      };\n    },\n    endScrollTracking() {\n      e = 0, i = 0, s = !1;\n    },\n    width: t instanceof Element ? t.clientWidth : t.innerWidth,\n    height: t instanceof Element ? t.clientHeight : t.innerHeight\n  };\n}\nfunction Yt(r) {\n  const e = r instanceof HTMLElement && window.getComputedStyle(r).overflowY, i = e !== \"visible\" && e !== \"hidden\";\n  if (r) {\n    if (i && r.scrollHeight >= r.clientHeight)\n      return r;\n  } else return null;\n  return Yt(r.parentNode) || document.body;\n}\nclass nt {\n  constructor(t) {\n    P(this, \"data\");\n    this.data = t.data;\n  }\n}\nclass Xt {\n  constructor(t) {\n    P(this, \"data\");\n    P(this, \"hasChanged\");\n    this.data = t.data, this.hasChanged = t.hasChanged;\n  }\n}\nclass jt {\n}\nclass Kt {\n  constructor(t) {\n    P(this, \"data\");\n    this.data = t.data;\n  }\n}\nfunction J(r) {\n  return {\n    map: new Map(r),\n    array: Array.from(r).map(([e, i]) => ({ slotId: e, itemId: i })),\n    object: Array.from(r).reduce(\n      (e, [i, s]) => (e[i] = s, e),\n      {}\n    )\n  };\n}\nfunction Ze(r) {\n  if (r.map)\n    return {\n      map: new Map(r.map),\n      array: Array.from(r.map).map(([e, i]) => ({\n        slotId: e,\n        itemId: i\n      })),\n      object: Array.from(r.map).reduce(\n        (e, [i, s]) => (e[i] = s, e),\n        {}\n      )\n    };\n  if (r.object) {\n    const t = { ...r.object };\n    return {\n      map: new Map(Object.entries(t)),\n      array: Object.entries(t).map(([e, i]) => ({\n        slotId: e,\n        itemId: i\n      })),\n      object: t\n    };\n  } else {\n    const t = [...r.array];\n    return {\n      map: new Map(t.map(({ slotId: e, itemId: i }) => [e, i])),\n      array: t,\n      object: t.reduce((e, { slotId: i, itemId: s }) => (e[i] = s, e), {})\n    };\n  }\n}\nconst N = (r) => {\n  const t = r.useEventPlugin(Ut);\n  t.on(Ht, $);\n  const e = 20, i = 100;\n  let s, n, a, l, h, g = null, c = /* @__PURE__ */ new Map(), p = /* @__PURE__ */ new Map(), f, V, w = null, b = null, T, C, H = !0, R, Q, tt, A, L = !1, x = !1, I = () => {\n  }, O = !1, S = 0, z = 0;\n  r.api({\n    setEnabled(d) {\n      H = d;\n    },\n    setData(d) {\n      const m = Ze(d);\n      c = new Map(m.map), p = new Map(c);\n    },\n    setAutoScrollOnDrag(d) {\n      O = d;\n    }\n  });\n  function D() {\n    return {\n      animation: s.data.configAnimation,\n      continuousMode: typeof s.data.configContinuousMode < \"u\",\n      manualSwap: typeof s.data.configManualSwap < \"u\",\n      swapMode: s.data.configSwapMode,\n      autoScrollOnDrag: O\n    };\n  }\n  function U() {\n    const d = D().animation;\n    return d === \"dynamic\" ? {\n      animator: \"dynamic\",\n      config: {}\n    } : d === \"spring\" ? {\n      animator: \"spring\",\n      config: {\n        damping: 0.7,\n        stiffness: 0.62\n      }\n    } : d === \"none\" ? {\n      animator: \"instant\",\n      config: {}\n    } : {\n      animator: \"instant\",\n      config: {}\n    };\n  }\n  function Y(d) {\n    return () => {\n      c = d, p = new Map(c);\n    };\n  }\n  r.setup(() => {\n    s = r.getView(\"root\"), a = r.getViews(\"slot\"), l = r.getViews(\"item\"), n = Ge(l[0].element), n.onScroll(() => {\n      M();\n    }), Q = D().continuousMode, tt = D().manualSwap, a.forEach((d) => {\n      X(d);\n    }), B(), p = new Map(c), requestAnimationFrame(() => {\n      r.emit(Kt, { data: J(c) });\n    });\n  });\n  function X(d) {\n    const m = d.getChild(\"item\");\n    m && et(m), c.set(\n      d.element.dataset.swapySlot,\n      m ? m.element.dataset.swapyItem : null\n    );\n  }\n  function et(d) {\n    const m = U();\n    d.styles.position = \"relative\", d.styles.userSelect = \"none\", d.styles.webkitUserSelect = \"none\", d.position.setAnimator(m.animator, m.config), d.scale.setAnimator(m.animator, m.config), d.layoutTransition(!0), requestAnimationFrame(() => {\n      const v = d.getChild(\"handle\");\n      v ? (t.addView(v), v.styles.touchAction = \"none\") : (t.addView(d), d.styles.touchAction = \"none\");\n    });\n  }\n  r.onViewAdded((d) => {\n    if (r.initialized)\n      if (d.name === \"item\") {\n        l = r.getViews(\"item\");\n        const m = d.getParent(\"slot\");\n        X(m), B(), p = new Map(c), r.emit(nt, { data: J(c) });\n      } else d.name === \"slot\" && (a = r.getViews(\"slot\"));\n  });\n  function B() {\n    const d = U();\n    r.getViews(\"root-child\").forEach((v) => {\n      v.position.setAnimator(d.animator, d.config), v.scale.setAnimator(d.animator, d.config), v.layoutTransition(!0);\n    });\n  }\n  function M() {\n    if (!R) return;\n    if (!f || !V) {\n      const K = h.getScroll();\n      f = R.pointerX - h.position.x + K.x, V = R.pointerY - h.position.y + K.y;\n    }\n    (!T || !C) && (T = h.size.width, C = h.size.height);\n    const d = h.size.width / T, m = h.size.height / C, v = f * (d - 1), j = V * (m - 1), { x: y, y: W } = n.getScrollOffset();\n    h.position.set(\n      {\n        x: R.x - v - (w || 0) + y,\n        y: R.y - j - (b || 0) + W\n      },\n      h.scale.x !== 1 || h.scale.y !== 1\n    );\n  }\n  r.subscribeToEvents((d) => {\n    d.subscribeToEvent(Ke.PointerMoveEvent, ({ x: m, y: v }) => {\n      n && (n.height - v <= i ? S = Math.max(\n        0,\n        e * (1 - Math.min(n.height - v, i) / i)\n      ) : v <= i ? S = -1 * Math.max(\n        0,\n        e * (1 - Math.min(v, i) / i)\n      ) : S = 0, n.width - m <= i ? z = Math.max(\n        0,\n        e * (1 - Math.min(n.width - m, i) / i)\n      ) : m <= i ? z = -1 * Math.max(\n        0,\n        e * (1 - Math.min(m, i) / i)\n      ) : z = 0);\n    });\n  }), r.update(() => {\n    R != null && R.isDragging && O && n.container.scrollBy({ top: S, left: z });\n  });\n  function $(d) {\n    if (!H || !d.hasMoved) return;\n    const m = D().swapMode, v = d.view.name === \"handle\";\n    if (h = v ? d.view.getParent(\"item\") : d.view, A || (A = h.getParent(\"slot\")), w === null && b === null) {\n      const y = v ? d.view.position.initialX - d.view.position.x : 0, W = v ? d.view.position.initialY - d.view.position.y : 0;\n      w = d.view.position.x - h.position.x - y, b = d.view.position.y - h.position.y - W;\n    }\n    const j = a.some(\n      (y) => y.intersects(d.pointerX, d.pointerY)\n    );\n    d.isDragging ? (n.startScrollTracking(), L || (L = !0, r.emit(jt, {})), g === null && (g = new Map(c)), R = d, M(), a.forEach((y) => {\n      var Ct;\n      if (!y.intersects(d.pointerX, d.pointerY)) {\n        y !== A && y.element.removeAttribute(\"data-swapy-highlighted\");\n        return;\n      }\n      if (typeof y.element.dataset.swapyHighlighted > \"u\" && (y.element.dataset.swapyHighlighted = \"\"), !A || (m === \"stop\" || m !== \"drop\" && !Q) && !d.stopped)\n        return;\n      const W = y.element.dataset.swapySlot, K = (Ct = y.getChild(\"item\")) == null ? void 0 : Ct.element.dataset.swapyItem, ct = A.element.dataset.swapySlot, St = h.element.dataset.swapyItem;\n      if (!W || !ct || !St)\n        return;\n      const q = new Map(c);\n      q.set(W, St), K ? q.set(ct, K) : q.set(ct, null), I = Y(new Map(q)), gt(q, p) || (!tt && m !== \"drop\" && I(), A = null, m !== \"drop\" && r.emit(nt, { data: J(q) }));\n    }), l.forEach((y) => {\n      y.styles.zIndex = y === h ? \"2\" : \"\";\n    })) : (a.forEach((y) => {\n      y.element.removeAttribute(\"data-swapy-highlighted\");\n    }), h.position.reset(), A = null, f = null, V = null, T = null, C = null, R = null, w = null, b = null, L = !1, m === \"drop\" && (j || (I = Y(new Map(c))), I(), r.emit(nt, { data: J(c) })), I = () => {\n    }, x = !gt(c, g), r.emit(Xt, {\n      data: J(c),\n      hasChanged: x\n    }), x = !1, g = null, n.endScrollTracking()), requestAnimationFrame(() => {\n      M();\n    });\n  }\n};\nN.pluginName = \"Swapy\";\nN.scope = \"root\";\nlet F;\nfunction Je() {\n  return F ? (F.updatePlugin(N), F) : (F = He(), F.addPlugin(N), F.run(), F);\n}\nconst Qe = {\n  animation: \"dynamic\",\n  continuousMode: !0,\n  manualSwap: !1,\n  swapMode: \"hover\",\n  autoScrollOnDrag: !1\n};\nfunction ti(r) {\n  let t = !0;\n  const e = r.querySelectorAll(\"[data-swapy-slot]\");\n  return e.length === 0 && (console.error(\"There are no slots defined in your root element:\", r), t = !1), e.forEach((i) => {\n    const s = i, n = s.dataset.swapySlot;\n    (!n || n.length === 0) && (console.error(i, \"does not contain a slotId using data-swapy-slot\"), t = !1);\n    const a = s.children;\n    a.length > 1 && (console.error(\n      \"slot:\",\n      `\"${n}\"`,\n      \"cannot contain more than one element\"\n    ), t = !1);\n    const l = a[0];\n    l && (!l.dataset.swapyItem || l.dataset.swapyItem.length === 0) && (console.error(\n      \"slot:\",\n      `\"${n}\"`,\n      \"does not contain an element with item id using data-swapy-item\"\n    ), t = !1);\n  }), t;\n}\nfunction ei(r, t = {}) {\n  const e = Qt();\n  return r.dataset.velPluginKey = e, r.dataset.velPlugin = \"Swapy\", r.dataset.velView = \"root\", r.dataset.velDataConfigAnimation = t.animation, r.dataset.velDataConfigSwapMode = t.swapMode, t.continuousMode && (r.dataset.velDataConfigContinuousMode = \"true\"), t.manualSwap && (r.dataset.velDataConfigManualSwap = \"true\"), Array.from(\n    r.querySelectorAll(\"[data-swapy-slot]\")\n  ).forEach((l) => {\n    l.dataset.velView = \"slot\";\n  }), Array.from(\n    r.querySelectorAll(\"[data-swapy-item]\")\n  ).forEach((l) => {\n    l.dataset.velView = \"item\", l.dataset.velLayoutId = l.dataset.swapyItem;\n    const h = l.querySelector(\"[data-swapy-handle]\");\n    h && (h.dataset.velView = \"handle\");\n  }), Array.from(\n    r.querySelectorAll(\"[data-swapy-text]\")\n  ).forEach((l) => {\n    l.dataset.velLayoutPosition = \"\";\n  }), Array.from(\n    r.querySelectorAll(\"[data-swapy-exclude]\")\n  ).forEach((l) => {\n    l.dataset.velIgnore = \"\";\n  }), e;\n}\nfunction ii(r) {\n  const t = Array.from(\n    r.querySelectorAll(\"[data-swapy-slot]:not([data-vel-view])\")\n  );\n  t.forEach((i) => {\n    i.dataset.velView = \"slot\";\n  });\n  const e = Array.from(\n    r.querySelectorAll(\"[data-swapy-item]:not([data-vel-view])\")\n  );\n  return e.forEach((i) => {\n    i.dataset.velView = \"item\", i.dataset.velLayoutId = i.dataset.swapyItem;\n    const s = i.querySelector(\"[data-swapy-handle]\");\n    s && (s.dataset.velView = \"handle\"), Array.from(\n      i.querySelectorAll(\"[data-swapy-text]\")\n    ).forEach((l) => {\n      l.dataset.velLayoutPosition = \"\";\n    }), Array.from(\n      i.querySelectorAll(\"[data-swapy-exclude]\")\n    ).forEach((l) => {\n      l.dataset.velIgnore = \"\";\n    });\n  }), e.length > 0 || t.length > 0;\n}\nfunction ri(r, t = {}) {\n  if (!r)\n    throw new Error(\n      \"Cannot create a Swapy instance because the element you provided does not exist on the page!\"\n    );\n  const e = { ...Qe, ...t }, i = r;\n  if (!ti(i))\n    throw new Error(\n      \"Cannot create a Swapy instance because your HTML structure is invalid. Fix all above errors and then try!\"\n    );\n  const s = ei(i, e), n = new si(i, s, e);\n  return {\n    onSwap(a) {\n      n.setSwapCallback(a);\n    },\n    onSwapEnd(a) {\n      n.setSwapEndCallback(a);\n    },\n    onSwapStart(a) {\n      n.setSwapStartCallback(a);\n    },\n    enable(a) {\n      n.setEnabled(a);\n    },\n    destroy() {\n      n.destroy();\n    },\n    setData(a) {\n      n.setData(a);\n    }\n  };\n}\nclass si {\n  constructor(t, e, i) {\n    P(this, \"_rootEl\");\n    P(this, \"_veloxiApp\");\n    P(this, \"_slotElMap\");\n    P(this, \"_itemElMap\");\n    P(this, \"_swapCallback\");\n    P(this, \"_swapEndCallback\");\n    P(this, \"_swapStartCallback\");\n    P(this, \"_previousMap\");\n    P(this, \"_pluginKey\");\n    this._rootEl = t, this._veloxiApp = Je(), this._slotElMap = this._createSlotElMap(), this._itemElMap = this._createItemElMap(), this.setAutoScrollOnDrag(i.autoScrollOnDrag), this._pluginKey = e, this._veloxiApp.onPluginEvent(\n      N,\n      Kt,\n      ({ data: s }) => {\n        this._previousMap = s.map;\n      },\n      e\n    ), this._veloxiApp.onPluginEvent(\n      N,\n      nt,\n      (s) => {\n        var n;\n        this._previousMap && gt(this._previousMap, s.data.map) || (i.manualSwap || this._applyOrder(s.data.map), this._previousMap = s.data.map, (n = this._swapCallback) == null || n.call(this, s));\n      },\n      e\n    ), this._veloxiApp.onPluginEvent(\n      N,\n      Xt,\n      (s) => {\n        var n;\n        (n = this._swapEndCallback) == null || n.call(this, s);\n      },\n      e\n    ), this._veloxiApp.onPluginEvent(\n      N,\n      jt,\n      () => {\n        var s;\n        (s = this._swapStartCallback) == null || s.call(this);\n      },\n      e\n    ), this.setupMutationObserver();\n  }\n  setupMutationObserver() {\n    new MutationObserver((e) => {\n      e.some((i) => i.type === \"childList\") && ii(this._rootEl) && (this._slotElMap = this._createSlotElMap(), this._itemElMap = this._createItemElMap());\n    }).observe(this._rootEl, {\n      childList: !0,\n      subtree: !0\n    });\n  }\n  setData(t) {\n    try {\n      this._veloxiApp.getPlugin(\n        \"Swapy\",\n        this._pluginKey\n      ).setData(t);\n    } catch {\n    }\n  }\n  destroy() {\n    this._veloxiApp.destroy(\"Swapy\");\n  }\n  setEnabled(t) {\n    requestAnimationFrame(() => {\n      try {\n        this._veloxiApp.getPlugin(\n          \"Swapy\",\n          this._pluginKey\n        ).setEnabled(t);\n      } catch {\n      }\n    });\n  }\n  setAutoScrollOnDrag(t) {\n    requestAnimationFrame(() => {\n      try {\n        this._veloxiApp.getPlugin(\n          \"Swapy\",\n          this._pluginKey\n        ).setAutoScrollOnDrag(t);\n      } catch {\n      }\n    });\n  }\n  setSwapCallback(t) {\n    this._swapCallback = t;\n  }\n  setSwapEndCallback(t) {\n    this._swapEndCallback = t;\n  }\n  setSwapStartCallback(t) {\n    this._swapStartCallback = t;\n  }\n  _applyOrder(t) {\n    Array.from(t.keys()).forEach((e) => {\n      var a;\n      if (t.get(e) === ((a = this._previousMap) == null ? void 0 : a.get(e)))\n        return;\n      const i = t.get(e);\n      if (!i) return;\n      const s = this._slotElMap.get(e), n = this._itemElMap.get(i);\n      !s || !n || (s.innerHTML = \"\", s.appendChild(n));\n    });\n  }\n  _createSlotElMap() {\n    return Array.from(\n      this._rootEl.querySelectorAll(\"[data-swapy-slot]\")\n    ).reduce((t, e) => (t.set(e.dataset.swapySlot, e), t), /* @__PURE__ */ new Map());\n  }\n  _createItemElMap() {\n    return Array.from(\n      this._rootEl.querySelectorAll(\"[data-swapy-item]\")\n    ).reduce((t, e) => (t.set(e.dataset.swapyItem, e), t), /* @__PURE__ */ new Map());\n  }\n}\nexport {\n  ri as createSwapy\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}