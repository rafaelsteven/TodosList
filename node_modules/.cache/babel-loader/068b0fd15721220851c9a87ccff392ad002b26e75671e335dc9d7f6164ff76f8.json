{"ast":null,"code":"import _toConsumableArray from\"C:/xampp/htdocs/TodosList/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/xampp/htdocs/TodosList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useLocalStorage}from\"./UseLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var TodoContext=/*#__PURE__*/React.createContext();function TodoProvider(_ref){var children=_ref.children;var _useLocalStorage=useLocalStorage('TODOS_V1',[]),todos=_useLocalStorage.item,saveTodos=_useLocalStorage.saveItem,loading=_useLocalStorage.loading,error=_useLocalStorage.error;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),searchValue=_React$useState2[0],setSearchValue=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openModal=_React$useState4[0],setOpenModal=_React$useState4[1];var _React$useState5=React.useState('titulo'),_React$useState6=_slicedToArray(_React$useState5,2),titleModal=_React$useState6[0],setTitleModal=_React$useState6[1];var todosCompleted=todos.filter(function(todo){return todo.completed;}).length;var totalTodos=todos.length;var searchTodos=todos.filter(function(todo){return todo.text.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase());});var deleteTodo=function deleteTodo(text){var newTodos=_toConsumableArray(todos);var todoIndex=newTodos.findIndex(function(todo){return todo.text===text;});newTodos.splice(todoIndex,1);saveTodos(newTodos);};var completeTodos=function completeTodos(text){var newTodos=_toConsumableArray(todos);var todoIndex=newTodos.findIndex(function(todo){return todo.text===text;});newTodos[todoIndex].completed=true;saveTodos(newTodos);};var actionModal=function actionModal(statusModal,text_title){setOpenModal(statusModal);if(text_title)setTitleModal(text_title);else setTitleModal('');};var addTodo=function addTodo(text){// const data = {\n//    text: text, completed: false\n// };\n// const newTodos = [...todos,data];\nvar newTodos=_toConsumableArray(todos);newTodos.push({text:text,completed:false});saveTodos(newTodos);};return/*#__PURE__*/_jsx(TodoContext.Provider,{value:{todosCompleted:todosCompleted,totalTodos:totalTodos,searchValue:searchValue,setSearchValue:setSearchValue,searchTodos:searchTodos,completeTodos:completeTodos,deleteTodo:deleteTodo,loading:loading,error:error,openModal:openModal,setOpenModal:setOpenModal,actionModal:actionModal,titleModal:titleModal,addTodo:addTodo},children:children});}export{TodoContext,TodoProvider};","map":{"version":3,"names":["React","useLocalStorage","TodoContext","createContext","TodoProvider","children","todos","item","saveTodos","saveItem","loading","error","useState","searchValue","setSearchValue","openModal","setOpenModal","titleModal","setTitleModal","todosCompleted","filter","todo","completed","length","totalTodos","searchTodos","text","toLocaleLowerCase","includes","deleteTodo","newTodos","todoIndex","findIndex","splice","completeTodos","actionModal","statusModal","text_title","addTodo","push"],"sources":["C:/xampp/htdocs/TodosList/src/todosComp/TodoProvider/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocalStorage } from \"./UseLocalStorage\";\r\nconst TodoContext = React.createContext();\r\n\r\nfunction TodoProvider({children})\r\n{\r\n    const {\r\n        item: todos,\r\n        saveItem: saveTodos,\r\n        loading,\r\n        error\r\n      } = useLocalStorage('TODOS_V1',[]);\r\n    const [searchValue, setSearchValue] = React.useState('');\r\n    const [openModal,setOpenModal] = React.useState(false);\r\n    const [titleModal,setTitleModal] = React.useState('titulo');\r\n    \r\n    const todosCompleted = todos.filter(todo => todo.completed ).length;\r\n    const totalTodos = todos.length;\r\n    const searchTodos = todos.filter(todo => {\r\n      return todo.text.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase())\r\n    });\r\n  \r\n  \r\n    const deleteTodo = (text) => {\r\n      const newTodos = [...todos];\r\n      const todoIndex = newTodos.findIndex(\r\n        (todo) => todo.text === text\r\n      );\r\n      newTodos.splice(todoIndex, 1);\r\n      saveTodos(newTodos);\r\n    };\r\n  \r\n    \r\n    const completeTodos = (text) =>{\r\n      const newTodos = [...todos];\r\n      const todoIndex = newTodos.findIndex(\r\n        (todo) => todo.text === text\r\n      );\r\n  \r\n      newTodos[todoIndex].completed = true;\r\n      saveTodos(newTodos);\r\n    };\r\n\r\n    const actionModal= (statusModal,text_title) =>{\r\n      setOpenModal(statusModal);\r\n      if(text_title)\r\n        setTitleModal(text_title);\r\n      else\r\n        setTitleModal('');\r\n        \r\n    };\r\n\r\n    const addTodo = (text) =>{\r\n\r\n      // const data = {\r\n      //    text: text, completed: false\r\n      // };\r\n      // const newTodos = [...todos,data];\r\n      const newTodos = [...todos];\r\n      newTodos.push(\r\n        {\r\n          text,\r\n          completed: false\r\n        }\r\n      );\r\n      saveTodos(newTodos);\r\n    };\r\n    return(\r\n        <TodoContext.Provider \r\n        value={{\r\n            todosCompleted,\r\n            totalTodos,\r\n            searchValue,\r\n            setSearchValue,\r\n            searchTodos,\r\n            completeTodos,\r\n            deleteTodo,\r\n            loading,\r\n            error,\r\n            openModal,\r\n            setOpenModal,\r\n            actionModal,\r\n            titleModal,\r\n            addTodo\r\n            }}>\r\n                {children}\r\n        </TodoContext.Provider>\r\n    );\r\n}\r\n\r\nexport {TodoContext,TodoProvider};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}